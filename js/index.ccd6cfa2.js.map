{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MessageItem.module.scss?4da1","webpack:///./src/utils/im.ts","webpack:///./src/utils/imStatus.ts","webpack:///./src/components/StatusView.tsx","webpack:///./src/utils/imMessages.ts","webpack:///./src/utils/libChatRoom.ts","webpack:///./src/components/MessageItem.tsx","webpack:///./src/components/MessagesView.tsx","webpack:///./src/views/HomeView.tsx","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.tsx","webpack:///./src/components/MessagesView.module.scss?8178","webpack:///./src/components/StatusView.module.scss?fbd3","webpack:///./src/views/HomeView.module.scss?6a48"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","im","appkey","logLevel","imStatusReplaySubject","ReplaySubject","watch","status","next","pipe","map","CONNECTED","CONNECTING","DISCONNECTED","NETWORK_UNAVAILABLE","CONNECTION_CLOSED","KICKED_OFFLINE_BY_OTHER_CLIENT","WEBSOCKET_UNAVAILABLE","WEBSOCKET_ERROR","BLOCKED","DOMAIN_INCORRECT","APPKEY_IS_FAKE","ULTRALIMIT","REQUEST_NAVI","RESPONSE_NAVI","RESPONSE_NAVI_ERROR","RESPONSE_NAVI_TIMEOUT","StatusView","imStatusRef","statusClass","warning","statusMess","subscribe","messagesSubject","Subject","message","filter","mess","type","joinChatRoom","id","chatRoom","ChatRoom","join","count","sendTextMsg","text","send","messageType","TEXT","content","MessageBasicItem","_","slots","basicItem","headPhoto","default","TextMessageItem","props","required","setup","textContent","messagesRef","messagesView","inputRef","sendMessage","undefined","homeView","backgroundColor","ev","target","routes","path","component","router","history","state","mutations","actions","App","initApp","connect","token","use","store","mount"],"mappings":"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","file":"js/index.ccd6cfa2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basicItem\":\"MessageItem-module_basic-item_2Phx1\",\"headPhoto\":\"MessageItem-module_head-photo_EE1c2\",\"textContent\":\"MessageItem-module_text-content_3pxuJ\"};","import { init } from \"@rongcloud/imlib-v4\";\n\n// 应用初始化以获取 RongIMLib 实例对象，请务必保证此过程只被执行一次\nexport const im = init({\n  appkey: \"pvxdm17jx2xer\",\n  logLevel: 0\n});\n","import { ConnectionStatus } from \"@rongcloud/imlib-v4\";\nimport { ReplaySubject } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { im } from \"./im\";\n\n/// 连接状态\nexport const imStatusReplaySubject = new ReplaySubject<ConnectionStatus>(1);\n\nim.watch({\n  status({ status }) {\n    imStatusReplaySubject.next(status);\n  }\n});\n\n/// 是否连接完成\nexport const imStatusIsSuccess = imStatusReplaySubject.pipe(\n  map(status => status === ConnectionStatus.CONNECTED)\n);\n\nexport const getStatusDesc = (status: ConnectionStatus) => {\n  switch (status) {\n    case ConnectionStatus.CONNECTED:\n      return \"连接成功\";\n    case ConnectionStatus.CONNECTING:\n      return \"连接中\";\n    case ConnectionStatus.DISCONNECTED:\n      return \"正常断开连接\";\n    case ConnectionStatus.NETWORK_UNAVAILABLE:\n      return \"网络不可用\";\n    case ConnectionStatus.CONNECTION_CLOSED:\n      return \"连接关闭\";\n    case ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:\n      return \"用户账户在其他设备登录，本机会被踢掉线\";\n    case ConnectionStatus.WEBSOCKET_UNAVAILABLE:\n      return \"websocket 连接失败\";\n    case ConnectionStatus.WEBSOCKET_ERROR:\n      return \"websocket 报错\";\n    case ConnectionStatus.BLOCKED:\n      return \"用户被封禁\";\n    case ConnectionStatus.DOMAIN_INCORRECT:\n      return \"域名错误\";\n    case ConnectionStatus.APPKEY_IS_FAKE:\n      return \"appkey 不正确\";\n    case ConnectionStatus.ULTRALIMIT:\n      return \"互踢次数过多（`count > 5`），此时可能出现：在其它他设备登陆有 reconnect 逻辑\";\n    case ConnectionStatus.REQUEST_NAVI:\n      return \"开始请求导航\";\n    case ConnectionStatus.RESPONSE_NAVI:\n      return \"请求导航结束\";\n    case ConnectionStatus.RESPONSE_NAVI_ERROR:\n      return \" 请求导航失败\";\n    case ConnectionStatus.RESPONSE_NAVI_TIMEOUT:\n      return \" 请求导航超时\";\n  }\n};\n\nexport const getStatusMode = (\n  status: ConnectionStatus\n): \"success\" | \"error\" | \"warning\" => {\n  if (status === ConnectionStatus.CONNECTED) return \"success\";\n  if (status === ConnectionStatus.CONNECTING) return \"warning\";\n  return \"error\";\n};\n","import {\n  getStatusDesc,\n  getStatusMode,\n  imStatusReplaySubject\n} from \"@/utils/imStatus\";\nimport { ConnectionStatus } from \"@rongcloud/imlib-v4\";\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport Style from \"./StatusView.module.scss\";\n\nexport const StatusView = defineComponent(() => {\n  const imStatusRef = ref<{ statusMess: string; statusClass: string }>({\n    statusClass: Style.warning,\n    statusMess: getStatusDesc(ConnectionStatus.CONNECTING)\n  });\n\n  onMounted(() => {\n    imStatusReplaySubject.subscribe({\n      next(status) {\n        imStatusRef.value = {\n          statusClass: Style[getStatusMode(status)],\n          statusMess: getStatusDesc(status)\n        };\n      }\n    });\n  });\n\n  return () => {\n    return (\n      <div\n        class={imStatusRef.value.statusClass}\n        title={imStatusRef.value.statusMess}\n      ></div>\n    );\n  };\n});\n","import { Subject } from \"rxjs\";\nimport { filter } from \"rxjs/operators\";\nimport { im } from \"./im\";\nimport { IReceivedMessageV3 } from \"./imType\";\n\nexport const messagesSubject = new Subject<IReceivedMessageV3>();\n\nim.watch({\n  message({ message }) {\n    messagesSubject.next(message);\n  }\n});\n\nexport const chatRoomMessageObservable = messagesSubject.pipe(\n  filter(mess => mess.type === 4)\n);\n","import { im } from \"./im\";\nimport { MESSAGE_TYPE } from \"@rongcloud/imlib-v4\";\nimport { messagesSubject } from \"./imMessages\";\nimport { Chatroom } from \"./imType\";\n\nexport const joinChatRoom = async (id: string) => {\n  const chatRoom = im.ChatRoom.get({ id });\n  await chatRoom.join({ count: 2 });\n  return chatRoom;\n};\n\nexport const sendTextMsg = async (text: string, chatRoom: Chatroom) => {\n  const message = await chatRoom.send({\n    messageType: MESSAGE_TYPE.TEXT,\n    content: {\n      content: text\n    }\n  });\n  messagesSubject.next(message);\n};\n","import { IReceivedMessageV3 } from \"@/utils/imType\";\nimport { MESSAGE_TYPE } from \"@rongcloud/imlib-v4\";\nimport { defineComponent, PropType } from \"vue\";\nimport Style from \"./MessageItem.module.scss\";\n\nconst MessageBasicItem = defineComponent((_, { slots }) => {\n  return () => {\n    return (\n      <div class={Style.basicItem}>\n        <img\n          class={Style.headPhoto}\n          src=\"http://pic.962.net/up/2020-2/15816677587259703.jpg\"\n        />\n        {slots.default!()}\n      </div>\n    );\n  };\n});\n\nconst TextMessageItem = defineComponent({\n  props: {\n    message: {\n      type: Object as PropType<IReceivedMessageV3>,\n      required: true\n    }\n  },\n  setup: props => {\n    return () => {\n      return (\n        <MessageBasicItem>\n          <span class={Style.textContent}>\n            {(props.message.content as any).content}\n          </span>\n        </MessageBasicItem>\n      );\n    };\n  }\n});\n\nexport default defineComponent({\n  props: {\n    message: {\n      type: Object as PropType<IReceivedMessageV3>,\n      required: true\n    }\n  },\n  setup: props => {\n    return () => {\n      switch (props.message.messageType) {\n        case MESSAGE_TYPE.TEXT:\n          return <TextMessageItem message={props.message} />;\n        default:\n          return <div>无</div>;\n      }\n    };\n  }\n});\n","import { messagesSubject } from \"@/utils/imMessages\";\nimport { defineComponent, ref } from \"vue\";\nimport Style from \"./MessagesView.module.scss\";\nimport MessageItem from \"./MessageItem\";\nimport { IReceivedMessageV3 } from \"@/utils/imType\";\n\nexport default defineComponent(() => {\n  const messagesRef = ref<IReceivedMessageV3[]>([]);\n\n  messagesSubject.subscribe({\n    next(message) {\n      messagesRef.value.push(message);\n    }\n  });\n\n  return () => {\n    return (\n      <div class={Style.messagesView}>\n        {messagesRef.value.map(message => (\n          <MessageItem message={message} />\n        ))}\n      </div>\n    );\n  };\n});\n","import { StatusView } from \"@/components/StatusView\";\nimport { joinChatRoom, sendTextMsg } from \"@/utils/libChatRoom\";\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport Style from \"./HomeView.module.scss\";\nimport MessagesView from \"../components/MessagesView\";\nimport { Chatroom } from \"@/utils/imType\";\n\nexport default defineComponent(() => {\n  const chatRoom = ref<Chatroom>();\n\n  onMounted(async () => {\n    chatRoom.value = await joinChatRoom(\"1\");\n  });\n\n  const inputRef = ref<string>(\"\");\n\n  const sendMessage = () => {\n    if (chatRoom.value === undefined) {\n      return;\n    }\n    sendTextMsg(inputRef.value, chatRoom.value);\n  };\n\n  return () => {\n    return (\n      <div class={Style.homeView}>\n        <StatusView></StatusView>\n        <MessagesView />\n        <div style={{ backgroundColor: \"red\" }}>\n          <input\n            type=\"text\"\n            onInput={ev => (inputRef.value = (ev.target as any).value)}\n          />\n          <button onClick={sendMessage}>发送</button>\n        </div>\n      </div>\n    );\n  };\n});\n","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport Home from \"../views/HomeView\";\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Home\n  }\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {}\n});\n","import { createApp, defineComponent } from \"vue\";\nimport { RouterView } from \"vue-router\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport \"@/styles\";\nimport { im } from \"./utils/im\";\n\nexport const App = defineComponent({\n  name: \"app\",\n  setup: () => {\n    return () => {\n      return <RouterView />;\n    };\n  }\n});\n\nconst initApp = async () => {\n  await im.connect({\n    token:\n      \"fRptva34YoRS6pIwg4jhSGlD/L5vIfcpG4ByHpeeDVs=@3uzh.cn.rongnav.com;3uzh.cn.rongcfg.com\"\n  });\n\n  createApp(App)\n    .use(store)\n    .use(router)\n    .mount(\"#app\");\n};\n\ninitApp();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesView\":\"MessagesView-module_messages-view_ctmQ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"StatusView-module_block_3Vggn\",\"warning\":\"StatusView-module_warning_1TIMf\",\"success\":\"StatusView-module_success_1RGBj\",\"error\":\"StatusView-module_error_m0X40\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeView\":\"HomeView-module_home-view_2VtBt\"};"],"sourceRoot":""}