(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"063a":function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Ls})),n.d(t,"b",(function(){return xa})),n.d(t,"c",(function(){return bu}));var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function o(e){var t={exports:{}};return e(t,t.exports),t.exports}var s=function(e){return e&&e.Math==Math&&e},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i&&i)||function(){return this}()||Function("return this")(),c=function(e){try{return!!e()}catch(e){return!0}},u=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,f={f:h&&!l.call({1:2},1)?function(e){var t=h(this,e);return!!t&&t.enumerable}:l},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,m=function(e){return p.call(e).slice(8,-1)},y="".split,v=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==m(e)?y.call(e,""):Object(e)}:Object,_=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},E=function(e){return v(_(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},C=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},S={}.hasOwnProperty,T=function(e,t){return S.call(e,t)},R=a.document,w=b(R)&&b(R.createElement),I=function(e){return w?R.createElement(e):{}},O=!u&&!c((function(){return 7!=Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a})),N=Object.getOwnPropertyDescriptor,M={f:u?N:function(e,t){if(e=E(e),t=C(t,!0),O)try{return N(e,t)}catch(e){}if(T(e,t))return d(!f.f.call(e,t),e[t])}},x=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,A={f:u?P:function(e,t,n){if(x(e),t=C(t,!0),x(n),O)try{return P(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},U=u?function(e,t,n){return A.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},L=function(e,t){try{U(a,e,t)}catch(s){a[e]=t}return t},k=a["__core-js_shared__"]||L("__core-js_shared__",{}),j=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(e){return j.call(e)});var D,V,B,F=k.inspectSource,q=a.WeakMap,G="function"==typeof q&&/native code/.test(F(q)),Y=o((function(e){(e.exports=function(e,t){return k[e]||(k[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),H=0,$=Math.random(),K=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++H+$).toString(36)},W=Y("keys"),z=function(e){return W[e]||(W[e]=K(e))},Q={},J=a.WeakMap;if(G){var Z=k.state||(k.state=new J),X=Z.get,ee=Z.has,te=Z.set;D=function(e,t){return t.facade=e,te.call(Z,e,t),t},V=function(e){return X.call(Z,e)||{}},B=function(e){return ee.call(Z,e)}}else{var ne=z("state");Q[ne]=!0,D=function(e,t){return t.facade=e,U(e,ne,t),t},V=function(e){return T(e,ne)?e[ne]:{}},B=function(e){return T(e,ne)}}var re={set:D,get:V,has:B,enforce:function(e){return B(e)?V(e):D(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=V(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ie=o((function(e){var t=re.get,n=re.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var s,c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||T(i,"name")||U(i,"name",t),(s=n(i)).source||(s.source=r.join("string"==typeof t?t:""))),e!==a?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=i:U(e,t,i)):u?e[t]=i:L(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||F(this)}))})),oe=a,se=function(e){return"function"==typeof e?e:void 0},ae=function(e,t){return arguments.length<2?se(oe[e])||se(a[e]):oe[e]&&oe[e][t]||a[e]&&a[e][t]},ce=Math.ceil,ue=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ue:ce)(e)},he=Math.min,fe=function(e){return e>0?he(le(e),9007199254740991):0},de=Math.max,pe=Math.min,ge=function(e){return function(t,n,r){var i,o=E(t),s=fe(o.length),a=function(e,t){var n=le(e);return n<0?de(n+t,0):pe(n,t)}(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},me={includes:ge(!0),indexOf:ge(!1)},ye=me.indexOf,ve=function(e,t){var n,r=E(e),i=0,o=[];for(n in r)!T(Q,n)&&T(r,n)&&o.push(n);for(;t.length>i;)T(r,n=t[i++])&&(~ye(o,n)||o.push(n));return o},_e=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ee=_e.concat("length","prototype"),be={f:Object.getOwnPropertyNames||function(e){return ve(e,Ee)}},Ce={f:Object.getOwnPropertySymbols},Se=ae("Reflect","ownKeys")||function(e){var t=be.f(x(e)),n=Ce.f;return n?t.concat(n(e)):t},Te=function(e,t){for(var n=Se(t),r=A.f,i=M.f,o=0;o<n.length;o++){var s=n[o];T(e,s)||r(e,s,i(t,s))}},Re=/#|\.prototype\./,we=function(e,t){var n=Oe[Ie(e)];return n==Me||n!=Ne&&("function"==typeof t?c(t):!!t)},Ie=we.normalize=function(e){return String(e).replace(Re,".").toLowerCase()},Oe=we.data={},Ne=we.NATIVE="N",Me=we.POLYFILL="P",xe=we,Pe=M.f,Ae=function(e,t){var n,r,i,o,s,c=e.target,u=e.global,l=e.stat;if(n=u?a:l?a[c]||L(c,{}):(a[c]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=Pe(n,r))&&s.value:n[r],!xe(u?r:c+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Te(o,i)}(e.sham||i&&i.sham)&&U(o,"sham",!0),ie(n,r,o,e)}},Ue=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Le=function(e,t,n){if(Ue(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},ke=function(e){return Object(_(e))},je=Array.isArray||function(e){return"Array"==m(e)},De=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),Ve=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Be=Y("wks"),Fe=a.Symbol,qe=Ve?Fe:Fe&&Fe.withoutSetter||K,Ge=function(e){return T(Be,e)||(De&&T(Fe,e)?Be[e]=Fe[e]:Be[e]=qe("Symbol."+e)),Be[e]},Ye=Ge("species"),He=function(e,t){var n;return je(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!je(n.prototype)?b(n)&&null===(n=n[Ye])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},$e=[].push,Ke=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,u,l,h){for(var f,d,p=ke(c),g=v(p),m=Le(u,l,3),y=fe(g.length),_=0,E=h||He,b=t?E(c,y):n||s?E(c,0):void 0;y>_;_++)if((a||_ in g)&&(d=m(f=g[_],_,p),e))if(t)b[_]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return _;case 2:$e.call(b,f)}else switch(e){case 4:return!1;case 7:$e.call(b,f)}return o?-1:r||i?i:b}},We={forEach:Ke(0),map:Ke(1),filter:Ke(2),some:Ke(3),every:Ke(4),find:Ke(5),findIndex:Ke(6),filterOut:Ke(7)},ze=function(e,t){var n=[][e];return!!n&&c((function(){n.call(null,t||function(){throw 1},1)}))},Qe=Object.defineProperty,Je={},Ze=function(e){throw e},Xe=function(e,t){if(T(Je,e))return Je[e];t||(t={});var n=[][e],r=!!T(t,"ACCESSORS")&&t.ACCESSORS,i=T(t,0)?t[0]:Ze,o=T(t,1)?t[1]:void 0;return Je[e]=!!n&&!c((function(){if(r&&!u)return!0;var e={length:-1};r?Qe(e,1,{enumerable:!0,get:Ze}):e[1]=1,n.call(e,i,o)}))},et=We.every,tt=ze("every"),nt=Xe("every");Ae({target:"Array",proto:!0,forced:!tt||!nt},{every:function(e){return et(this,e,arguments.length>1?arguments[1]:void 0)}});var rt=We.forEach,it=ze("forEach"),ot=Xe("forEach"),st=it&&ot?[].forEach:function(e){return rt(this,e,arguments.length>1?arguments[1]:void 0)};Ae({target:"Array",proto:!0,forced:[].forEach!=st},{forEach:st});var at,ct,ut=ae("navigator","userAgent")||"",lt=a.process,ht=lt&&lt.versions,ft=ht&&ht.v8;ft?ct=(at=ft.split("."))[0]+at[1]:ut&&(!(at=ut.match(/Edge\/(\d+)/))||at[1]>=74)&&(at=ut.match(/Chrome\/(\d+)/))&&(ct=at[1]);var dt=ct&&+ct,pt=Ge("species"),gt=function(e){return dt>=51||!c((function(){var t=[];return(t.constructor={})[pt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},mt=We.map,yt=gt("map"),vt=Xe("map");Ae({target:"Array",proto:!0,forced:!yt||!vt},{map:function(e){return mt(this,e,arguments.length>1?arguments[1]:void 0)}});var _t={};_t[Ge("toStringTag")]="z";var Et="[object z]"===String(_t),bt=Ge("toStringTag"),Ct="Arguments"==m(function(){return arguments}()),St=Et?m:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),bt))?n:Ct?m(t):"Object"==(r=m(t))&&"function"==typeof t.callee?"Arguments":r},Tt=Et?{}.toString:function(){return"[object "+St(this)+"]"};Et||ie(Object.prototype,"toString",Tt,{unsafe:!0});var Rt=a.Promise,wt=A.f,It=Ge("toStringTag"),Ot=function(e,t,n){e&&!T(e=n?e:e.prototype,It)&&wt(e,It,{configurable:!0,value:t})},Nt=Ge("species"),Mt={},xt=Ge("iterator"),Pt=Array.prototype,At=Ge("iterator"),Ut=function(e){var t=e.return;if(void 0!==t)return x(t.call(e)).value},Lt=function(e,t){this.stopped=e,this.result=t},kt=function(e,t,n){var r,i,o,s,a,c,u,l,h=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=Le(t,h,1+f+p),m=function(e){return r&&Ut(r),new Lt(!0,e)},y=function(e){return f?(x(e),p?g(e[0],e[1],m):g(e[0],e[1])):p?g(e,m):g(e)};if(d)r=e;else{if("function"!=typeof(i=function(e){if(null!=e)return e[At]||e["@@iterator"]||Mt[St(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(Mt.Array===l||Pt[xt]===l)){for(o=0,s=fe(e.length);s>o;o++)if((a=y(e[o]))&&a instanceof Lt)return a;return new Lt(!1)}r=i.call(e)}for(c=r.next;!(u=c.call(r)).done;){try{a=y(u.value)}catch(e){throw Ut(r),e}if("object"==typeof a&&a&&a instanceof Lt)return a}return new Lt(!1)},jt=Ge("iterator"),Dt=!1;try{var Vt=0,Bt={next:function(){return{done:!!Vt++}},return:function(){Dt=!0}};Bt[jt]=function(){return this},Array.from(Bt,(function(){throw 2}))}catch(i){}var Ft,qt,Gt,Yt=Ge("species"),Ht=ae("document","documentElement"),$t=/(iphone|ipod|ipad).*applewebkit/i.test(ut),Kt="process"==m(a.process),Wt=a.location,zt=a.setImmediate,Qt=a.clearImmediate,Jt=a.process,Zt=a.MessageChannel,Xt=a.Dispatch,en=0,tn={},nn=function(e){if(tn.hasOwnProperty(e)){var t=tn[e];delete tn[e],t()}},rn=function(e){return function(){nn(e)}},on=function(e){nn(e.data)},sn=function(e){a.postMessage(e+"",Wt.protocol+"//"+Wt.host)};zt&&Qt||(zt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return tn[++en]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Ft(en),en},Qt=function(e){delete tn[e]},Kt?Ft=function(e){Jt.nextTick(rn(e))}:Xt&&Xt.now?Ft=function(e){Xt.now(rn(e))}:Zt&&!$t?(Gt=(qt=new Zt).port2,qt.port1.onmessage=on,Ft=Le(Gt.postMessage,Gt,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&Wt&&"file:"!==Wt.protocol&&!c(sn)?(Ft=sn,a.addEventListener("message",on,!1)):Ft="onreadystatechange"in I("script")?function(e){Ht.appendChild(I("script")).onreadystatechange=function(){Ht.removeChild(this),nn(e)}}:function(e){setTimeout(rn(e),0)});var an,cn,un,ln,hn,fn,dn,pn,gn={set:zt,clear:Qt},mn=/web0s(?!.*chrome)/i.test(ut),yn=M.f,vn=gn.set,_n=a.MutationObserver||a.WebKitMutationObserver,En=a.document,bn=a.process,Cn=a.Promise,Sn=yn(a,"queueMicrotask"),Tn=Sn&&Sn.value;Tn||(an=function(){var e,t;for(Kt&&(e=bn.domain)&&e.exit();cn;){t=cn.fn,cn=cn.next;try{t()}catch(e){throw cn?ln():un=void 0,e}}un=void 0,e&&e.enter()},$t||Kt||mn||!_n||!En?Cn&&Cn.resolve?(dn=Cn.resolve(void 0),pn=dn.then,ln=function(){pn.call(dn,an)}):ln=Kt?function(){bn.nextTick(an)}:function(){vn.call(a,an)}:(hn=!0,fn=En.createTextNode(""),new _n(an).observe(fn,{characterData:!0}),ln=function(){fn.data=hn=!hn}));var Rn,wn,In,On,Nn,Mn=Tn||function(e){var t={fn:e,next:void 0};un&&(un.next=t),cn||(cn=t,ln()),un=t},xn=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ue(t),this.reject=Ue(n)},Pn={f:function(e){return new xn(e)}},An=function(e,t){if(x(e),b(t)&&t.constructor===e)return t;var n=Pn.f(e);return(0,n.resolve)(t),n.promise},Un=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ln=gn.set,kn=Ge("species"),jn="Promise",Dn=re.get,Vn=re.set,Bn=re.getterFor(jn),Fn=Rt,qn=a.TypeError,Gn=a.document,Yn=a.process,Hn=ae("fetch"),$n=Pn.f,Kn=$n,Wn=!!(Gn&&Gn.createEvent&&a.dispatchEvent),zn="function"==typeof PromiseRejectionEvent,Qn=xe(jn,(function(){if(F(Fn)===String(Fn)){if(66===dt)return!0;if(!Kt&&!zn)return!0}if(dt>=51&&/native code/.test(Fn))return!1;var e=Fn.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[kn]=t,!(e.then((function(){}))instanceof t)})),Jn=Qn||!function(e,t){if(!t&&!Dt)return!1;var n=!1;try{var r={};r[jt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){Fn.all(e).catch((function(){}))})),Zn=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},Xn=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;Mn((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,f=u.reject,d=u.domain;try{l?(i||(2===e.rejection&&rr(e),e.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?f(qn("Promise-chain cycle")):(a=Zn(s))?a.call(s,h,f):h(s)):f(r)}catch(e){d&&!c&&d.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&tr(e)}))}},er=function(e,t,n){var r,i;Wn?((r=Gn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},!zn&&(i=a["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},tr=function(e){Ln.call(a,(function(){var t,n=e.facade,r=e.value;if(nr(e)&&(t=Un((function(){Kt?Yn.emit("unhandledRejection",r,n):er("unhandledrejection",n,r)})),e.rejection=Kt||nr(e)?2:1,t.error))throw t.value}))},nr=function(e){return 1!==e.rejection&&!e.parent},rr=function(e){Ln.call(a,(function(){var t=e.facade;Kt?Yn.emit("rejectionHandled",t):er("rejectionhandled",t,e.value)}))},ir=function(e,t,n){return function(r){e(t,r,n)}},or=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Xn(e,!0))},sr=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw qn("Promise can't be resolved itself");var r=Zn(t);r?Mn((function(){var n={done:!1};try{r.call(t,ir(sr,n,e),ir(or,n,e))}catch(t){or(n,t,e)}})):(e.value=t,e.state=1,Xn(e,!1))}catch(t){or({done:!1},t,e)}}};function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){cr(o,r,i,s,a,"next",e)}function a(e){cr(o,r,i,s,a,"throw",e)}s(void 0)}))}}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mr(e){return function(e){if(Array.isArray(e))return yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Qn&&(Fn=function(e){!function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,Fn,jn),Ue(e),Rn.call(this);var t=Dn(this);try{e(ir(sr,t),ir(or,t))}catch(e){or(t,e)}},(Rn=function(e){Vn(this,{type:jn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)ie(e,r,t[r],n);return e}(Fn.prototype,{then:function(e,t){var n,r,i,o=Bn(this),s=$n((n=Fn,void 0===(i=x(this).constructor)||null==(r=x(i)[Yt])?n:Ue(r)));return s.ok="function"!=typeof e||e,s.fail="function"==typeof t&&t,s.domain=Kt?Yn.domain:void 0,o.parent=!0,o.reactions.push(s),0!=o.state&&Xn(o,!1),s.promise},catch:function(e){return this.then(void 0,e)}}),wn=function(){var e=new Rn,t=Dn(e);this.promise=e,this.resolve=ir(sr,t),this.reject=ir(or,t)},Pn.f=$n=function(e){return e===Fn||e===In?new wn(e):Kn(e)},"function"==typeof Rt&&(On=Rt.prototype.then,ie(Rt.prototype,"then",(function(e,t){var n=this;return new Fn((function(e,t){On.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Hn&&Ae({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return An(Fn,Hn.apply(a,arguments))}}))),Ae({global:!0,wrap:!0,forced:Qn},{Promise:Fn}),Ot(Fn,jn,!1),function(e){var t=ae(e),n=A.f;u&&t&&!t[Nt]&&n(t,Nt,{configurable:!0,get:function(){return this}})}(jn),In=ae(jn),Ae({target:jn,stat:!0,forced:Qn},{reject:function(e){var t=$n(this);return t.reject.call(void 0,e),t.promise}}),Ae({target:jn,stat:!0,forced:Qn},{resolve:function(e){return An(this,e)}}),Ae({target:jn,stat:!0,forced:Jn},{all:function(e){var t=this,n=$n(t),r=n.resolve,i=n.reject,o=Un((function(){var n=Ue(t.resolve),o=[],s=0,a=1;kt(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=$n(t),r=n.reject,i=Un((function(){var i=Ue(t.resolve);kt(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),o((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new O(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=R(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function m(){}function y(){}function v(){}var _={};_[o]=function(){return this};var E=Object.getPrototypeOf,b=E&&E(E(N([])));b&&b!==n&&r.call(b,o)&&(_=b);var C=v.prototype=m.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function R(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=C.constructor=v,v.constructor=y,y.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,a,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new T(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(C),c(C,a,"Generator"),C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),function(e){e[e.READ=1]="READ",e[e.LISTENED=2]="LISTENED",e[e.DOWNLOADED=4]="DOWNLOADED",e[e.RETRIEVED=8]="RETRIEVED",e[e.UNREAD=0]="UNREAD"}(Nn||(Nn={}));var vr=Nn;const _r=["https://nav.cn.ronghub.com","https://nav2-cn.ronghub.com"],Er=["wsproxy.cn.ronghub.com","wsap-cn.ronghub.com"],br=["cometproxy-cn.ronghub.com","mini-cn.ronghub.com"],Cr={"RC:TxtMsg":{isCounted:!0,isPersited:!0},"RC:ImgMsg":{isCounted:!0,isPersited:!0},"RC:VcMsg":{isCounted:!0,isPersited:!0},"RC:ImgTextMsg":{isCounted:!0,isPersited:!0},"RC:FileMsg":{isCounted:!0,isPersited:!0},"RC:HQVCMsg":{isCounted:!0,isPersited:!0},"RC:LBSMsg":{isCounted:!0,isPersited:!0},"RC:PSImgTxtMsg":{isCounted:!0,isPersited:!0},"RC:PSMultiImgTxtMsg":{isCounted:!0,isPersited:!0},"RCJrmf:RpMsg":{isCounted:!0,isPersited:!0},"RCJrmf:RpOpendMsg":{isCounted:!0,isPersited:!0},"RC:CombineMsg":{isCounted:!0,isPersited:!0},"RC:ReferenceMsg":{isCounted:!0,isPersited:!0},"RC:SightMsg":{isCounted:!0,isPersited:!0},"RC:InfoNtf":{isCounted:!1,isPersited:!0},"RC:ContactNtf":{isCounted:!1,isPersited:!0},"RC:ProfileNtf":{isCounted:!1,isPersited:!0},"RC:CmdNtf":{isCounted:!1,isPersited:!0},"RC:GrpNtf":{isCounted:!1,isPersited:!0},"RC:RcCmd":{isCounted:!1,isPersited:!0},"RC:CmdMsg":{isCounted:!1,isPersited:!1},"RC:TypSts":{isCounted:!1,isPersited:!1},"RC:PSCmd":{isCounted:!1,isPersited:!1},"RC:SRSMsg":{isCounted:!1,isPersited:!1},"RC:RRReqMsg":{isCounted:!1,isPersited:!1},"RC:RRRspMsg":{isCounted:!1,isPersited:!1},"RC:CsChaR":{isCounted:!1,isPersited:!1},"RC:CSCha":{isCounted:!1,isPersited:!1},"RC:CsEva":{isCounted:!1,isPersited:!1},"RC:CsContact":{isCounted:!1,isPersited:!1},"RC:CsHs":{isCounted:!1,isPersited:!1},"RC:CsHsR":{isCounted:!1,isPersited:!1},"RC:CsSp":{isCounted:!1,isPersited:!1},"RC:CsEnd":{isCounted:!1,isPersited:!1},"RC:CsUpdate":{isCounted:!1,isPersited:!1},"RC:ReadNtf":{isCounted:!1,isPersited:!1},"RC:chrmKVNotiMsg":{isCounted:!1,isPersited:!1},"RC:VCAccept":{isCounted:!1,isPersited:!1},"RC:VCRinging":{isCounted:!1,isPersited:!1},"RC:VCSummary":{isCounted:!1,isPersited:!1},"RC:VCHangup":{isCounted:!1,isPersited:!1},"RC:VCInvite":{isCounted:!1,isPersited:!1},"RC:VCModifyMedia":{isCounted:!1,isPersited:!1},"RC:VCModifyMem":{isCounted:!1,isPersited:!1},"RC:MsgExMsg":{isCounted:!1,isPersited:!1}};let Sr;const Tr=e=>(Sr||(Sr={set:(t,n)=>{e.localStorage.setItem(t,JSON.stringify(n))},get:t=>{let n;try{n=JSON.parse(e.localStorage.getItem(t))}catch(e){n=null}return n},remove:t=>e.localStorage.removeItem(t),getKeys:()=>{const t=[];for(const n in e.localStorage)t.push(n);return t}}),Sr);class Rr{constructor(e){this._caches={},e&&(this._caches=e)}set(e,t){this._caches[e]=t}remove(e){const t=this.get(e);return delete this._caches[e],t}get(e){return this._caches[e]}getKeys(){const e=[];for(const t in this._caches)e.push(t);return e}}class wr{constructor(e,t){const n=t?"RCV4-"+t:"RCV4-";this._rootStorage=Tr(e);const r=this._rootStorage.get(n)||{};this._cache=new Rr({[n]:r}),this._storageKey=n}_get(){const e=this._storageKey;return this._cache.get(e)||{}}_set(e){const t=this._storageKey;e=e||{},this._cache.set(t,e),this._rootStorage.set(t,e)}set(e,t){const n=this._get();n[e]=t,this._set(n)}remove(e){const t=this._get();delete t[e],this._set(t)}clear(){const e=this._storageKey;this._rootStorage.remove(e),this._cache.remove(e)}get(e){return this._get()[e]}getKeys(){const e=this._get(),t=[];for(const n in e)t.push(n);return t}getValues(){return this._get()||{}}}const Ir=(e,t,n)=>{if(void 0===t||void 0===n)return e.toUpperCase();const r=e.slice(t,n);return e.replace(r,e=>e.toUpperCase())},Or=(e,t)=>{if(e=e.replace(/\?$/,""),!t)return e;const n=Object.keys(t).map(e=>`${e}=${t[e]}`).filter(e=>!!e);return n.length?[e,n.join("&")].join("?"):e},Nr=e=>e.match(/\d+(\.\d+){2}/)[0];var Mr;!function(e){e[e.LOG=0]="LOG",e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.NONE=1e3]="NONE"}(Mr||(Mr={}));const xr={[Mr.DEBUG]:console.debug.bind(console),[Mr.INFO]:console.info.bind(console),[Mr.WARN]:console.warn.bind(console),[Mr.ERROR]:console.error.bind(console)};class Pr{constructor(e){this._tag=e,this._outLevel=Mr.WARN,this._stdout=this._defaultStdout,this.log=this._out,this.debug=this._out.bind(this,Mr.DEBUG),this.info=this._out.bind(this,Mr.INFO),this.warn=this._out.bind(this,Mr.WARN),this.error=this._out.bind(this,Mr.ERROR)}_defaultStdout(e,...t){xr[e](`[${this._tag}](${(new Date).toUTCString()}):`,...t)}_out(e,...t){e>=this._outLevel&&this._stdout(e,...t)}set(e,t){this._outLevel=e,this._stdout=t||this._defaultStdout}}const Ar=new Pr("RCLog");var Ur;!function(e){e[e.NONE=0]="NONE",e[e.PRIVATE=1]="PRIVATE",e[e.DISCUSSION=2]="DISCUSSION",e[e.GROUP=3]="GROUP",e[e.CHATROOM=4]="CHATROOM",e[e.CUSTOMER_SERVICE=5]="CUSTOMER_SERVICE",e[e.SYSTEM=6]="SYSTEM",e[e.APP_PUBLIC_SERVICE=7]="APP_PUBLIC_SERVICE",e[e.PUBLIC_SERVICE=8]="PUBLIC_SERVICE",e[e.RTC_ROOM=12]="RTC_ROOM"}(Ur||(Ur={}));var Lr,kr=Ur;!function(e){e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.FILE=4]="FILE",e[e.SIGHT=5]="SIGHT",e[e.COMBINE_HTML=6]="COMBINE_HTML"}(Lr||(Lr={}));var jr=Lr;const Dr=e=>"string"==typeof e,Vr=e=>"number"==typeof e&&!isNaN(e),Br=e=>-1!==Object.prototype.toString.call(e).indexOf("Array"),Fr=e=>"[object ArrayBuffer]"===Object.prototype.toString.call(e),qr=e=>Dr(e)&&e.length>0,Gr=e=>"[object Object]"===Object.prototype.toString.call(e),Yr=e=>"[object Function]"===Object.prototype.toString.call(e),Hr=e=>void 0===e||"[object Undefined]"===Object.prototype.toString.call(e),$r=e=>"[object Null]"===Object.prototype.toString.call(e),Kr=e=>Dr(e)&&/https?:\/\//.test(e),Wr=e=>{for(const t in e)return!0;return!1},zr=e=>Vr(e)&&Object.prototype.hasOwnProperty.call(kr,e),Qr=e=>Vr(e)&&Object.prototype.hasOwnProperty.call(jr,e);class Jr{constructor(){this._map={}}on(e,t){const n=this._map[e]||(this._map[e]=[]);n.includes(t)||n.push(t)}off(e,t){const n=this._map[e];if(!n)return;const r=n.length;for(let i=r-1;i>=0;i-=1)if(n[i]===t){n.splice(i,1),1===r&&delete this._map[e];break}}emit(e,t){const n=this._map[e];n&&n.forEach(e=>e(t))}removeAll(e){delete this._map[e]}clear(){Object.keys(this._map).forEach(this.removeAll,this)}}var Zr;!function(e){e[e.STRING=0]="STRING",e[e.ONLY_STRING=1]="ONLY_STRING",e[e.NUMBER=2]="NUMBER",e[e.BOOLEAN=3]="BOOLEAN",e[e.OBJECT=4]="OBJECT",e[e.ARRAY=5]="ARRAY",e[e.CALLBACK=6]="CALLBACK"}(Zr||(Zr={}));const Xr={[Zr.STRING]:qr,[Zr.ONLY_STRING]:Dr,[Zr.NUMBER]:Vr,[Zr.BOOLEAN]:e=>"boolean"==typeof e,[Zr.OBJECT]:Gr,[Zr.ARRAY]:Br,[Zr.CALLBACK]:e=>{let t=!0;return Gr(e)||(t=!1),(e=e||{}).onSuccess&&!Yr(e.onSuccess)&&(t=!1),e.onError&&!Yr(e.onError)&&(t=!1),t}};class ei extends Error{constructor(e){super(e),this.name="RCAssertError"}}const ti=(e,t,n,r=!1)=>{if(!ni(e,t,n,r))throw new ei(`'${e}' is invalid: ${JSON.stringify(t)}`)},ni=(e,t,n,r=!1)=>{n=Xr[n]||n;const i=r&&!n(t)||!r&&!(Hr(t)||null===t||n(t));return i&&Ar.error(`'${e}' is invalid: ${JSON.stringify(t)}`),!i},ri=(e,t,n)=>{n=n||{},t=t||function(){};const{isReverse:r}=n;Gr(e)&&(()=>{for(const n in e)t(e[n],n,e)})(),(Br(e)||Dr(e))&&(()=>{if(r)for(let n=e.length-1;n>=0;n--)t(e[n],n);else for(let n=0,r=e.length;n<r;n++)t(e[n],n)})()},ii=(e,t)=>(ri(e,(n,r)=>{e[r]=t(n,r)}),e),oi=(e,t)=>{const n=[];return ri(e,e=>{n.push(e)}),-1!==((e,t)=>{if(e.indexOf)return e.indexOf(t);let n=-1;return ri(e,(e,r)=>{t===e&&(n=r)}),n})(n,t)};var si;!function(e){e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(si||(si={}));var ai=si;const ci=e=>{const t={},n=JSON.parse(e);return ri(n,(e,n)=>{t[n]=e.v}),t},ui={_delayTime:0,setTime:e=>{const t=(new Date).getTime();ui._delayTime=t-e},getTime:()=>{const e=ui._delayTime;return(new Date).getTime()-e}};function li(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}var hi,fi,di,pi;!function(e){e[e.AT_MOST_ONCE=0]="AT_MOST_ONCE",e[e.AT_LEAST_ONCE=1]="AT_LEAST_ONCE",e[e.EXACTLY_ONCE=2]="EXACTLY_ONCE",e[e.DEFAULT=3]="DEFAULT"}(hi||(hi={})),function(e){e[e.SYMMETRIC=0]="SYMMETRIC",e[e.CONNECT=1]="CONNECT",e[e.CONN_ACK=2]="CONN_ACK",e[e.PUBLISH=3]="PUBLISH",e[e.PUB_ACK=4]="PUB_ACK",e[e.QUERY=5]="QUERY",e[e.QUERY_ACK=6]="QUERY_ACK",e[e.QUERY_CONFIRM=7]="QUERY_CONFIRM",e[e.SUBSCRIBE=8]="SUBSCRIBE",e[e.SUB_ACK=9]="SUB_ACK",e[e.UNSUBSCRIBE=10]="UNSUBSCRIBE",e[e.UNSUB_ACK=11]="UNSUB_ACK",e[e.PING_REQ=12]="PING_REQ",e[e.PING_RESP=13]="PING_RESP",e[e.DISCONNECT=14]="DISCONNECT",e[e.RESERVER2=15]="RESERVER2"}(fi||(fi={})),function(e){e.CONN_ACK="ConnAckMessage",e.DISCONNECT="DisconnectMessage",e.PING_REQ="PingReqMessage",e.PING_RESP="PingRespMessage",e.PUBLISH="PublishMessage",e.PUB_ACK="PubAckMessage",e.QUERY="QueryMessage",e.QUERY_CON="QueryConMessage",e.QUERY_ACK="QueryAckMessage"}(di||(di={})),function(e){e.PUB="pub",e.QUERY="qry"}(pi||(pi={}));class gi{constructor(e,t=!1,n=hi.AT_LEAST_ONCE,r=!1){this._retain=!1,this.qos=hi.AT_LEAST_ONCE,this._dup=!1,this.syncMsg=!1,e&&e>0&&1===arguments.length?(this._retain=(1&e)>0,this.qos=(6&e)>>1,this._dup=(8&e)>0,this.type=e>>4&15,this.syncMsg=8==(8&e)):(this.type=e,this._retain=t,this.qos=n,this._dup=r)}encode(){let e=this.type<<4;return e|=this._retain?1:0,e|=this.qos<<1,e|=this._dup?8:0,e}}class mi{static writeUTF(e,t){const n=[];let r=0;if(Dr(e))for(let i=0,o=e.length;i<o;i++){const t=e.charCodeAt(i);t>=0&&t<=127?(r+=1,n.push(t)):t>=128&&t<=2047?(r+=2,n.push(192|31&t>>6),n.push(128|63&t)):t>=2048&&t<=65535&&(r+=3,n.push(224|15&t>>12),n.push(128|63&t>>6),n.push(128|63&t))}for(let i=0,o=n.length;i<o;i++)n[i]>255&&(n[i]&=255);return t?n:r<=255?[0,r].concat(n):[r>>8,255&r].concat(n)}static readUTF(e){const t=[];let n,r,i=-1;const o=e;let s="";for(;++i<o.length;){let e=Number(o[i]);if(e===(127&e)||(240==(240&e)?(e^=240,e=e<<6|128^o[++i],e=e<<6|128^o[++i],e=e<<6|128^o[++i]):224==(224&e)?(e^=224,e=e<<6|128^o[++i],e=e<<6|128^o[++i]):192==(192&e)&&(e^=192,e=e<<6|128^o[++i])),!isFinite(e)||e<0||e>1114111||Math.floor(e)!==e)throw RangeError("Invalid code point: "+e);e<=65535?t.push(e):(e-=65536,n=e>>10|55296,r=e%1024|56320,t.push(n,r)),(i+1===o.length||t.length>16384)&&(s+=String.fromCharCode.apply(null,t),t.length=0)}return s}}class yi{constructor(e){this._position=0,this._poolLen=0,this._pool=e,this._poolLen=e.length}check(){return this._position>=this._pool.length}readInt(){const e=this;if(e.check())return-1;let t="";for(let n=0;n<4;n++){let n=e._pool[e._position++].toString(16);1===n.length&&(n="0"+n),t+=n.toString()}return parseInt(t,16)}readLong(){const e=this;if(e.check())return-1;let t="";for(let n=0;n<8;n++){let n=e._pool[e._position++].toString(16);1===n.length&&(n="0"+n),t+=n}return parseInt(t,16)}readByte(){if(this.check())return-1;let e=this._pool[this._position++];return e>255&&(e&=255),e}readUTF(){if(this.check())return"";const e=this.readByte()<<8|this.readByte(),t=this._pool.subarray(this._position,this._position+=e);return mi.readUTF(t)}readAll(){return this._pool.subarray(this._position,this._poolLen)}}class vi{constructor(){this._pool=[],this._position=0,this._writen=0}write(e){return-1!==Object.prototype.toString.call(e).indexOf("Array")?this._pool=this._pool.concat(e):e>=0&&(e>255&&(e&=255),this._pool.push(e),this._writen++),e}writeArr(e){return this._pool=this._pool.concat(e),e}writeUTF(e){const t=mi.writeUTF(e);this._pool=this._pool.concat(t),this._writen+=t.length}getBytesArray(){return this._pool}}var _i="UpStreamMessage",Ei="DownStreamMessage",bi="DownStreamMessages",Ci="SessionsAttQryInput",Si="SessionsAttOutput",Ti="SyncRequestMsg",Ri="ChrmPullMsg",wi="NotifyMsg",Ii="HistoryMsgInput",Oi="HistoryMsgOuput",Ni="RelationQryInput",Mi="RelationsOutput",xi="DeleteSessionsInput",Pi="SessionInfo",Ai="DeleteSessionsOutput",Ui="RelationsInput",Li="DeleteMsgInput",ki="CleanHisMsgInput",ji="SessionMsgReadInput",Di="ChrmInput",Vi="QueryChatRoomInfoInput",Bi="QueryChatRoomInfoOutput",Fi="RtcInput",qi="RtcUserListOutput",Gi="SetUserStatusInput",Yi="RtcSetDataInput",Hi="RtcUserSetDataInput",$i="RtcDataInput",Ki="RtcSetOutDataInput",Wi="MCFollowInput",zi="RtcTokenOutput",Qi="RtcQryOutput",Ji="RtcQryUserOutDataInput",Zi="RtcUserOutDataOutput",Xi="RtcQueryListInput",eo="RtcRoomInfoOutput",to="RtcValueInfo",no="RtcKeyDeleteInput",ro="GetQNupTokenInput",io="GetQNupTokenOutput",oo="GetQNdownloadUrlInput",so="GetDownloadUrlInput",ao="GetQNdownloadUrlOutput",co="GetDownloadUrlOutput",uo="SetChrmKV",lo="ChrmKVOutput",ho="QueryChrmKV",fo="SetUserSettingInput",po="SetUserSettingOutput",go="PullUserSettingInput",mo="PullUserSettingOutput",yo="SessionReq",vo="SessionStates",_o="SessionState",Eo="SessionStateItem",bo="SessionStateModifyReq",Co="SessionStateModifyResp";const So={[_i]:["sessionId","classname","content","pushText","userId","configFlag","appData","extraContent"],[bi]:["list","syncTime","finished"],[Ei]:["fromUserId","type","groupId","classname","content","dataTime","status","msgId","extraContent"],[Ci]:["nothing"],[Si]:["inboxTime","sendboxTime","totalUnreadCount"],[Ti]:["syncTime","ispolling","isweb","isPullSend","isKeeping","sendBoxSyncTime"],[Ri]:["syncTime","count"],[wi]:["type","time","chrmId"],[Ii]:["targetId","time","count","order"],[Oi]:["list","syncTime","hasMsg"],[Ni]:["type","count","startTime","order"],[Mi]:["info"],[xi]:["sessions"],[Pi]:["type","channelId"],[Ai]:["nothing"],[Ui]:["type","msg","count","offset","startTime","endTime"],[Li]:["type","conversationId","msgs"],[ki]:["targetId","dataTime","conversationType"],[ji]:["type","msgTime","channelId"],[Di]:["nothing"],[Vi]:["count","order"],[Bi]:["userTotalNums","userInfos"],[ro]:["type","key"],[oo]:["type","key","fileName"],[so]:["type","key","fileName"],[io]:["deadline","token","bosToken","bosDate","path","osskeyId","ossPolicy","ossSign","ossBucketName"],[ao]:["downloadUrl"],[co]:["downloadUrl"],[uo]:["entry","bNotify","notification","type"],[lo]:["entries","bFullUpdate","syncTime"],[ho]:["timestamp"],[fo]:["version","value"],[po]:["version","reserve"],[go]:["version","reserve"],[mo]:["items","version"],[yo]:["time"],[vo]:["version","state"],[_o]:["type","channelId","time","stateItem"],[Eo]:["sessionStateType","value"],[bo]:["version","state"],[Co]:["version"]},To={};for(const t in So){const e=So[t];To[t]=()=>{const t={},n={getArrayData:()=>t};for(let r=0;r<e.length;r++){const i=e[r];n["set"+Ir(i,0,1)]=e=>{t[i]=e}}return n},To[t].decode=function(e){const t={};Dr(e)&&(e=JSON.parse(e));for(const n in e){const r="get"+Ir(n,0,1);t[n]=e[n],t[r]=()=>e[n]}return t}}To.getModule=e=>To[e]();const Ro=`\npackage Modules;\nmessage probuf {\n  message ${Gi}\n  {\n    optional int32 status=1;\n  }\n\n  message SetUserStatusOutput\n  {\n    optional int32 nothing=1;\n  }\n\n  message GetUserStatusInput\n  {\n    optional int32 nothing=1;\n  }\n\n  message GetUserStatusOutput\n  {\n    optional string status=1;\n    optional string subUserId=2;\n  }\n\n  message SubUserStatusInput\n  {\n    repeated string userid =1;\n  }\n\n  message SubUserStatusOutput\n  {\n    optional int32 nothing=1; \n  }\n  message VoipDynamicInput\n  {\n    required int32  engineType = 1;\n    required string channelName = 2;\n    optional string channelExtra = 3;\n  }\n\n  message VoipDynamicOutput\n  {\n      required string dynamicKey=1;\n  }\n  message ${wi} {\n    required int32 type = 1;\n    optional int64 time = 2;\n    optional string chrmId=3;\n  }\n  message ${Ti} {\n    required int64 syncTime = 1;\n    required bool ispolling = 2;\n    optional bool isweb=3;\n    optional bool isPullSend=4;\n    optional bool isKeeping=5;\n    optional int64 sendBoxSyncTime=6;\n  }\n  message ${_i} {\n    required int32 sessionId = 1;\n    required string classname = 2;\n    required bytes content = 3;\n    optional string pushText = 4;\n    optional string appData = 5;\n    repeated string userId = 6;\n    optional int64 delMsgTime = 7;\n    optional string delMsgId = 8;\n    optional int32 configFlag = 9;\n    optional int64 clientUniqueId = 10;\n    optional string extraContent = 11;\n  }\n  message ${bi} {\n    repeated DownStreamMessage list = 1;\n    required int64 syncTime = 2;\n    optional bool finished = 3;\n  }\n  message ${Ei} {\n    required string fromUserId = 1;\n    required ChannelType type = 2;\n    optional string groupId = 3;\n    required string classname = 4;\n    required bytes content = 5;\n    required int64 dataTime = 6;\n    required int64 status = 7;\n    optional int64 extra = 8;\n    optional string msgId = 9;\n    optional int32 direction = 10;\n    optional int32 plantform =11;\n    optional int32 isRemoved = 12; \n    optional string source = 13; \n    optional int64 clientUniqueId = 14; \n    optional string extraContent = 15; \n\n  }\n  enum ChannelType {\n    PERSON = 1;\n    PERSONS = 2;\n    GROUP = 3;\n    TEMPGROUP = 4;\n    CUSTOMERSERVICE = 5;\n    NOTIFY = 6;\n    MC=7;\n    MP=8;\n  }\n  message CreateDiscussionInput {\n    optional string name = 1;\n  }\n  message CreateDiscussionOutput {\n    required string id = 1;\n  }\n  message ChannelInvitationInput {\n    repeated string users = 1;\n  }\n  message LeaveChannelInput {\n    required int32 nothing = 1;\n  }\n  message ChannelEvictionInput {\n    required string user = 1;\n  }\n  message RenameChannelInput {\n    required string name = 1;\n  }\n  message ChannelInfoInput {\n    required int32 nothing = 1;\n  }\n  message ChannelInfoOutput {\n    required ChannelType type = 1;\n    required string channelId = 2;\n    required string channelName = 3;\n    required string adminUserId = 4;\n    repeated string firstTenUserIds = 5;\n    required int32 openStatus = 6;\n  }\n  message ChannelInfosInput {\n    required int32 page = 1;\n    optional int32 number = 2;\n  }\n  message ChannelInfosOutput {\n    repeated ChannelInfoOutput channels = 1;\n    required int32 total = 2;\n  }\n  message MemberInfo {\n    required string userId = 1;\n    required string userName = 2;\n    required string userPortrait = 3;\n    required string extension = 4;\n  }\n  message GroupMembersInput {\n    required int32 page = 1;\n    optional int32 number = 2;\n  }\n  message GroupMembersOutput {\n    repeated MemberInfo members = 1;\n    required int32 total = 2;\n  }\n  message GetUserInfoInput {\n    required int32 nothing = 1;\n  }\n  message GetUserInfoOutput {\n    required string userId = 1;\n    required string userName = 2;\n    required string userPortrait = 3;\n  }\n  message GetSessionIdInput {\n    required int32 nothing = 1;\n  }\n  message GetSessionIdOutput {\n    required int32 sessionId = 1;\n  }\n  enum FileType {\n    image = ${jr.IMAGE};\n    audio = ${jr.AUDIO};\n    video = ${jr.VIDEO};\n    file = ${jr.FILE};\n  }\n  message ${ro} {\n    required FileType type = 1;\n    optional string key = 2;\n  }\n  message ${oo} {\n    required FileType type = 1;\n    required string key = 2;\n    optional string  fileName = 3;\n  }\n  message ${so} {\n    required FileType type = 1;      // 下载的文件类型\n    required string key = 2;           // 请求下载的文件名\n    optional string fileName = 3;     // 下载生成的文件名字\n   }\n  message ${io} {\n    required int64 deadline = 1;\n    required string token = 2;\n    optional string bosToken = 3;\n    optional string bosDate = 4;\n    optional string path = 5;\n    optional string osskeyId = 6;\n    optional string ossPolicy = 7;\n    optional string ossSign = 8;\n    optional string ossBucketName = 9;\n  }\n  message ${ao} {\n    required string downloadUrl = 1;\n  }\n  message ${co} {\n    required string downloadUrl = 1;\n  }\n  message Add2BlackListInput {\n    required string userId = 1;\n  }\n  message RemoveFromBlackListInput {\n    required string userId = 1;\n  }\n  message QueryBlackListInput {\n    required int32 nothing = 1;\n  }\n  message QueryBlackListOutput {\n    repeated string userIds = 1;\n  }\n  message BlackListStatusInput {\n    required string userId = 1;\n  }\n  message BlockPushInput {\n    required string blockeeId = 1;\n  }\n  message ModifyPermissionInput {\n    required int32 openStatus = 1;\n  }\n  message GroupInput {\n    repeated GroupInfo groupInfo = 1;\n  }\n  message GroupOutput {\n    required int32 nothing = 1;\n  }\n  message GroupInfo {\n    required string id = 1;\n    required string name = 2;\n  }\n  message GroupHashInput {\n    required string userId = 1;\n    required string groupHashCode = 2;\n  }\n  message GroupHashOutput {\n    required GroupHashType result = 1;\n  }\n  enum GroupHashType {\n    group_success = 0x00;\n    group_failure = 0x01;\n  }\n  message ${Di} {\n    required int32 nothing = 1;\n  }\n  message ChrmOutput {\n    required int32 nothing = 1;\n  }\n  message ${Ri} {\n    required int64 syncTime = 1;\n    required int32 count = 2;\n  }\n  \n  message ChrmPullMsgNew \n  {\n    required int32 count = 1;\n    required int64 syncTime = 2;\n    optional string chrmId=3;\n  }\n  message ${Ni}\n  {\n    optional ChannelType type = 1;\n    optional int32 count = 2;\n    optional int64 startTime = 3;\n    optional int32 order = 4;\n  }\n  message ${Ui}\n  {\n    required ChannelType type = 1;\n    optional DownStreamMessage msg =2;\n    optional int32 count = 3;\n    optional int32 offset = 4;\n    optional int64 startTime = 5;\n    optional int64 endTime = 6;\n  }\n  message ${Mi}\n  {\n    repeated RelationInfo info = 1;\n  }\n  message RelationInfo\n  {\n    required ChannelType type = 1;\n    required string userId = 2;\n    optional DownStreamMessage msg =3;\n    optional int64 readMsgTime= 4;\n    optional int64 unreadCount= 5;\n  }\n  message RelationInfoReadTime\n  {\n    required ChannelType type = 1;\n    required int64 readMsgTime= 2;\n    required string targetId = 3;\n  }\n  message ${ki}\n  {\n      required string targetId = 1;\n      required int64 dataTime = 2;\n      optional int32 conversationType= 3;\n  }\n  message HistoryMessageInput\n  {\n    required string targetId = 1;\n    required int64 dataTime =2;\n    required int32 size  = 3;\n  }\n\n  message HistoryMessagesOuput\n  {\n    repeated DownStreamMessage list = 1;\n    required int64 syncTime = 2;\n    required int32 hasMsg = 3;\n  }\n  message ${Vi}\n  {\n    required int32 count= 1;\n    optional int32 order= 2;\n  }\n\n  message ${Bi}\n  {\n    optional int32 userTotalNums = 1;\n    repeated ChrmMember userInfos = 2;\n  }\n  message ChrmMember\n  {\n    required int64 time = 1;\n    required string id = 2;\n  }\n  message MPFollowInput\n  {\n    required string id = 1;\n  }\n\n  message MPFollowOutput\n  {\n    required int32 nothing = 1;\n    optional MpInfo info =2;\n  }\n\n  message ${Wi}\n  {\n    required string id = 1;\n  }\n\n  message MCFollowOutput\n  {\n    required int32 nothing = 1;\n    optional MpInfo info =2;\n  }\n\n  message MpInfo  \n  {\n    required string mpid=1;\n    required string name = 2;\n    required string type = 3;\n    required int64 time=4;\n    optional string portraitUrl=5;\n    optional string extra =6;\n  }\n\n  message SearchMpInput\n  {\n    required int32 type=1;\n    required string id=2;\n  }\n\n  message SearchMpOutput\n  {\n    required int32 nothing=1;\n    repeated MpInfo info = 2;\n  }\n\n  message PullMpInput\n  {\n    required int64 time=1;\n    required string mpid=2;\n  }\n\n  message PullMpOutput\n  {\n    required int32 status=1;\n    repeated MpInfo info = 2;\n  }\n  message ${Ii}\n  {\n    optional string targetId = 1;\n    optional int64 time = 2;\n    optional int32 count  = 3;\n    optional int32 order = 4;\n  }\n\n  message ${Oi}\n  {\n    repeated DownStreamMessage list=1;\n    required int64 syncTime=2;\n    required int32 hasMsg=3;\n  }\n  message ${Xi}{\n    optional int32 order=1;\n  }\n\n  message ${no}{\n    repeated string key=1;\n  }\n\n  message ${to}{\n    required string key=1;\n    required string value=2;\n  }\n\n  message RtcUserInfo{\n    required string userId=1;\n    repeated ${to} userData=2;\n  }\n\n  message ${qi}{\n    repeated RtcUserInfo list=1;\n    optional string token=2;\n    optional string sessionId=3;\n  }\n  message RtcRoomInfoOutput{\n    optional string roomId = 1;\n    repeated ${to} roomData = 2;\n    optional int32 userCount = 3;\n    repeated RtcUserInfo list=4;\n  }\n  message ${Fi}{\n    required int32 roomType=1;\n    optional int32 broadcastType=2;\n  }\n  message RtcQryInput{ \n    required bool isInterior=1;\n    required targetType target=2;\n    repeated string key=3;\n  }\n  message ${Qi}{\n    repeated ${to} outInfo=1;\n  }\n  message RtcDelDataInput{\n    repeated string key=1;\n    required bool isInterior=2;\n    required targetType target=3;\n  }\n  message ${$i}{ \n    required bool interior=1;\n    required targetType target=2;\n    repeated string key=3;\n    optional string objectName=4;\n    optional string content=5;\n  }\n  message ${Yi}{\n    required bool interior=1;\n    required targetType target=2;\n    required string key=3;\n    required string value=4;\n    optional string objectName=5;\n    optional string content=6;\n  }\n  message ${Hi} {\n    repeated ${to} valueInfo = 1;\n    required string objectName = 2;\n    repeated ${to} content = 3;\n  }\n  message RtcOutput\n  {\n    optional int32 nothing=1; \n  }\n  message ${zi}{\n    required string rtcToken=1;\n  }\n  enum targetType {\n    ROOM =1 ;\n    PERSON = 2;\n  }\n  message ${Ki}{\n    required targetType target=1;\n    repeated ${to} valueInfo=2;\n    optional string objectName=3;\n    optional string content=4;\n  }\n  message ${Ji}{\n    repeated string userId = 1;\n  }\n  message ${Zi}{\n    repeated RtcUserInfo user = 1;\n  }\n  message ${Ci}{\n    required int32 nothing = 1;\n  }\n  message ${Si}{\n    required int64 inboxTime = 1;\n    required int64 sendboxTime = 2;\n    required int64 totalUnreadCount = 3;\n  }\n  message ${ji}\n  {\n    required ChannelType type = 1;\n    required int64 msgTime = 2;\n    required string channelId = 3;\n  }\n  message SessionMsgReadOutput\n  {\n    optional int32 nothing=1; \n  }\n  message ${xi}\n  {\n    repeated SessionInfo sessions = 1;\n  }\n  message ${Pi}\n  {\n    required ChannelType type = 1;\n    required string channelId = 2;\n  }\n  message ${Ai}\n  {\n    optional int32 nothing=1; \n  }\n  message ${Li}\n  {\n    optional ChannelType type = 1;\n    optional string conversationId = 2;\n    repeated DeleteMsg msgs = 3;\n  }\n  message DeleteMsg\n  {\n    optional string msgId = 1;\n    optional int64 msgDataTime = 2;\n    optional int32 direct = 3;\n  }\n  message ChrmKVEntity {\n    required string key = 1;\n    required string value = 2;\n    optional int32 status = 3;\n    optional int64 timestamp = 4;\n    optional string uid = 5;\n  }\n  message ${uo} {\n    required ChrmKVEntity entry = 1;\n    optional bool bNotify = 2;\n    optional UpStreamMessage notification = 3;\n    optional ChannelType type = 4;\n  }\n  message ${lo} {\n    repeated ChrmKVEntity entries = 1;\n    optional bool bFullUpdate = 2;\n    optional int64 syncTime = 3;\n  }\n  message ${ho} {\n    required int64 timestamp = 1;\n  }\n  message ${fo} {\n    required int64 version=1;\n    required string value=2;\n  }\n  message ${po} {\n    required int64 version=1;\n    required bool reserve=2;\n  }\n  message ${go} {\n    required int64 version=1;//当前客户端的最大版本号\n    optional bool reserve=2;\n  }\n  message ${mo} {\n    repeated UserSettingItem items = 1;\n    required int64 version=2;\n  }\n  message UserSettingItem {\n    required string targetId= 1;\n    required ChannelType type = 2;\n    required string key = 4;\n    required bytes value = 5;\n    required int64 version=6;\n    required int32 status=7;\n  }\n  message ${yo} {\n    required int64 time = 1;\n  }\n  message ${vo} {\n    required int64 version=1;\n    repeated SessionState state= 2;\n  }\n  message ${_o} {\n    required ChannelType type = 1;\n    required string channelId = 2;  \n    optional int64 time = 3;\n    repeated SessionStateItem stateItem = 4;\n  }\n  message ${Eo} {\n    required SessionStateType sessionStateType = 1;\n    required string value = 2;\n  }\n  enum SessionStateType {\n    IsSilent = 1;\n    IsTop = 2;\n  }\n  message ${bo} {\n    required int64 version=1;\n    repeated SessionState state= 2;\n  }\n  message ${Co} {\n    required int64 version=1;\n  }\n}\n`,wo=(Io=Ro,function(e,t){var n,i,o={};return o.ByteBuffer=e,o.c=e,n=e,o.Long=t||null,o.VERSION="5.0.1",o.WIRE_TYPES={},o.WIRE_TYPES.VARINT=0,o.WIRE_TYPES.BITS64=1,o.WIRE_TYPES.LDELIM=2,o.WIRE_TYPES.STARTGROUP=3,o.WIRE_TYPES.ENDGROUP=4,o.WIRE_TYPES.BITS32=5,o.PACKABLE_WIRE_TYPES=[o.WIRE_TYPES.VARINT,o.WIRE_TYPES.BITS64,o.WIRE_TYPES.BITS32],o.TYPES={int32:{name:"int32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},uint64:{name:"uint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.UZERO:void 0},sint64:{name:"sint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},bool:{name:"bool",wireType:o.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:o.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:o.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.ZERO:void 0},float:{name:"float",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:o.WIRE_TYPES.STARTGROUP,defaultValue:null}},o.MAP_KEY_TYPES=[o.TYPES.int32,o.TYPES.sint32,o.TYPES.sfixed32,o.TYPES.uint32,o.TYPES.fixed32,o.TYPES.int64,o.TYPES.sint64,o.TYPES.sfixed64,o.TYPES.uint64,o.TYPES.fixed64,o.TYPES.bool,o.TYPES.string,o.TYPES.bytes],o.ID_MIN=1,o.ID_MAX=536870911,o.convertFieldsToCamelCase=!1,o.populateAccessors=!0,o.populateDefaults=!0,o.Util=function(){var e={};return e.IS_NODE=!("object"!=typeof r||r+""!="[object process]"||r.browser),e.XHR=function(){var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=null;for(e=0;e<t.length;e++){try{n=t[e]()}catch(e){continue}break}if(!n)throw Error("XMLHttpRequest is not supported");return n},e.fetch=function(t,n){if(n&&"function"!=typeof n&&(n=null),e.IS_NODE)if(n)g.readFile(t,(function(e,t){n(e?null:""+t)}));else try{return g.readFileSync(t)}catch(e){return null}else{var r=e.XHR();if(r.open("GET",t,!!n),r.setRequestHeader("Accept","text/plain"),"function"==typeof r.overrideMimeType&&r.overrideMimeType("text/plain"),!n)return r.send(null),200==r.status||0==r.status&&"string"==typeof r.responseText?r.responseText:null;if(r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0==r.status&&"string"==typeof r.responseText?n(r.responseText):n(null))},4==r.readyState)return;r.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e}(),o.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},o.DotProto=function(e,t){function n(e,n){var r=-1,i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(i<0?"-":"")+e);r=parseInt(e.substring(1),8)}if(r=0|i*r,!n&&r<0)throw Error("illegal id value: "+(i<0?"-":"")+e);return r}function r(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return 1/0*n;if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function i(e,t,n){void 0===e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}var o,s,a={},c=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},u=c.prototype;return u._readString=function(){var e,n='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;if(n.lastIndex=this.index-1,!(e=n.exec(this.source)))throw Error("unterminated string");return this.index=n.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,e[1]},u.next=function(){var e,n,r,i,o;if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();do{for(e=!1;t.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;n=r,r=this.source.charAt(this.index)}while("*"!==n||"/"!==r);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;if(i=this.index,t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(i++)))for(;i<this.source.length&&!t.DELIM.test(this.source.charAt(i));)++i;return('"'===(o=this.source.substring(this.index,this.index=i))||"'"===o)&&(this._stringOpen=o),o},u.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},u.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},u.omit=function(e){return this.peek()===e&&(this.next(),!0)},u.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},a.Tokenizer=c,(s=(o=function(e){this.tn=new c(e),this.proto3=!1}).prototype).parse=function(){var e,n={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},r=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!r||null!==n.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),n.package=e;break;case"import":if(!r)throw Error("unexpected 'import'");"public"===(e=this.tn.peek())&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n.imports.push(e);break;case"syntax":if(!r)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(n.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(n,null),r=!1;break;case"enum":this._parseEnum(n),r=!1;break;case"option":this._parseOption(n);break;case"service":this._parseService(n);break;case"extend":this._parseExtend(n);break;default:throw Error("unexpected '"+e+"'")}}catch(e){throw e.message="Parse error at line "+this.tn.line+": "+e.message,e}return delete n.name,n},o.parse=function(e){return new o(e).parse()},s._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},s._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return r(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},s._parseOption=function(e,n){var r,i=this.tn.next(),o=!1;if("("===i&&(o=!0,i=this.tn.next()),!t.TYPEREF.test(i))throw Error("illegal option name: "+i);r=i,o&&(this.tn.skip(")"),r="("+r+")",i=this.tn.peek(),t.FQTYPEREF.test(i)&&(r+=i,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,r),n||this.tn.skip(";")},s._parseOptionValue=function(e,n){var r=this.tn.peek();if("{"!==r)i(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!t.NAME.test(r))throw Error("illegal option name: "+n+"."+r);this.tn.omit(":")?i(e.options,n+"."+r,this._readValue(!0)):this._parseOptionValue(e,n+"."+r)}},s._parseService=function(e){var n,r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal service name at line "+this.tn.line+": "+r);for(n={name:r,rpc:{},options:{}},this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if("rpc"!==r)throw Error("illegal service token: "+r);this._parseServiceRPC(n)}this.tn.omit(";"),e.services.push(n)},s._parseServiceRPC=function(e){var n,r,i="rpc",o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal rpc service method name: "+o);if(n=o,r={request:null,response:null,request_stream:!1,response_stream:!1,options:{}},this.tn.skip("("),"stream"===(o=this.tn.next()).toLowerCase()&&(r.request_stream=!0,o=this.tn.next()),!t.TYPEREF.test(o))throw Error("illegal rpc service request type: "+o);if(r.request=o,this.tn.skip(")"),"returns"!==(o=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+o);if(this.tn.skip("("),"stream"===(o=this.tn.next()).toLowerCase()&&(r.response_stream=!0,o=this.tn.next()),r.response=o,this.tn.skip(")"),"{"===(o=this.tn.peek())){for(this.tn.next();"}"!==(o=this.tn.next());){if("option"!==o)throw Error("illegal rpc service token: "+o);this._parseOption(r)}this.tn.omit(";")}else this.tn.skip(";");void 0===e[i]&&(e[i]={}),e[i][n]=r},s._parseMessage=function(e,r){var i=!!r,o=this.tn.next(),s={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(o))throw Error("illegal "+(i?"group":"message")+" name: "+o);for(s.name=o,i&&(this.tn.skip("="),r.id=n(this.tn.next()),s.isGroup=!0),"["===(o=this.tn.peek())&&r&&this._parseFieldOptions(r),this.tn.skip("{");"}"!==(o=this.tn.next());)if(t.RULE.test(o))this._parseMessageField(s,o);else if("oneof"===o)this._parseMessageOneOf(s);else if("enum"===o)this._parseEnum(s);else if("message"===o)this._parseMessage(s);else if("option"===o)this._parseOption(s);else if("service"===o)this._parseService(s);else if("extensions"===o)s.extensions=this._parseExtensionRanges();else if("reserved"===o)this._parseIgnored();else if("extend"===o)this._parseExtend(s);else{if(!t.TYPEREF.test(o))throw Error("illegal message token: "+o);if(!this.proto3)throw Error("illegal field rule: "+o);this._parseMessageField(s,"optional",o)}return this.tn.omit(";"),e.messages.push(s),s},s._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},s._parseMessageField=function(e,r,i){var o,s,a;if(!t.RULE.test(r))throw Error("illegal message field rule: "+r);if(o={rule:r,type:"",name:"",options:{},id:0},"map"===r){if(i)throw Error("illegal type: "+i);if(this.tn.skip("<"),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field type: "+s);if(o.keytype=s,this.tn.skip(","),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field: "+s);if(o.type=s,this.tn.skip(">"),s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=n(this.tn.next()),"["===(s=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}else if("group"===(i=void 0!==i?i:this.tn.next())){if(a=this._parseMessage(e,o),!/^[A-Z]/.test(a.name))throw Error("illegal group name: "+a.name);o.type=a.name,o.name=a.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(o.type=i,s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=n(this.tn.next()),"["===(s=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},s._parseMessageOneOf=function(e){var n,r,i,o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal oneof name: "+o);for(r=o,i=[],this.tn.skip("{");"}"!==(o=this.tn.next());)(n=this._parseMessageField(e,"optional",o)).oneof=r,i.push(n.id);this.tn.omit(";"),e.oneofs[r]=i},s._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},s._parseEnum=function(e){var r,i={name:"",values:[],options:{}},o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal name: "+o);for(i.name=o,this.tn.skip("{");"}"!==(o=this.tn.next());)if("option"===o)this._parseOption(i);else{if(!t.NAME.test(o))throw Error("illegal name: "+o);this.tn.skip("="),r={name:o,id:n(this.tn.next(),!0)},"["===(o=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),i.values.push(r)}this.tn.omit(";"),e.enums.push(i)},s._parseExtensionRanges=function(){var t,n,i,o=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":i=e.ID_MIN;break;case"max":i=e.ID_MAX;break;default:i=r(t)}if(n.push(i),2===n.length)break;if("to"!==this.tn.peek()){n.push(i);break}this.tn.next()}o.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),o},s._parseExtend=function(e){var n,r=this.tn.next();if(!t.TYPEREF.test(r))throw Error("illegal extend reference: "+r);for(n={ref:r,fields:[]},this.tn.skip("{");"}"!==(r=this.tn.next());)if(t.RULE.test(r))this._parseMessageField(n,r);else{if(!t.TYPEREF.test(r))throw Error("illegal extend token: "+r);if(!this.proto3)throw Error("illegal field rule: "+r);this._parseMessageField(n,"optional",r)}return this.tn.omit(";"),e.messages.push(n),n},s.toString=function(){return"Parser at line "+this.tn.line},a.Parser=o,a}(o,o.Lang),o.Reflect=function(t){function r(e,n){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low==e.low&&e.high==e.high)return new t.Long(e.low,e.high,void 0===n?e.unsigned:n);if("string"==typeof e)return t.Long.fromString(e,n||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}function i(e,n){var r=n.readVarint32(),o=7&r,s=r>>>3;switch(o){case t.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128==(128&r));break;case t.WIRE_TYPES.BITS64:n.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:i(s,n);break;case t.WIRE_TYPES.ENDGROUP:if(s===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+s+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+o)}return!0}var o,s,a,c,u,l,h,f,d,p,g,m,y,v,_,E,b={},C=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},S=C.prototype;return S.fqn=function(){for(var e=this.name,t=this;null!=(t=t.parent);)e=t.name+"."+e;return e},S.toString=function(e){return(e?this.className+" ":"")+this.fqn()},S.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},b.T=C,(s=(o=function(e,t,n,r,i){C.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=r||{},this.syntax=i||"proto2"}).prototype=Object.create(C.prototype)).getChildren=function(e){var t,n,r;if(null==(e=e||null))return this.children.slice();for(t=[],n=0,r=this.children.length;r>n;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof u.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof u.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){var t,n,r="number"==typeof e?"id":"name";for(t=0,n=this.children.length;n>t;++t)if(this.children[t][r]===e)return this.children[t];return null},s.resolve=function(e,t){var n,r="string"==typeof e?e.split("."):e,i=this,o=0;if(""===r[o]){for(;null!==i.parent;)i=i.parent;o++}do{do{if(!(i instanceof b.Namespace)){i=null;break}if(!((n=i.getChild(r[o]))&&n instanceof b.T&&(!t||n instanceof b.Namespace))){i=null;break}i=n,o++}while(o<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},s.qn=function(e){var t,n,r=[],i=e;do{r.unshift(i.name),i=i.parent}while(null!==i);for(t=1;t<=r.length;t++)if(n=r.slice(r.length-t),e===this.resolve(n,e instanceof b.Namespace))return n.join(".");return e.fqn()},s.build=function(){var e,t,n,r={},i=this.children;for(t=0,n=i.length;n>t;++t)(e=i[t])instanceof o&&(r[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(r,"$options",{value:this.buildOpt()}),r},s.buildOpt=function(){var e,t,n,r,i={},o=Object.keys(this.options);for(e=0,t=o.length;t>e;++e)n=o[e],r=this.options[o[e]],i[n]=r;return i},s.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},b.Namespace=o,c=(a=function(e,n,r,i){if(this.type=e,this.resolvedType=n,this.isMapKey=r,this.syntax=i,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)}).prototype,a.defaultFieldValue=function(e){if("string"==typeof e&&(e=t.TYPES[e]),void 0===e.defaultValue)throw Error("default value for type "+e.name+" is not supported");return e==t.TYPES.bytes?new n(0):e.defaultValue},c.verifyValue=function(n){var i,o,s,a=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof n||n==n&&n%1!=0)&&a(typeof n,"not an integer"),n>4294967295?0|n:n;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof n||n==n&&n%1!=0)&&a(typeof n,"not an integer"),n<0?n>>>0:n;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return r(n,!1)}catch(e){a(typeof n,e.message)}else a(typeof n,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return r(n,!0)}catch(e){a(typeof n,e.message)}else a(typeof n,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof n&&a(typeof n,"not a boolean"),n;case t.TYPES.float:case t.TYPES.double:return"number"!=typeof n&&a(typeof n,"not a number"),n;case t.TYPES.string:return"string"==typeof n||n&&n instanceof String||a(typeof n,"not a string"),""+n;case t.TYPES.bytes:return e.isByteBuffer(n)?n:e.wrap(n);case t.TYPES.enum:for(i=this.resolvedType.getChildren(t.Reflect.Enum.Value),s=0;s<i.length;s++){if(i[s].name==n)return i[s].id;if(i[s].id==n)return i[s].id}if("proto3"===this.syntax)return("number"!=typeof n||n==n&&n%1!=0)&&a(typeof n,"not an integer"),(n>4294967295||n<0)&&a(typeof n,"not in range for uint32"),n;a(n,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(n&&"object"==typeof n||a(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){for(s in o={},n)n.hasOwnProperty(s)&&(o[s]=n[s]);n=o}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},c.calculateLength=function(e,r){if(null===r)return 0;var i;switch(this.type){case t.TYPES.int32:return r<0?n.calculateVarint64(r):n.calculateVarint32(r);case t.TYPES.uint32:return n.calculateVarint32(r);case t.TYPES.sint32:return n.calculateVarint32(n.zigZagEncode32(r));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES.float:return 4;case t.TYPES.int64:case t.TYPES.uint64:return n.calculateVarint64(r);case t.TYPES.sint64:return n.calculateVarint64(n.zigZagEncode64(r));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES.enum:return n.calculateVarint32(r);case t.TYPES.double:return 8;case t.TYPES.string:return i=n.calculateUTF8Bytes(r),n.calculateVarint32(i)+i;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return n.calculateVarint32(r.remaining())+r.remaining();case t.TYPES.message:return i=this.resolvedType.calculate(r),n.calculateVarint32(i)+i;case t.TYPES.group:return(i=this.resolvedType.calculate(r))+n.calculateVarint32(e<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},c.encodeValue=function(e,r,i){var o,s;if(null===r)return i;switch(this.type){case t.TYPES.int32:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case t.TYPES.uint32:i.writeVarint32(r);break;case t.TYPES.sint32:i.writeVarint32ZigZag(r);break;case t.TYPES.fixed32:i.writeUint32(r);break;case t.TYPES.sfixed32:i.writeInt32(r);break;case t.TYPES.int64:case t.TYPES.uint64:i.writeVarint64(r);break;case t.TYPES.sint64:i.writeVarint64ZigZag(r);break;case t.TYPES.fixed64:i.writeUint64(r);break;case t.TYPES.sfixed64:i.writeInt64(r);break;case t.TYPES.bool:"string"==typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case t.TYPES.enum:i.writeVarint32(r);break;case t.TYPES.float:i.writeFloat32(r);break;case t.TYPES.double:i.writeFloat64(r);break;case t.TYPES.string:i.writeVString(r);break;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");o=r.offset,i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case t.TYPES.message:s=(new n).LE(),this.resolvedType.encode(r,s),i.writeVarint32(s.offset),i.append(s.flip());break;case t.TYPES.group:this.resolvedType.encode(r,i),i.writeVarint32(e<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},c.decode=function(e,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES.enum:return e.readVarint32();case t.TYPES.float:return e.readFloat();case t.TYPES.double:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(o=e.readVarint32(),e.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+e.remaining());return(i=e.clone()).limit=i.offset+o,e.offset+=o,i;case t.TYPES.message:return o=e.readVarint32(),this.resolvedType.decode(e,o);case t.TYPES.group:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},c.valueFromString=function(e){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(e));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(e);case t.TYPES.bool:return"true"===e;case t.TYPES.string:return this.verifyValue(e);case t.TYPES.bytes:return n.fromBinary(e)}},c.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},b.Element=a,(l=(u=function(e,t,n,r,i,s){o.call(this,e,t,n,r,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null}).prototype=Object.create(o.prototype)).build=function(r){var i,o,s,a;if(this.clazz&&!r)return this.clazz;for(i=function(t,r){function i(e,r,o,s){var a,c,u,l,h,f,d;if(null===e||"object"!=typeof e)return s&&s instanceof t.Reflect.Enum&&null!==(a=t.Reflect.Enum.getName(s.object,e))?a:e;if(n.isByteBuffer(e))return r?e.toBase64():e.toBuffer();if(t.Long.isLong(e))return o?e.toString():t.Long.fromValue(e);if(Array.isArray(e))return c=[],e.forEach((function(e,t){c[t]=i(e,r,o,s)})),c;if(c={},e instanceof t.Map){for(l=(u=e.entries()).next();!l.done;l=u.next())c[e.keyElem.valueToString(l.value[0])]=i(l.value[1],r,o,e.valueElem.resolvedType);return c}for(d in h=e.$type,f=void 0,e)e.hasOwnProperty(d)&&(c[d]=h&&(f=h.getChild(d))?i(e[d],r,o,f.resolvedType):i(e[d],r,o));return c}var o,s,a=r.getChildren(t.Reflect.Message.Field),c=r.getChildren(t.Reflect.Message.OneOf),u=function(e){var i,o,s,l;for(t.Builder.Message.call(this),i=0,o=c.length;o>i;++i)this[c[i].name]=null;for(i=0,o=a.length;o>i;++i)this[(s=a[i]).name]=s.repeated?[]:s.map?new t.Map(s):null,!s.required&&"proto3"!==r.syntax||null===s.defaultValue||(this[s.name]=s.defaultValue);if(arguments.length>0)if(1!==arguments.length||null===e||"object"!=typeof e||!("function"!=typeof e.encode||e instanceof u)||Array.isArray(e)||e instanceof t.Map||n.isByteBuffer(e)||e instanceof ArrayBuffer||t.Long&&e instanceof t.Long)for(i=0,o=arguments.length;o>i;++i)void 0!==(l=arguments[i])&&this.$set(a[i].name,l);else this.$set(e)},l=u.prototype=Object.create(t.Builder.Message.prototype);for(l.add=function(e,n,i){var o=r._fieldsByName[e];if(!i){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");n=o.verifyValue(n,!0)}return null===this[e]&&(this[e]=[]),this[e].push(n),this},l.$add=l.add,l.set=function(e,n,i){var o,s,a;if(e&&"object"==typeof e){for(o in i=n,e)e.hasOwnProperty(o)&&void 0!==(n=e[o])&&this.$set(o,n,i);return this}if(s=r._fieldsByName[e],i)this[e]=n;else{if(!s)throw Error(this+"#"+e+" is not a field: undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));this[s.name]=n=s.verifyValue(n)}return s&&s.oneof&&(a=this[s.oneof.name],null!==n?(null!==a&&a!==s.name&&(this[a]=null),this[s.oneof.name]=s.name):a===e&&(this[s.oneof.name]=null)),this},l.$set=l.set,l.get=function(e,n){if(n)return this[e];var i=r._fieldsByName[e];if(!(i&&i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));return this[i.name]},l.$get=l.get,o=0;o<a.length;o++)(s=a[o])instanceof t.Reflect.Message.ExtensionField||r.builder.options.populateAccessors&&function(e){var t,n,i,o=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));o=o.substring(0,1).toUpperCase()+o.substring(1),t=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),n=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},i=function(){return this[e.name]},null===r.getChild("set"+o)&&(l["set"+o]=n),null===r.getChild("set_"+t)&&(l["set_"+t]=n),null===r.getChild("get"+o)&&(l["get"+o]=i),null===r.getChild("get_"+t)&&(l["get_"+t]=i)}(s);return l.encode=function(t,n){var i,o;"boolean"==typeof t&&(n=t,t=void 0),i=!1,t||(t=new e,i=!0),o=t.littleEndian;try{return r.encode(this,t.LE(),n),(i?t.flip():t).LE(o)}catch(e){throw t.LE(o),e}},u.encode=function(e,t,n){return new u(e).encode(t,n)},l.calculate=function(){return r.calculate(this)},l.encodeDelimited=function(e){var t,i=!1;return e||(e=new n,i=!0),t=(new n).LE(),r.encode(this,t).flip(),e.writeVarint32(t.remaining()),e.append(t),i?e.flip():e},l.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},l.toArrayBuffer=l.encodeAB,l.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},l.toBuffer=l.encodeNB,l.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},l.toBase64=l.encode64,l.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},l.toHex=l.encodeHex,l.toRaw=function(e,t){return i(this,!!e,!!t,this.$type)},l.encodeJSON=function(){return JSON.stringify(i(this,!0,!0,this.$type))},u.decode=function(e,t){var i,o;"string"==typeof e&&(e=n.wrap(e,t||"base64")),i=(e=n.isByteBuffer(e)?e:n.wrap(e)).littleEndian;try{return o=r.decode(e.LE()),e.LE(i),o}catch(t){throw e.LE(i),t}},u.decodeDelimited=function(e,t){var i,o,s;if("string"==typeof e&&(e=n.wrap(e,t||"base64")),(e=n.isByteBuffer(e)?e:n.wrap(e)).remaining()<1)return null;if(i=e.offset,o=e.readVarint32(),e.remaining()<o)return e.offset=i,null;try{return s=r.decode(e.slice(e.offset,e.offset+o).LE()),e.offset+=o,s}catch(t){throw e.offset+=o,t}},u.decode64=function(e){return u.decode(e,"base64")},u.decodeHex=function(e){return u.decode(e,"hex")},u.decodeJSON=function(e){return new u(JSON.parse(e))},l.toString=function(){return r.toString()},Object.defineProperty&&(Object.defineProperty(u,"$options",{value:r.buildOpt()}),Object.defineProperty(l,"$options",{value:u.$options}),Object.defineProperty(u,"$type",{value:r}),Object.defineProperty(l,"$type",{value:r})),u}(t,this),this._fields=[],this._fieldsById={},this._fieldsByName={},s=0,a=this.children.length;a>s;s++)if((o=this.children[s])instanceof g||o instanceof u||o instanceof v){if(i.hasOwnProperty(o.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+o.toString(!0)+" cannot override static property '"+o.name+"'");i[o.name]=o.build()}else if(o instanceof u.Field)o.build(),this._fields.push(o),this._fieldsById[o.id]=o,this._fieldsByName[o.name]=o;else if(!(o instanceof u.OneOf||o instanceof y))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[s].toString(!0));return this.clazz=i},l.encode=function(e,t,n){var r,i,o,s,a,c=null;for(o=0,s=this._fields.length;s>o;++o)i=e[(r=this._fields[o]).name],r.required&&null===i?null===c&&(c=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==c)throw(a=Error("Missing at least one required field for "+this.toString(!0)+": "+c)).encoded=t,a;return t},l.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;o>i;++i){if(n=e[(t=this._fields[i]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},l.decode=function(e,n,r){var o,s,a,c,u,l,h,f,d,p,g,m;for(n="number"==typeof n?n:-1,u=e.offset,l=new this.clazz;e.offset<u+n||-1===n&&e.remaining()>0;){if(a=(o=e.readVarint32())>>>3,(s=7&o)===t.WIRE_TYPES.ENDGROUP){if(a!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(r?r+" expected":"not a group")+")");break}if(c=this._fieldsById[a])c.repeated&&!c.options.packed?l[c.name].push(c.decode(s,e)):c.map?(f=c.decode(s,e),l[c.name].set(f[0],f[1])):(l[c.name]=c.decode(s,e),c.oneof&&(null!==(d=l[c.oneof.name])&&d!==c.name&&(l[d]=null),l[c.oneof.name]=c.name));else switch(s){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:h=e.readVarint32(),e.offset+=h;break;case t.WIRE_TYPES.STARTGROUP:for(;i(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+s)}}for(p=0,g=this._fields.length;g>p;++p)if(null===l[(c=this._fields[p]).name])if("proto3"===this.syntax)l[c.name]=c.defaultValue;else{if(c.required)throw(m=Error("Missing at least one required field for "+this.toString(!0)+": "+c.name)).decoded=l,m;t.populateDefaults&&null!==c.defaultValue&&(l[c.name]=c.defaultValue)}return l},b.Message=u,(f=(h=function(e,n,r,i,o,s,a,c,l,h){C.call(this,e,n,s),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=i||null,this.type=o,this.resolvedType=null,this.id=a,this.options=c||{},this.defaultValue=null,this.oneof=l||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof u.ExtensionField||(this.name=t.Util.toCamelCase(this.name))}).prototype=Object.create(C.prototype)).build=function(){this.element=new a(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new a(this.keyType,void 0,!0,this.syntax)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=a.defaultFieldValue(this.type)},f.verifyValue=function(e,n){var r,i,o;if(n=n||!1,r=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this),null===e)return this.required&&r(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&r(typeof e,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){for(Array.isArray(e)||(e=[e]),o=[],i=0;i<e.length;i++)o.push(this.element.verifyValue(e[i]));return o}return this.map&&!n?e instanceof t.Map?e:(e instanceof Object||r(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&r(typeof e,"no array expected"),this.element.verifyValue(e))},f.hasWirePresence=function(e,n){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES.float:case t.TYPES.double:return 0!==e;case t.TYPES.string:return e.length>0;case t.TYPES.bytes:return e.remaining()>0;case t.TYPES.enum:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},f.encode=function(e,r,i){var o,s,a,c,u;if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===e||this.repeated&&0==e.length)return r;try{if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1),s=r.offset,o=0;o<e.length;o++)this.element.encodeValue(this.id,e[o],r);a=r.offset-s,(c=n.calculateVarint32(a))>1&&(u=r.slice(s,r.offset),s+=c-1,r.offset=s,r.append(u)),r.writeVarint32(a,s-c)}else for(o=0;o<e.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,e[o],r);else this.map?e.forEach((function(e,i){var o=n.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+n.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,e);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(o),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,e,r)}),this):this.hasWirePresence(e,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,e,r))}catch(t){throw Error("Illegal value for "+this.toString(!0)+": "+e+" ("+t+")")}return r},f.calculate=function(e,r){var i,o,s;if(e=this.verifyValue(e),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===e||this.repeated&&0==e.length)return 0;i=0;try{if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=n.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),s=0,o=0;o<e.length;o++)s+=this.element.calculateLength(this.id,e[o]);i+=n.calculateVarint32(s),i+=s}else for(o=0;o<e.length;o++)i+=n.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,e[o]);else this.map?e.forEach((function(e,r){var o=n.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+n.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,e);i+=n.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i+=n.calculateVarint32(o),i+=o}),this):this.hasWirePresence(e,r)&&(i+=n.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,e))}catch(t){throw Error("Illegal value for "+this.toString(!0)+": "+e+" ("+t+")")}return i},f.decode=function(e,n,r){var i,o,s,c,u,l,h;if(!(!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){for(o=n.readVarint32(),o=n.offset+o,s=[];n.offset<o;)s.push(this.decode(this.type.wireType,n,!0));return s}if(this.map){if(c=a.defaultFieldValue(this.keyType),i=a.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());for((u=n.clone()).limit=u.offset+o,n.offset+=o;u.remaining()>0;)if(e=7&(l=u.readVarint32()),1==(h=l>>>3))c=this.keyElement.decode(u,e,h);else{if(2!==h)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(u,e,h)}return[c,i]}return this.element.decode(n,e,this.id)},b.Message.Field=h,(d=function(e,t,n,r,i,o,s){h.call(this,e,t,n,null,r,i,o,s),this.extension}).prototype=Object.create(h.prototype),b.Message.ExtensionField=d,p=function(e,t,n){C.call(this,e,t,n),this.fields=[]},b.Message.OneOf=p,(g=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null}).getName=function(e,t){var n,r,i=Object.keys(e);for(r=0;r<i.length;++r)if(e[n=i[r]]===t)return n;return null},(g.prototype=Object.create(o.prototype)).build=function(e){var n,r,i,o;if(this.object&&!e)return this.object;for(n=new t.Builder.Enum,i=0,o=(r=this.getChildren(g.Value)).length;o>i;++i)n[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},b.Enum=g,(m=function(e,t,n,r){C.call(this,e,t,n),this.className="Enum.Value",this.id=r}).prototype=Object.create(C.prototype),b.Enum.Value=m,(y=function(e,t,n,r){C.call(this,e,t,n),this.field=r}).prototype=Object.create(C.prototype),b.Extension=y,((v=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null}).prototype=Object.create(o.prototype)).build=function(e){return this.clazz&&!e?this.clazz:this.clazz=function(e,t){var r,i=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},o=i.prototype=Object.create(e.Builder.Service.prototype),s=t.getChildren(e.Reflect.Service.RPCMethod);for(r=0;r<s.length;r++)!function(e){o[e.name]=function(r,i){try{try{r=e.resolvedRequestType.clazz.decode(n.wrap(r))}catch(e){if(!(e instanceof TypeError))throw e}if(null===r||"object"!=typeof r)throw Error("Illegal arguments");r instanceof e.resolvedRequestType.clazz||(r=new e.resolvedRequestType.clazz(r)),this.rpcImpl(e.fqn(),r,(function(n,r){if(!n){try{r=e.resolvedResponseType.clazz.decode(r)}catch(e){}return r&&r instanceof e.resolvedResponseType.clazz?void i(null,r):void i(Error("Illegal response type received in service method "+t.name+"#"+e.name))}i(n)}))}catch(e){setTimeout(i.bind(this,e),0)}},i[e.name]=function(t,n,r){new i(t)[e.name](n,r)},Object.defineProperty&&(Object.defineProperty(i[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(o[e.name],"$options",{value:i[e.name].$options}))}(s[r]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:t.buildOpt()}),Object.defineProperty(o,"$options",{value:i.$options}),Object.defineProperty(i,"$type",{value:t}),Object.defineProperty(o,"$type",{value:t})),i}(t,this)},b.Service=v,((_=function(e,t,n,r){C.call(this,e,t,n),this.className="Service.Method",this.options=r||{}}).prototype=Object.create(C.prototype)).buildOpt=s.buildOpt,b.Service.Method=_,(E=function(e,t,n,r,i,o,s,a){_.call(this,e,t,n,a),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null}).prototype=Object.create(_.prototype),b.Service.RPCMethod=E,b}(o),o.Builder=function(e,t,n){function r(e){e.messages&&e.messages.forEach((function(t){t.syntax=e.syntax,r(t)})),e.enums&&e.enums.forEach((function(t){t.syntax=e.syntax}))}var i=function(e){this.ns=new n.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;return i.isMessage=function(e){return"string"==typeof e.name&&void 0===e.values&&void 0===e.rpc},i.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},i.isEnum=function(e){return"string"==typeof e.name&&!(void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},i.isService=function(e){return!("string"!=typeof e.name||"object"!=typeof e.rpc||!e.rpc)},i.isExtend=function(e){return"string"==typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new n.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},o.create=function(t){var r,o,s,a,c;if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(r=[t];r.length>0;){if(t=r.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){if(o=t.shift(),i.isMessage(o)){if(s=new n.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),a={},o.oneofs&&Object.keys(o.oneofs).forEach((function(e){s.addChild(a[e]=new n.Message.OneOf(this,s,e))}),this),o.fields&&o.fields.forEach((function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate or invalid field id in "+s.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+s.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+s.name+"#"+e.name+": "+e.oneof);e=new n.Message.Field(this,s,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),s.addChild(e)}),this),c=[],o.enums&&o.enums.forEach((function(e){c.push(e)})),o.messages&&o.messages.forEach((function(e){c.push(e)})),o.services&&o.services.forEach((function(e){c.push(e)})),o.extensions&&(s.extensions="number"==typeof o.extensions[0]?[o.extensions]:o.extensions),this.ptr.addChild(s),c.length>0){r.push(t),t=c,c=null,this.ptr=s,s=null;continue}c=null}else if(i.isEnum(o))s=new n.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach((function(e){s.addChild(new n.Enum.Value(this,s,e.name,e.id))}),this),this.ptr.addChild(s);else if(i.isService(o))s=new n.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach((function(e){var t=o.rpc[e];s.addChild(new n.Service.RPCMethod(this,s,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(s);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o.ref,!0))o.fields.forEach((function(t){var r,i,o,a;if(null!==s.getChild(0|t.id))throw Error("duplicate extended field id in "+s.name+": "+t.id);if(s.extensions&&(r=!1,s.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(r=!0)})),!r))throw Error("illegal extended field id in "+s.name+": "+t.id+" (not within valid ranges)");i=t.name,this.options.convertFieldsToCamelCase&&(i=e.Util.toCamelCase(i)),o=new n.Message.ExtensionField(this,s,t.rule,t.type,this.ptr.fqn()+"."+i,t.id,t.options),a=new n.Extension(this,this.ptr,t.name,o),o.extension=a,this.ptr.addChild(a),s.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,s=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(t,n){var i,o,s,a,c,u,l,h,f="/";if("string"==typeof n){if(e.Util.IS_NODE,!0===this.files[n])return this.reset();this.files[n]=!0}else if("object"==typeof n){if(i=n.root,e.Util.IS_NODE,(i.indexOf("\\")>=0||n.file.indexOf("\\")>=0)&&(f="\\"),o=i+f+n.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(t.imports&&t.imports.length>0){for(a=!1,"object"==typeof n?(this.importRoot=n.root,a=!0,s=this.importRoot,n=n.file,(s.indexOf("\\")>=0||n.indexOf("\\")>=0)&&(f="\\")):"string"==typeof n?this.importRoot?s=this.importRoot:n.indexOf("/")>=0?""===(s=n.replace(/\/[^\/]*$/,""))&&(s="/"):n.indexOf("\\")>=0?(s=n.replace(/\\[^\\]*$/,""),f="\\"):s=".":s=null,c=0;c<t.imports.length;c++)if("string"==typeof t.imports[c]){if(!s)throw Error("cannot determine import root");if("google/protobuf/descriptor.proto"===(u=t.imports[c]))continue;if(u=s+f+u,!0===this.files[u])continue;if(/\.proto$/i.test(u)&&!e.DotProto&&(u=u.replace(/\.proto$/,".json")),null===(l=e.Util.fetch(u)))throw Error("failed to import '"+u+"' in '"+n+"': file not found");/\.json$/i.test(u)?this.import(JSON.parse(l+""),u):this.import(e.DotProto.Parser.parse(l),u)}else n?/\.(\w+)$/.test(n)?this.import(t.imports[c],n.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+c+"."+n}))):this.import(t.imports[c],n+"_import"+c):this.import(t.imports[c]);a&&(this.importRoot=null)}return t.package&&this.define(t.package),t.syntax&&r(t),h=this.ptr,t.options&&Object.keys(t.options).forEach((function(e){h.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=h),t.enums&&(this.create(t.enums),this.ptr=h),t.services&&(this.create(t.services),this.ptr=h),t.extends&&this.create(t.extends),this.reset()},o.resolveAll=function(){var r;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof n.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof n.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(r=(this.ptr instanceof n.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=r,r instanceof n.Enum){if(this.ptr.type=e.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==r.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(r instanceof n.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((r=this.ptr.parent.resolve(this.ptr.requestName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=r,!((r=this.ptr.parent.resolve(this.ptr.responseName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){var t,n,r;if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(t="string"==typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(o,o.Lang,o.Reflect),o.Map=function(e,t){function n(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(e,n){var r,i,o,s;if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(r=Object.keys(n),i=0;i<r.length;i++)o=this.keyElem.valueFromString(r[i]),s=this.valueElem.verifyValue(n[r[i]]),this.map[this.keyElem.valueToString(o)]={key:o,value:s}},i=r.prototype;return i.clear=function(){this.map={}},i.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},i.entries=function(){var e,t,r=[],i=Object.keys(this.map);for(t=0;t<i.length;t++)r.push([(e=this.map[i[t]]).key,e.value]);return n(r)},i.keys=function(){var e,t=[],r=Object.keys(this.map);for(e=0;e<r.length;e++)t.push(this.map[r[e]].key);return n(t)},i.values=function(){var e,t=[],r=Object.keys(this.map);for(e=0;e<r.length;e++)t.push(this.map[r[e]].value);return n(t)},i.forEach=function(e,t){var n,r,i=Object.keys(this.map);for(r=0;r<i.length;r++)e.call(t,(n=this.map[i[r]]).value,n.key,this)},i.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},i.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map?this.map[t].value:void 0},i.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},r}(0,o.Reflect),o.loadProto=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=void 0),o.loadJson(o.DotProto.Parser.parse(e),t,n)},o.protoFromString=o.loadProto,o.loadProtoFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,o.loadProto(r,n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:o.loadProto(r,n,e)},o.protoFromFile=o.loadProtoFile,o.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=o.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=o.populateAccessors),new o.Builder(e)},o.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"==typeof t||(t=o.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},o.loadJsonFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,o.loadJson(JSON.parse(r),n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:o.loadJson(JSON.parse(r),n,e)},i=Io,o.loadProto(i,void 0,"").build("Modules").probuf}(function(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function n(){var e=[],t=[];return function(){return 0===arguments.length?t.join("")+a.apply(String,e):(e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),void Array.prototype.push.apply(e,arguments))}}function r(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)}function i(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*g}var o,s,a,c,u,l=function(e,t,n){if(void 0===e&&(e=l.DEFAULT_CAPACITY),void 0===t&&(t=l.DEFAULT_ENDIAN),void 0===n&&(n=l.DEFAULT_NOASSERT),!n){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,n=!!n}this.buffer=0===e?s:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=n};return l.VERSION="5.0.1",l.LITTLE_ENDIAN=!0,l.BIG_ENDIAN=!1,l.DEFAULT_CAPACITY=16,l.DEFAULT_ENDIAN=l.BIG_ENDIAN,l.DEFAULT_NOASSERT=!1,l.Long=e||null,(o=l.prototype).__isByteBuffer__,Object.defineProperty(o,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1}),s=new ArrayBuffer(0),a=String.fromCharCode,l.accessor=function(){return Uint8Array},l.allocate=function(e,t,n){return new l(e,t,n)},l.concat=function(e,t,n,r){var i,o,s,a,c,u;for(("boolean"==typeof t||"string"!=typeof t)&&(r=n,n=t,t=void 0),i=0,s=0,a=e.length;a>s;++s)l.isByteBuffer(e[s])||(e[s]=l.wrap(e[s],t)),(o=e[s].limit-e[s].offset)>0&&(i+=o);if(0===i)return new l(0,n,r);for(u=new l(i,n,r),s=0;a>s;)(o=(c=e[s++]).limit-c.offset)<=0||(u.view.set(c.view.subarray(c.offset,c.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},l.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},l.type=function(){return ArrayBuffer},l.wrap=function(e,t,n,r){var i,s;if("string"!=typeof t&&(r=n,n=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return l.fromBase64(e,n);case"hex":return l.fromHex(e,n);case"binary":return l.fromBinary(e,n);case"utf8":return l.fromUTF8(e,n);case"debug":return l.fromDebug(e,n);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");if(l.isByteBuffer(e))return(i=o.clone.call(e)).markedOffset=-1,i;if(e instanceof Uint8Array)i=new l(0,n,r),e.length>0&&(i.buffer=e.buffer,i.offset=e.byteOffset,i.limit=e.byteOffset+e.byteLength,i.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)i=new l(0,n,r),e.byteLength>0&&(i.buffer=e,i.offset=0,i.limit=e.byteLength,i.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for((i=new l(e.length,n,r)).limit=e.length,s=0;s<e.length;++s)i.view[s]=e[s]}return i},o.writeBitSet=function(e,t){var n,r,i,o,s,a,c=void 0===t;if(c&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}for(r=t,o=(i=e.length)>>3,s=0,t+=this.writeVarint32(i,t);o--;)n=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(n,t++);if(i>s){for(a=0,n=0;i>s;)n|=(1&!!e[s++])<<a++;this.writeByte(n,t++)}return c?(this.offset=t,this):t-r},o.readBitSet=function(e){var t,n,r,i,o,s,a,c=void 0===e;for(c&&(e=this.offset),i=(r=(n=this.readVarint32(e)).value)>>3,o=0,s=[],e+=n.length;i--;)t=this.readByte(e++),s[o++]=!!(1&t),s[o++]=!!(2&t),s[o++]=!!(4&t),s[o++]=!!(8&t),s[o++]=!!(16&t),s[o++]=!!(32&t),s[o++]=!!(64&t),s[o++]=!!(128&t);if(r>o)for(a=0,t=this.readByte(e++);r>o;)s[o++]=!!(1&t>>a++);return c&&(this.offset=e),s},o.readBytes=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}return n=this.slice(t,t+e),r&&(this.offset+=e),n},o.writeBytes=o.append,o.writeInt8=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=1)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},o.writeByte=o.writeInt8,o.readInt8=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return 128==(128&(t=this.view[e]))&&(t=-(255-t+1)),n&&(this.offset+=1),t},o.readByte=o.readInt8,o.writeUint8=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=1)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},o.writeUInt8=o.writeUint8,o.readUint8=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=this.view[e],n&&(this.offset+=1),t},o.readUInt8=o.readUint8,o.writeInt16=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=2)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},o.writeShort=o.writeInt16,o.readInt16=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e],t|=this.view[e+1]<<8):(t=this.view[e]<<8,t|=this.view[e+1]),32768==(32768&t)&&(t=-(65535-t+1)),n&&(this.offset+=2),t},o.readShort=o.readInt16,o.writeUint16=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=2)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},o.writeUInt16=o.writeUint16,o.readUint16=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e],t|=this.view[e+1]<<8):(t=this.view[e]<<8,t|=this.view[e+1]),n&&(this.offset+=2),t},o.readUInt16=o.readUint16,o.writeInt32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=255&e>>>24,this.view[t+2]=255&e>>>16,this.view[t+1]=255&e>>>8,this.view[t]=255&e):(this.view[t]=255&e>>>24,this.view[t+1]=255&e>>>16,this.view[t+2]=255&e>>>8,this.view[t+3]=255&e),r&&(this.offset+=4),this},o.writeInt=o.writeInt32,o.readInt32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e+2]<<16,t|=this.view[e+1]<<8,t|=this.view[e],t+=this.view[e+3]<<24>>>0):(t=this.view[e+1]<<16,t|=this.view[e+2]<<8,t|=this.view[e+3],t+=this.view[e]<<24>>>0),t|=0,n&&(this.offset+=4),t},o.readInt=o.readInt32,o.writeUint32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=255&e>>>24,this.view[t+2]=255&e>>>16,this.view[t+1]=255&e>>>8,this.view[t]=255&e):(this.view[t]=255&e>>>24,this.view[t+1]=255&e>>>16,this.view[t+2]=255&e>>>8,this.view[t+3]=255&e),r&&(this.offset+=4),this},o.writeUInt32=o.writeUint32,o.readUint32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e+2]<<16,t|=this.view[e+1]<<8,t|=this.view[e],t+=this.view[e+3]<<24>>>0):(t=this.view[e+1]<<16,t|=this.view[e+2]<<8,t|=this.view[e+3],t+=this.view[e]<<24>>>0),n&&(this.offset+=4),t},o.readUInt32=o.readUint32,e&&(o.writeInt64=function(t,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),(n+=8)>(r=this.buffer.byteLength)&&this.resize((r*=2)>n?r:n),n-=8,i=t.low,o=t.high,this.littleEndian?(this.view[n+3]=255&i>>>24,this.view[n+2]=255&i>>>16,this.view[n+1]=255&i>>>8,this.view[n]=255&i,n+=4,this.view[n+3]=255&o>>>24,this.view[n+2]=255&o>>>16,this.view[n+1]=255&o>>>8,this.view[n]=255&o):(this.view[n]=255&o>>>24,this.view[n+1]=255&o>>>16,this.view[n+2]=255&o>>>8,this.view[n+3]=255&o,n+=4,this.view[n]=255&i>>>24,this.view[n+1]=255&i>>>16,this.view[n+2]=255&i>>>8,this.view[n+3]=255&i),s&&(this.offset+=8),this},o.writeLong=o.writeInt64,o.readInt64=function(t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return n=0,r=0,this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),i=new e(n,r,!1),o&&(this.offset+=8),i},o.readLong=o.readInt64,o.writeUint64=function(t,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),(n+=8)>(r=this.buffer.byteLength)&&this.resize((r*=2)>n?r:n),n-=8,i=t.low,o=t.high,this.littleEndian?(this.view[n+3]=255&i>>>24,this.view[n+2]=255&i>>>16,this.view[n+1]=255&i>>>8,this.view[n]=255&i,n+=4,this.view[n+3]=255&o>>>24,this.view[n+2]=255&o>>>16,this.view[n+1]=255&o>>>8,this.view[n]=255&o):(this.view[n]=255&o>>>24,this.view[n+1]=255&o>>>16,this.view[n+2]=255&o>>>8,this.view[n+3]=255&o,n+=4,this.view[n]=255&i>>>24,this.view[n+1]=255&i>>>16,this.view[n+2]=255&i>>>8,this.view[n+3]=255&i),s&&(this.offset+=8),this},o.writeUInt64=o.writeUint64,o.readUint64=function(t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return n=0,r=0,this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),i=new e(n,r,!0),o&&(this.offset+=8),i},o.readUInt64=o.readUint64),o.writeFloat32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,i(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},o.writeFloat=o.writeFloat32,o.readFloat32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=r(this.view,e,this.littleEndian,23,4),n&&(this.offset+=4),t},o.readFloat=o.readFloat32,o.writeFloat64=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=8)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=8,i(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},o.writeDouble=o.writeFloat64,o.readFloat64=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}return t=r(this.view,e,this.littleEndian,52,8),n&&(this.offset+=8),t},o.readDouble=o.readFloat64,l.MAX_VARINT32_BYTES=5,l.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:1<<21>e?3:1<<28>e?4:5},l.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},l.zigZagDecode32=function(e){return 0|e>>>1^-(1&e)},o.writeVarint32=function(e,t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}for((t+=r=l.calculateVarint32(e))>(i=this.buffer.byteLength)&&this.resize((i*=2)>t?i:t),t-=r,e>>>=0;e>=128;)n=128|127&e,this.view[t++]=n,e>>>=7;return this.view[t++]=e,o?(this.offset=t,this):r},o.writeVarint32ZigZag=function(e,t){return this.writeVarint32(l.zigZagEncode32(e),t)},o.readVarint32=function(e){var t,n,r,i,o=void 0===e;if(o&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}n=0,r=0;do{if(!this.noAssert&&e>this.limit)throw(i=Error("Truncated")).truncated=!0,i;t=this.view[e++],n<5&&(r|=(127&t)<<7*n),++n}while(0!=(128&t));return r|=0,o?(this.offset=e,r):{value:r,length:n}},o.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"==typeof t?t.value=l.zigZagDecode32(t.value):t=l.zigZagDecode32(t),t},e&&(l.MAX_VARINT64_BYTES=10,l.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:1<<21>n?3:4:r<16384?r<128?5:6:1<<21>r?7:8:i<128?9:10},l.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},l.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},o.writeVarint64=function(t,n){var r,i,o,s,a,c=void 0===n;if(c&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}switch("number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),r=l.calculateVarint64(t),i=t.toInt()>>>0,o=t.shiftRightUnsigned(28).toInt()>>>0,s=t.shiftRightUnsigned(56).toInt()>>>0,(n+=r)>(a=this.buffer.byteLength)&&this.resize((a*=2)>n?a:n),n-=r,r){case 10:this.view[n+9]=1&s>>>7;case 9:this.view[n+8]=9!==r?128|s:127&s;case 8:this.view[n+7]=8!==r?128|o>>>21:127&o>>>21;case 7:this.view[n+6]=7!==r?128|o>>>14:127&o>>>14;case 6:this.view[n+5]=6!==r?128|o>>>7:127&o>>>7;case 5:this.view[n+4]=5!==r?128|o:127&o;case 4:this.view[n+3]=4!==r?128|i>>>21:127&i>>>21;case 3:this.view[n+2]=3!==r?128|i>>>14:127&i>>>14;case 2:this.view[n+1]=2!==r?128|i>>>7:127&i>>>7;case 1:this.view[n]=1!==r?128|i:127&i}return c?(this.offset+=r,this):r},o.writeVarint64ZigZag=function(e,t){return this.writeVarint64(l.zigZagEncode64(e),t)},o.readVarint64=function(t){var n,r,i,o,s,a,c=void 0===t;if(c&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}if(n=t,r=0,i=0,o=0,s=0,r=127&(s=this.view[t++]),128&s&&(r|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(i=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");return a=e.fromBits(r|i<<28,i>>>4|o<<24,!1),c?(this.offset=t,a):{value:a,length:t-n}},o.readVarint64ZigZag=function(t){var n=this.readVarint64(t);return n&&n.value instanceof e?n.value=l.zigZagDecode64(n.value):n=l.zigZagDecode64(n),n}),o.writeCString=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),i=e.length,!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;i>r;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return i=u.calculateUTF16asUTF8(t(e))[1],n+=i+1,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=i+1,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),this.view[n++]=0,s?(this.offset=n,this):i},o.readCString=function(e){var t,r,i,o=void 0===e;if(o&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=e,i=-1,u.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view[e++])?null:i}.bind(this),r=n(),!0),o?(this.offset=e,r()):{string:r(),length:e-t}},o.writeIString=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}if(i=n,r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],n+=4+r,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=4+r,this.littleEndian?(this.view[n+3]=255&r>>>24,this.view[n+2]=255&r>>>16,this.view[n+1]=255&r>>>8,this.view[n]=255&r):(this.view[n]=255&r>>>24,this.view[n+1]=255&r>>>16,this.view[n+2]=255&r>>>8,this.view[n+3]=255&r),n+=4,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==i+4+r)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+r));return s?(this.offset=n,this):n-i},o.readIString=function(e){var t,n,r,i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=e,n=this.readUint32(e),r=this.readUTF8String(n,l.METRICS_BYTES,e+=4),e+=r.length,i?(this.offset=e,r.string):{string:r.string,length:e-t}},l.METRICS_CHARS="c",l.METRICS_BYTES="b",o.writeUTF8String=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return i=n,r=u.calculateUTF16asUTF8(t(e))[1],n+=r,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=r,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),s?(this.offset=n,this):n-i},o.writeString=o.writeUTF8String,l.calculateUTF8Chars=function(e){return u.calculateUTF16asUTF8(t(e))[0]},l.calculateUTF8Bytes=function(e){return u.calculateUTF16asUTF8(t(e))[1]},l.calculateString=l.calculateUTF8Bytes,o.readUTF8String=function(e,t,r){var i,o,s,a,c;if("number"==typeof t&&(r=t,t=void 0),(i=void 0===r)&&(r=this.offset),void 0===t&&(t=l.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}if(s=0,a=r,t===l.METRICS_CHARS){if(o=n(),u.decodeUTF8(function(){return e>s&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++s,u.UTF8toUTF16(e,o)})),s!==e)throw RangeError("Illegal range: Truncated data, "+s+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-a}}if(t===l.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}if(c=r+e,u.decodeUTF8toUTF16(function(){return c>r?this.view[r++]:null}.bind(this),o=n(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return i?(this.offset=r,o()):{string:o(),length:r-a}}throw TypeError("Unsupported metrics: "+t)},o.readString=o.readUTF8String,o.writeVString=function(e,n){var r,i,o,s,a=void 0===n;if(a&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}if(o=n,r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],i=l.calculateVarint32(r),n+=i+r,s=this.buffer.byteLength,n>s&&this.resize((s*=2)>n?s:n),n-=i+r,n+=this.writeVarint32(r,n),u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==o+r+i)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+r+i));return a?(this.offset=n,this):n-o},o.readVString=function(e){var t,n,r,i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=e,n=this.readVarint32(e),r=this.readUTF8String(n.value,l.METRICS_BYTES,e+=n.length),e+=r.length,i?(this.offset=e,r.string):{string:r.string,length:e-t}},o.append=function(e,t,n){var r,i,o;if(("number"==typeof t||"string"!=typeof t)&&(n=t,t=void 0),(r=void 0===n)&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return e instanceof l||(e=l.wrap(e,t)),(i=e.limit-e.offset)<=0||((n+=i)>(o=this.buffer.byteLength)&&this.resize((o*=2)>n?o:n),n-=i,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=i,r&&(this.offset+=i)),this},o.appendTo=function(e,t){return e.append(this,t),this},o.assert=function(e){return this.noAssert=!e,this},o.capacity=function(){return this.buffer.byteLength},o.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},o.clone=function(e){var t=new l(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},o.compact=function(e,t){var n,r,i;if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return 0===e&&t===this.buffer.byteLength?this:0==(n=t-e)?(this.buffer=s,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this):(r=new ArrayBuffer(n),(i=new Uint8Array(r)).set(this.view.subarray(e,t)),this.buffer=r,this.view=i,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this)},o.copy=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new l(0,this.littleEndian,this.noAssert);var n=t-e,r=new l(n,this.littleEndian,this.noAssert);return r.offset=0,r.limit=n,r.markedOffset>=0&&(r.markedOffset-=e),this.copyTo(r,0,e,t),r},o.copyTo=function(e,t,n,r){var i,o,s;if(!this.noAssert&&!l.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,n=(i=void 0===n)?this.offset:0|n,r=void 0===r?this.limit:0|r,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(n<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);return 0==(s=r-n)?e:(e.ensureCapacity(t+s),e.view.set(this.view.subarray(n,r),t),i&&(this.offset+=s),o&&(e.offset+=s),this)},o.ensureCapacity=function(e){var t=this.buffer.byteLength;return e>t?this.resize((t*=2)>e?t:e):this},o.fill=function(e,t,n){var r=void 0===t;if(r&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;n>t;)this.view[t++]=e;return r&&(this.offset=t),this},o.flip=function(){return this.limit=this.offset,this.offset=0,this},o.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},o.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},o.LE=function(e){return this.littleEndian=void 0===e||!!e,this},o.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},o.prepend=function(e,t,n){var r,i,o,s,a;if(("number"==typeof t||"string"!=typeof t)&&(n=t,t=void 0),(r=void 0===n)&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return e instanceof l||(e=l.wrap(e,t)),(i=e.limit-e.offset)<=0||((o=i-n)>0?(s=new ArrayBuffer(this.buffer.byteLength+o),(a=new Uint8Array(s)).set(this.view.subarray(n,this.buffer.byteLength),i),this.buffer=s,this.view=a,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,n+=o):new Uint8Array(this.buffer),this.view.set(e.view.subarray(e.offset,e.limit),n-i),e.offset=e.limit,r&&(this.offset-=i)),this},o.prependTo=function(e,t){return e.prepend(this,t),this},o.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},o.remaining=function(){return this.limit-this.offset},o.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},o.resize=function(e){var t,n;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}return this.buffer.byteLength<e&&(t=new ArrayBuffer(e),(n=new Uint8Array(t)).set(this.view),this.buffer=t,this.view=n),this},o.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},o.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},o.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},o.toBuffer=function(e){var t,n=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: Not an integer");if(n>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,n<0||n>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+n+" <= "+r+" <= "+this.buffer.byteLength)}return e||0!==n||r!==this.buffer.byteLength?n===r?s:(t=new ArrayBuffer(r-n),new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(n,r),0),t):this.buffer},o.toArrayBuffer=o.toBuffer,o.toString=function(e,t,n){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}},c=function(){var e,t,n={},r=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[];for(e=0,t=r.length;t>e;++e)i[r[e]]=e;return n.encode=function(e,t){for(var n,i;null!==(n=e());)t(r[63&n>>2]),i=(3&n)<<4,null!==(n=e())?(t(r[63&((i|=15&n>>4)|15&n>>4)]),i=(15&n)<<2,null!==(n=e())?(t(r[63&(i|3&n>>6)]),t(r[63&n])):(t(r[63&i]),t(61))):(t(r[63&i]),t(61),t(61))},n.decode=function(e,t){function n(e){throw Error("Illegal character code: "+e)}for(var r,o,s;null!==(r=e());)if(void 0===(o=i[r])&&n(r),null!==(r=e())&&(void 0===(s=i[r])&&n(r),t(o<<2>>>0|(48&s)>>4),null!==(r=e()))){if(void 0===(o=i[r])){if(61===r)break;n(r)}if(t((15&s)<<4>>>0|(60&o)>>2),null!==(r=e())){if(void 0===(s=i[r])){if(61===r)break;n(r)}t((3&o)<<6>>>0|s)}}},n.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},n}(),o.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return c.encode(function(){return t>e?this.view[e++]:null}.bind(this),r=n()),r()},l.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var r=new l(e.length/4*3,n),i=0;return c.decode(t(e),(function(e){r.view[i++]=e})),r.limit=i,r},l.btoa=function(e){return l.fromBinary(e).toBase64()},l.atob=function(e){return l.fromBase64(e).toBinary()},o.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],r=[];t>e;)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},l.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var n,r=0,i=e.length,o=new l(i,t);i>r;){if((n=e.charCodeAt(r))>255)throw RangeError("illegal char code: "+n);o.view[r++]=n}return o.limit=i,o},o.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";r>n;){if(-1!==n&&(i+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16==0&&n!==r){for(;i.length<51;)i+=" ";s+=i+o+"\n",i=o=""}i+=n===this.offset&&n===this.limit?n===this.markedOffset?"!":"|":n===this.offset?n===this.markedOffset?"[":"<":n===this.limit?n===this.markedOffset?"]":">":n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";s+=i+o+"\n"}return e?s:i},l.fromDebug=function(e,t,n){for(var r,i,o=e.length,s=new l(0|(o+1)/3,t,n),a=0,c=0,u=!1,h=!1,f=!1,d=!1,p=!1;o>a;){switch(r=e.charAt(a++)){case"!":if(!n){if(h||f||d){p=!0;break}h=f=d=!0}s.offset=s.markedOffset=s.limit=c,u=!1;break;case"|":if(!n){if(h||d){p=!0;break}h=d=!0}s.offset=s.limit=c,u=!1;break;case"[":if(!n){if(h||f){p=!0;break}h=f=!0}s.offset=s.markedOffset=c,u=!1;break;case"<":if(!n){if(h){p=!0;break}h=!0}s.offset=c,u=!1;break;case"]":if(!n){if(d||f){p=!0;break}d=f=!0}s.limit=s.markedOffset=c,u=!1;break;case">":if(!n){if(d){p=!0;break}d=!0}s.limit=c,u=!1;break;case"'":if(!n){if(f){p=!0;break}f=!0}s.markedOffset=c,u=!1;break;case" ":u=!1;break;default:if(!n&&u){p=!0;break}if(i=parseInt(r+e.charAt(a++),16),!n&&(isNaN(i)||i<0||i>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[c++]=i,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!n){if(!h||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return s},o.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);t>e;)(n=this.view[e++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},l.fromHex=function(e,t,n){var r,i,o,s,a;if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(i=e.length,o=new l(0|i/2,t),s=0,a=0;i>s;s+=2){if(r=parseInt(e.substring(s,s+2),16),!n&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=r}return o.limit=a,o},u=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(192|31&n>>6),t(128|63&n)):n<65536?(t(224|15&n>>12),t(128|63&n>>6),t(128|63&n)):(t(240|7&n>>18),t(128|63&n>>12),t(128|63&n>>6),t(128|63&n)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224==(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}};return e}(),o.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{u.decodeUTF8toUTF16(function(){return t>e?this.view[e++]:null}.bind(this),r=n())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},l.fromUTF8=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new l(u.calculateUTF16asUTF8(t(e),!0)[1],n,r),o=0;return u.encodeUTF16toUTF8(t(e),(function(e){i.view[o++]=e})),i.limit=o,i},l}(Oo=function(){function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}function n(e,t){var n,r,o;return t?(o=(e>>>=0)>=0&&e<256)&&(r=c[e])?r:(n=i(e,(0|e)<0?-1:0,!0),o&&(c[e]=n),n):(o=(e|=0)>=-128&&e<128)&&(r=a[e])?r:(n=i(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function r(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=h)return E}else{if(-f>=e)return b;if(e+1>=f)return _}return e<0?r(-e,t).neg():i(0|e%l,0|e/l,t)}function i(t,n,r){return new e(t,n,r)}function o(e,t,n){var i,s,a,c,l,h,f;if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||n>36)throw RangeError("radix");if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return o(e.substring(1),t,n).neg();for(s=r(u(n,8)),a=p,c=0;c<e.length;c+=8)l=Math.min(8,e.length-c),h=parseInt(e.substring(c,c+l),n),l<8?(f=r(u(n,l)),a=a.mul(f).add(r(h))):a=(a=a.mul(s)).add(r(h));return a.unsigned=t,a}function s(t){return t instanceof e?t:"number"==typeof t?r(t):"string"==typeof t?o(t):i(t.low,t.high,t.unsigned)}var a,c,u,l,h,f,d,p,g,m,y,v,_,E,b,C;return e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t,a={},c={},e.fromInt=n,e.fromNumber=r,e.fromBits=i,u=Math.pow,e.fromString=o,e.fromValue=s,f=(h=(l=4294967296)*l)/2,d=n(16777216),p=n(0),e.ZERO=p,g=n(0,!0),e.UZERO=g,m=n(1),e.ONE=m,y=n(1,!0),e.UONE=y,v=n(-1),e.NEG_ONE=v,_=i(-1,2147483647,!1),e.MAX_VALUE=_,E=i(-1,-1,!0),e.MAX_UNSIGNED_VALUE=E,b=i(0,-2147483648,!1),e.MIN_VALUE=b,(C=e.prototype).toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},C.toString=function(e){var t,n,i,o,s,a,c,l;if((e=e||10)<2||e>36)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())return this.eq(b)?(t=r(e),i=(n=this.div(t)).mul(t).sub(this),n.toString(e)+i.toInt().toString(e)):"-"+this.neg().toString(e);for(o=r(u(e,6),this.unsigned),s=this,a="";;){if(c=s.div(o),l=(s.sub(c.mul(o)).toInt()>>>0).toString(e),(s=c).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){var e,t;if(this.isNegative())return this.eq(b)?64:this.neg().getNumBitsAbs();for(e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return t(e)||(e=s(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.compare=function(e){if(t(e)||(e=s(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(b)?b:this.not().add(m)},C.neg=C.negate,C.add=function(e){var n,r,o,a,c,u,l,h,f,d,p;return t(e)||(e=s(e)),n=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,l=e.low>>>16,h=0,f=0,d=0,p=0,d+=(p+=a+(65535&e.low))>>>16,f+=(d+=o+l)>>>16,h+=(f+=r+u)>>>16,h+=n+c,i((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(e){return t(e)||(e=s(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){var n,o,a,c,u,l,h,f,g,m,y,v;return this.isZero()?p:(t(e)||(e=s(e)),e.isZero()?p:this.eq(b)?e.isOdd()?b:p:e.eq(b)?this.isOdd()?b:p:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(d)&&e.lt(d)?r(this.toNumber()*e.toNumber(),this.unsigned):(n=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,u=e.high>>>16,l=65535&e.high,h=e.low>>>16,g=0,m=0,y=0,v=0,y+=(v+=c*(f=65535&e.low))>>>16,m+=(y+=a*f)>>>16,y&=65535,m+=(y+=c*h)>>>16,g+=(m+=o*f)>>>16,m&=65535,g+=(m+=a*h)>>>16,m&=65535,g+=(m+=c*l)>>>16,g+=n*f+o*h+a*l+c*u,i((y&=65535)<<16|(v&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)))},C.mul=C.multiply,C.divide=function(e){var n,i,o,a,c,l,h;if(t(e)||(e=s(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;o=g}else{if(this.eq(b))return e.eq(m)||e.eq(v)?b:e.eq(b)?m:(n=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:v:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(b))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}for(i=this;i.gte(e);){for(n=Math.max(1,Math.floor(i.toNumber()/e.toNumber())),c=(a=Math.ceil(Math.log(n)/Math.LN2))<=48?1:u(2,a-48),h=(l=r(n)).mul(e);h.isNegative()||h.gt(i);)h=(l=r(n-=c,this.unsigned)).mul(e);l.isZero()&&(l=m),o=o.add(l),i=i.sub(h)}return o},C.div=C.divide,C.modulo=function(e){return t(e)||(e=s(e)),this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.not=function(){return i(~this.low,~this.high,this.unsigned)},C.and=function(e){return t(e)||(e=s(e)),i(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return t(e)||(e=s(e)),i(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return t(e)||(e=s(e)),i(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):i(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):i(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){var n;return t(e)&&(e=e.toInt()),0==(e&=63)?this:(n=this.high,e<32?i(this.low>>>e|n<<32-e,n>>>e,this.unsigned):i(32===e?n:n>>>e-32,0,this.unsigned))},C.shru=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,255&t>>>8,255&t>>>16,255&t>>>24,255&e,255&e>>>8,255&e>>>16,255&e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[255&e>>>24,255&e>>>16,255&e>>>8,255&e,255&t>>>24,255&t>>>16,255&t>>>8,255&t]},e}()),Oo));var Io,Oo,No;wo.getModule=e=>{const t=new wo[e];return t.getArrayData=()=>{let e=t.toArrayBuffer();return e=Fr(e)?[].slice.call(new Int8Array(e)):e,e},t},function(e){e[e.TIMEOUT=-1]="TIMEOUT",e[e.UNKNOWN=-2]="UNKNOWN",e[e.PARAMETER_ERROR=-3]="PARAMETER_ERROR",e[e.SUCCESS=0]="SUCCESS",e[e.RC_MSG_UNAUTHORIZED=20406]="RC_MSG_UNAUTHORIZED",e[e.RC_DISCUSSION_GROUP_ID_INVALID=20407]="RC_DISCUSSION_GROUP_ID_INVALID",e[e.SEND_FREQUENCY_TOO_FAST=20604]="SEND_FREQUENCY_TOO_FAST",e[e.NOT_IN_DISCUSSION=21406]="NOT_IN_DISCUSSION",e[e.FORBIDDEN_IN_GROUP=22408]="FORBIDDEN_IN_GROUP",e[e.RECALL_MESSAGE=25101]="RECALL_MESSAGE",e[e.NOT_IN_GROUP=22406]="NOT_IN_GROUP",e[e.NOT_IN_CHATROOM=23406]="NOT_IN_CHATROOM",e[e.FORBIDDEN_IN_CHATROOM=23408]="FORBIDDEN_IN_CHATROOM",e[e.RC_CHATROOM_USER_KICKED=23409]="RC_CHATROOM_USER_KICKED",e[e.RC_CHATROOM_NOT_EXIST=23410]="RC_CHATROOM_NOT_EXIST",e[e.RC_CHATROOM_IS_FULL=23411]="RC_CHATROOM_IS_FULL",e[e.RC_CHATROOM_PATAMETER_INVALID=23412]="RC_CHATROOM_PATAMETER_INVALID",e[e.CHATROOM_GET_HISTORYMSG_ERROR=23413]="CHATROOM_GET_HISTORYMSG_ERROR",e[e.CHATROOM_NOT_OPEN_HISTORYMSG_STORE=23414]="CHATROOM_NOT_OPEN_HISTORYMSG_STORE",e[e.CHATROOM_KV_EXCEED=23423]="CHATROOM_KV_EXCEED",e[e.CHATROOM_KV_OVERWRITE_INVALID=23424]="CHATROOM_KV_OVERWRITE_INVALID",e[e.CHATROOM_KV_STORE_NOT_OPEN=23426]="CHATROOM_KV_STORE_NOT_OPEN",e[e.CHATROOM_KEY_NOT_EXIST=23427]="CHATROOM_KEY_NOT_EXIST",e[e.SENSITIVE_SHIELD=21501]="SENSITIVE_SHIELD",e[e.SENSITIVE_REPLACE=21502]="SENSITIVE_REPLACE",e[e.JOIN_IN_DISCUSSION=21407]="JOIN_IN_DISCUSSION",e[e.CREATE_DISCUSSION=21408]="CREATE_DISCUSSION",e[e.INVITE_DICUSSION=21409]="INVITE_DICUSSION",e[e.GET_USERINFO_ERROR=23407]="GET_USERINFO_ERROR",e[e.REJECTED_BY_BLACKLIST=405]="REJECTED_BY_BLACKLIST",e[e.RC_NET_CHANNEL_INVALID=30001]="RC_NET_CHANNEL_INVALID",e[e.RC_NET_UNAVAILABLE=30002]="RC_NET_UNAVAILABLE",e[e.RC_MSG_RESP_TIMEOUT=30003]="RC_MSG_RESP_TIMEOUT",e[e.RC_HTTP_SEND_FAIL=30004]="RC_HTTP_SEND_FAIL",e[e.RC_HTTP_REQ_TIMEOUT=30005]="RC_HTTP_REQ_TIMEOUT",e[e.RC_HTTP_RECV_FAIL=30006]="RC_HTTP_RECV_FAIL",e[e.RC_NAVI_RESOURCE_ERROR=30007]="RC_NAVI_RESOURCE_ERROR",e[e.RC_NODE_NOT_FOUND=30008]="RC_NODE_NOT_FOUND",e[e.RC_DOMAIN_NOT_RESOLVE=30009]="RC_DOMAIN_NOT_RESOLVE",e[e.RC_SOCKET_NOT_CREATED=30010]="RC_SOCKET_NOT_CREATED",e[e.RC_SOCKET_DISCONNECTED=30011]="RC_SOCKET_DISCONNECTED",e[e.RC_PING_SEND_FAIL=30012]="RC_PING_SEND_FAIL",e[e.RC_PONG_RECV_FAIL=30013]="RC_PONG_RECV_FAIL",e[e.RC_MSG_SEND_FAIL=30014]="RC_MSG_SEND_FAIL",e[e.RC_MSG_CONTENT_EXCEED_LIMIT=30016]="RC_MSG_CONTENT_EXCEED_LIMIT",e[e.RC_CONN_ACK_TIMEOUT=31e3]="RC_CONN_ACK_TIMEOUT",e[e.RC_CONN_PROTO_VERSION_ERROR=31001]="RC_CONN_PROTO_VERSION_ERROR",e[e.RC_CONN_ID_REJECT=31002]="RC_CONN_ID_REJECT",e[e.RC_CONN_SERVER_UNAVAILABLE=31003]="RC_CONN_SERVER_UNAVAILABLE",e[e.RC_CONN_USER_OR_PASSWD_ERROR=31004]="RC_CONN_USER_OR_PASSWD_ERROR",e[e.RC_CONN_NOT_AUTHRORIZED=31005]="RC_CONN_NOT_AUTHRORIZED",e[e.RC_CONN_REDIRECTED=31006]="RC_CONN_REDIRECTED",e[e.RC_CONN_PACKAGE_NAME_INVALID=31007]="RC_CONN_PACKAGE_NAME_INVALID",e[e.RC_CONN_APP_BLOCKED_OR_DELETED=31008]="RC_CONN_APP_BLOCKED_OR_DELETED",e[e.RC_CONN_USER_BLOCKED=31009]="RC_CONN_USER_BLOCKED",e[e.RC_DISCONN_KICK=31010]="RC_DISCONN_KICK",e[e.RC_DISCONN_EXCEPTION=31011]="RC_DISCONN_EXCEPTION",e[e.RC_QUERY_ACK_NO_DATA=32001]="RC_QUERY_ACK_NO_DATA",e[e.RC_MSG_DATA_INCOMPLETE=32002]="RC_MSG_DATA_INCOMPLETE",e[e.BIZ_ERROR_CLIENT_NOT_INIT=33001]="BIZ_ERROR_CLIENT_NOT_INIT",e[e.BIZ_ERROR_DATABASE_ERROR=33002]="BIZ_ERROR_DATABASE_ERROR",e[e.BIZ_ERROR_INVALID_PARAMETER=33003]="BIZ_ERROR_INVALID_PARAMETER",e[e.BIZ_ERROR_NO_CHANNEL=33004]="BIZ_ERROR_NO_CHANNEL",e[e.BIZ_ERROR_RECONNECT_SUCCESS=33005]="BIZ_ERROR_RECONNECT_SUCCESS",e[e.BIZ_ERROR_CONNECTING=33006]="BIZ_ERROR_CONNECTING",e[e.MSG_ROAMING_SERVICE_UNAVAILABLE=33007]="MSG_ROAMING_SERVICE_UNAVAILABLE",e[e.MSG_INSERT_ERROR=33008]="MSG_INSERT_ERROR",e[e.MSG_DEL_ERROR=33009]="MSG_DEL_ERROR",e[e.CONVER_REMOVE_ERROR=34001]="CONVER_REMOVE_ERROR",e[e.CONVER_GETLIST_ERROR=34002]="CONVER_GETLIST_ERROR",e[e.CONVER_SETOP_ERROR=34003]="CONVER_SETOP_ERROR",e[e.CONVER_TOTAL_UNREAD_ERROR=34004]="CONVER_TOTAL_UNREAD_ERROR",e[e.CONVER_TYPE_UNREAD_ERROR=34005]="CONVER_TYPE_UNREAD_ERROR",e[e.CONVER_ID_TYPE_UNREAD_ERROR=34006]="CONVER_ID_TYPE_UNREAD_ERROR",e[e.CONVER_CLEAR_ERROR=34007]="CONVER_CLEAR_ERROR",e[e.EXPANSION_LIMIT_EXCEET=34010]="EXPANSION_LIMIT_EXCEET",e[e.MESSAGE_KV_NOT_SUPPORT=34008]="MESSAGE_KV_NOT_SUPPORT",e[e.CLEAR_HIS_TIME_ERROR=34011]="CLEAR_HIS_TIME_ERROR",e[e.CONVER_GET_ERROR=34009]="CONVER_GET_ERROR",e[e.GROUP_SYNC_ERROR=35001]="GROUP_SYNC_ERROR",e[e.GROUP_MATCH_ERROR=35002]="GROUP_MATCH_ERROR",e[e.CHATROOM_ID_ISNULL=36001]="CHATROOM_ID_ISNULL",e[e.CHARTOOM_JOIN_ERROR=36002]="CHARTOOM_JOIN_ERROR",e[e.CHATROOM_HISMESSAGE_ERROR=36003]="CHATROOM_HISMESSAGE_ERROR",e[e.CHATROOM_KV_NOT_FOUND=36004]="CHATROOM_KV_NOT_FOUND",e[e.BLACK_ADD_ERROR=37001]="BLACK_ADD_ERROR",e[e.BLACK_GETSTATUS_ERROR=37002]="BLACK_GETSTATUS_ERROR",e[e.BLACK_REMOVE_ERROR=37003]="BLACK_REMOVE_ERROR",e[e.DRAF_GET_ERROR=38001]="DRAF_GET_ERROR",e[e.DRAF_SAVE_ERROR=38002]="DRAF_SAVE_ERROR",e[e.DRAF_REMOVE_ERROR=38003]="DRAF_REMOVE_ERROR",e[e.SUBSCRIBE_ERROR=39001]="SUBSCRIBE_ERROR",e[e.NOT_SUPPORT=39002]="NOT_SUPPORT",e[e.QNTKN_FILETYPE_ERROR=41001]="QNTKN_FILETYPE_ERROR",e[e.QNTKN_GET_ERROR=41002]="QNTKN_GET_ERROR",e[e.COOKIE_ENABLE=51001]="COOKIE_ENABLE",e[e.GET_MESSAGE_BY_ID_ERROR=61001]="GET_MESSAGE_BY_ID_ERROR",e[e.HAVNODEVICEID=24001]="HAVNODEVICEID",e[e.DEVICEIDISHAVE=24002]="DEVICEIDISHAVE",e[e.FEILD=24009]="FEILD",e[e.VOIPISNULL=24013]="VOIPISNULL",e[e.NOENGINETYPE=24010]="NOENGINETYPE",e[e.NULLCHANNELNAME=24011]="NULLCHANNELNAME",e[e.VOIPDYANMICERROR=24012]="VOIPDYANMICERROR",e[e.NOVOIP=24014]="NOVOIP",e[e.INTERNALERRROR=24015]="INTERNALERRROR",e[e.VOIPCLOSE=24016]="VOIPCLOSE",e[e.CLOSE_BEFORE_OPEN=51001]="CLOSE_BEFORE_OPEN",e[e.ALREADY_IN_USE=51002]="ALREADY_IN_USE",e[e.INVALID_CHANNEL_NAME=51003]="INVALID_CHANNEL_NAME",e[e.VIDEO_CONTAINER_IS_NULL=51004]="VIDEO_CONTAINER_IS_NULL",e[e.DELETE_MESSAGE_ID_IS_NULL=61001]="DELETE_MESSAGE_ID_IS_NULL",e[e.CANCEL=1]="CANCEL",e[e.REJECT=2]="REJECT",e[e.HANGUP=3]="HANGUP",e[e.BUSYLINE=4]="BUSYLINE",e[e.NO_RESPONSE=5]="NO_RESPONSE",e[e.ENGINE_UN_SUPPORTED=6]="ENGINE_UN_SUPPORTED",e[e.NETWORK_ERROR=7]="NETWORK_ERROR",e[e.REMOTE_CANCEL=11]="REMOTE_CANCEL",e[e.REMOTE_REJECT=12]="REMOTE_REJECT",e[e.REMOTE_HANGUP=13]="REMOTE_HANGUP",e[e.REMOTE_BUSYLINE=14]="REMOTE_BUSYLINE",e[e.REMOTE_NO_RESPONSE=15]="REMOTE_NO_RESPONSE",e[e.REMOTE_ENGINE_UN_SUPPORTED=16]="REMOTE_ENGINE_UN_SUPPORTED",e[e.REMOTE_NETWORK_ERROR=17]="REMOTE_NETWORK_ERROR",e[e.VOIP_NOT_AVALIABLE=18]="VOIP_NOT_AVALIABLE"}(No||(No={}));var Mo=No;const xo=e=>{if(!Gr(e)||void 0===e.low||void 0===e.high)return e;let t=e.low;return t<0&&(t+=4294967296),t=t.toString(16),parseInt(e.high.toString(16)+"00000000".replace(new RegExp("0{"+t.length+"}$"),t),16)};var Po;!function(e){e[e.ALL=1]="ALL",e[e.SINGAL=2]="SINGAL"}(Po||(Po={}));var Ao,Uo=Po;!function(e){e.TextMessage="RC:TxtMsg",e.VOICE="RC:VcMsg",e.HQ_VOICE="RC:HQVCMsg",e.IMAGE="RC:ImgMsg",e.GIF="RC:GIFMsg",e.RICH_CONTENT="RC:ImgTextMsg",e.LOCATION="RC:LBSMsg",e.FILE="RC:FileMsg",e.SIGHT="RC:SightMsg",e.COMBINE="RC:CombineMsg",e.CHRM_KV_NOTIFY="RC:chrmKVNotiMsg",e.LOG_COMMAND="RC:LogCmdMsg",e.EXPANSION_NOTIFY="RC:MsgExMsg",e.REFERENCE="RC:ReferenceMsg",e.RECALL="RC:RcCmd",e.READ_RECEIPT="RC:ReadNtf",e.READ_RECEIPT_REQUEST="RC:RRReqMsg",e.READ_RECEIPT_RESPONSE="RC:RRRspMsg",e.SYNC_READ_STATUS="RC:SRSMsg"}(Ao||(Ao={}));var Lo,ko=Ao;!function(e){e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(Lo||(Lo={}));var jo=Lo;const Do="pgMsgP",Vo="chatMsg",Bo="pcMsgP",Fo={PRIVATE:"ppMsgS",GROUP:"pgMsgS",CHATROOM:"chatMsgS"},qo="delMsg",Go="joinChrm",Yo="joinChrmR",Ho="exitChrm",$o="setKV",Ko="delKV",Wo="qryRelationR",zo="delRelation",Qo="setSeAtt",Jo={PRIVATE:"cleanPMsg",GROUP:"cleanGMsg",CUSTOMER_SERVICE:"cleanCMsg",SYSTEM:"cleanSMsg"},Zo="qryPMsg",Xo="qryGMsg",es="qryCHMsg",ts="qryCMsg",ns="qrySMsg",rs={["ppMsgP"]:kr.PRIVATE,[Do]:kr.GROUP,[Vo]:kr.CHATROOM,[Bo]:kr.CUSTOMER_SERVICE},is={[kr.PRIVATE]:Zo,[kr.GROUP]:Xo,[kr.CHATROOM]:es,[kr.CUSTOMER_SERVICE]:ts,[kr.SYSTEM]:ns},os={[kr.PRIVATE]:Jo.PRIVATE,[kr.GROUP]:Jo.GROUP,[kr.CUSTOMER_SERVICE]:Jo.CUSTOMER_SERVICE,[kr.SYSTEM]:Jo.SYSTEM},ss="1",as="0",cs=1,us=2;var ls;!function(e){e[e.SEND=1]="SEND",e[e.RECEIVE=2]="RECEIVE"}(ls||(ls={}));var hs=ls;class fs{constructor(e){this._codec="websocket"===e?wo:To,this._connectType=e}decodeByPBName(e,t,n){const r=this;let i=e;const o={[bi]:r._formatSyncMessages,[Ei]:r._formatReceivedMessage,[_i]:r._formatSentMessage,[Oi]:r._formatHistoryMessages,[Mi]:r._formatConversationList,[Bi]:r._formatChatRoomInfos,[qi]:r._formatRTCUserList,[Qi]:r._formatRTCData,[lo]:r._formatChatRoomKVList,[mo]:r._formatUserSetting,[vo]:r._formatConversationStatus}[t];try{i=e.length>0&&r._codec[t].decode(e),Gr(i)&&(i=(e=>{for(const t in e)Gr(e[t])&&(e[t]=xo(e[t]));return e})(i)),Yr(o)&&(i=o.call(this,i,n))}catch(e){Ar.error("PB parse error\n",e)}return i}_readBytes(e){const{offset:t,buffer:n,limit:r}=e;if(t)try{const e=Fr(n)?new Uint8Array(n):n;return mi.readUTF(e.subarray(t,r))}catch(e){Ar.info("readBytes error\n",e)}return e}_formatBytes(e){let t=this._readBytes(e);try{t=JSON.parse(t)}catch(e){Ar.info("formatBytes error\n",e)}return t||e}_formatSyncMessages(e,t){t=t||{};const n=this,{list:r,syncTime:i,finished:o}=e;return(Hr(o)||null===o)&&(e.finished=!0),e.syncTime=xo(i),e.list=ii(r,e=>n._formatReceivedMessage(e,t)),e}_formatReceivedMessage(e,t){t=t||{};const{currentUserId:n,connectedTime:r}=t,{content:i,fromUserId:o,type:s,groupId:a,status:c,dataTime:u,classname:l,msgId:h,extraContent:f}=e,d=(e.direction||hs.RECEIVE)===hs.SEND,{isPersited:p,isCounted:g,isMentioned:m,disableNotification:y,receivedStatus:v,canIncludeExpansion:_}=(e=>{let t=!0,n=!0,r=!1,i=!1,o=vr.READ,s=!1,a=!1;return t=!!(16&e),n=!!(32&e),r=!!(64&e),i=!!(512&e),s=!!(2&e),o=s?vr.RETRIEVED:o,a=!!(1024&e),{isPersited:t,isCounted:n,isMentioned:r,disableNotification:i,receivedStatus:o,canIncludeExpansion:a}})(c),E=s===kr.GROUP||s===kr.CHATROOM?a:o,b=d?n:o,C=xo(u),S=C<r,T=s===kr.CHATROOM,R=this._formatBytes(i);let w,I=d?hs.SEND:hs.RECEIVE;return T&&o===n&&(I=hs.SEND),f&&(w={},w=ci(f)),{conversationType:s,targetId:E,senderUserId:b,messageType:l,messageUId:h,isPersited:p,isCounted:g,isMentioned:m,sentTime:C,isOffLineMessage:S,messageDirection:I,receivedTime:ui.getTime(),disableNotification:y,receivedStatus:v,canIncludeExpansion:_,content:R,expansion:w}}_formatSentMessage(e,t){const{content:n,classname:r,sessionId:i,msgId:o,extraContent:s}=e,{signal:a,currentUserId:c}=t,{date:u,topic:l,targetId:h}=a,{isPersited:f,isCounted:d,disableNotification:p,canIncludeExpansion:g}=(e=>{let t=!1,n=!1,r=!1,i=!1;return t=!!(1&e),n=!!(2&e),r=!!(16&e),i=!!(64&e),{isPersited:t,isCounted:n,disableNotification:r,canIncludeExpansion:i}})(i),m=rs[l]||kr.PRIVATE,y=oi(Fo,l);let v;return s&&(v={},v=ci(s)),{conversationType:m,targetId:h,messageType:r,messageUId:o,isPersited:f,isCounted:d,isStatusMessage:y,senderUserId:c,content:this._formatBytes(n),sentTime:1e3*u,receivedTime:ui.getTime(),messageDirection:hs.SEND,isOffLineMessage:!1,disableNotification:p,canIncludeExpansion:g,expansion:v}}_formatHistoryMessages(e,t){const n=t.conversation||{},{list:r,hasMsg:i}=e,o=n.targetId,s=xo(e.syncTime),a=[];return ri(r,e=>{const n=this._formatReceivedMessage(e,t);n.targetId=o,a.push(n)},{isReverse:!0}),{syncTime:s,list:a,hasMore:!!i}}_formatConversationList(e,t){const n=this;let{info:r}=e;const i=t.afterDecode||function(){};return r=ii(r,e=>{const{msg:r,userId:o,type:s,unreadCount:a}=e,c=n._formatReceivedMessage(r,t);c.targetId=o;const u={targetId:o,conversationType:s,unreadMessageCount:a,latestMessage:c};return i(u)||u}),r||[]}_formatChatRoomInfos(e){const{userTotalNums:t,userInfos:n}=e;return{userCount:t,userInfos:ii(n,e=>{const{id:t,time:n}=e;return{id:t,time:xo(n)}})}}_formatChatRoomKVList(e){let{entries:t,bFullUpdate:n,syncTime:r}=e;return t=t||[],t=ii(t,e=>{const{key:t,value:n,status:r,timestamp:i,uid:o}=e,{isAutoDelete:s,isOverwrite:a,type:c}=(e=>({isAutoDelete:!!(1&e),isOverwrite:!!(2&e),type:4&e?ai.DELETE:ai.UPDATE}))(r);return{key:t,value:n,isAutoDelete:s,isOverwrite:a,type:c,userId:o,timestamp:xo(i)}}),{kvEntries:t,isFullUpdate:n,syncTime:r}}_formatUserSetting(e){const{items:t,version:n}=e,r={};return ri(t||[],e=>{const{key:t,version:n,value:i}=e;e.version=xo(n),e.value=this._readBytes(i),r[t]=e}),{settings:r,version:n}}_formatConversationStatus(e){const{state:t}=e,n=[];return ri(t,e=>{const{type:t,channelId:r,time:i,stateItem:o}=e;let s=jo.CLOSE,a=!1;ri(o,e=>{const{sessionStateType:t,value:n}=e;switch(t){case cs:s=n===ss?jo.OPEN:jo.CLOSE;break;case us:a=n===ss}}),n.push({type:t,targetId:r,notificationStatus:s,isTop:a,updatedTime:xo(i)})}),n}_formatRTCUserList(e){const{list:t,token:n,sessionId:r}=e,i={};return ri(t,e=>{const{userId:t,userData:n}=e,r={};ri(n,e=>{const{key:t,value:n}=e;r[t]=n}),i[t]=r}),{users:i,token:n,sessionId:r}}_formatRTCData(e){const{outInfo:t}=e,n={};return ri(t,e=>{n[e.key]=e.value}),n}_formatRTCRoomInfo(e){const{roomId:t,userCount:n,roomData:r}=e,i={id:t,total:n};return ri(r,e=>{i[e.key]=e.value}),i}encodeServerConfParams(){const e=this._codec.getModule(Ci);return e.setNothing(1),e.getArrayData()}_getUpMsgModule(e,t){const{type:n}=e,{messageType:r,isMentioned:i,mentionedType:o,mentionedUserIdList:s,content:a,pushContent:c,pushData:u,directionalUserIdList:l,isFilerWhiteBlacklist:h,isVoipPush:f,canIncludeExpansion:d,expansion:p}=t,g=n===kr.GROUP,m=this._codec.getModule(_i),y=(e=>{const{isStatusMessage:t}=e;let{isPersited:n,isCounted:r,isMentioned:i,disableNotification:o,canIncludeExpansion:s}=e;t&&(n=r=!1);let a=0;return n&&(a|=1),r&&(a|=2),i&&(a|=4),o&&(a|=32),s&&(a|=64),a})(t);let v=0;if(m.setSessionId(y),g&&i&&a&&(a.mentionedInfo={userIdList:s,type:o||Uo.ALL}),c&&m.setPushText(c),u&&m.setAppData(u),l&&m.setUserId(l),v|=f?1:0,v|=h?2:0,m.setConfigFlag(v),m.setClassname(r),m.setContent(JSON.stringify(a)),d&&p){const e={};ri(p,(t,n)=>{e[n]={v:t}}),m.setExtraContent(JSON.stringify(e))}return m}encodeUpMsg(e,t){return this._getUpMsgModule(e,t).getArrayData()}encodeSyncMsg(e){const{sendboxTime:t,inboxTime:n}=e,r=this._codec.getModule(Ti);return r.setIspolling(!1),r.setIsPullSend(!0),r.setSendBoxSyncTime(t),r.setSyncTime(n),r.getArrayData()}encodeChrmSyncMsg(e,t){e=e||0,t=t||0;const n=this._codec.getModule(Ri);return n.setCount(t),n.setSyncTime(e),n.getArrayData()}encodeGetHistoryMsg(e,t){const{count:n,order:r,timestamp:i}=t,o=this._codec.getModule(Ii);return o.setTargetId(e),o.setTime(i),o.setCount(n),o.setOrder(r),o.getArrayData()}encodeGetConversationList(e){e=e||{};const{count:t,startTime:n}=e,r=this._codec.getModule(Ni);return r.setType(1),r.setCount(t),r.setStartTime(n),r.getArrayData()}encodeOldConversationList(e){e=e||{};let{count:t,type:n,startTime:r,order:i}=e;t=t||0,r=r||0,i=i||0;const o=this._codec.getModule(Ni);return o.setType(n),o.setCount(t),o.setStartTime(r),o.setOrder(i),o.getArrayData()}encodeRemoveConversationList(e){const t=this._codec.getModule(xi),n=[];return ri(e,e=>{const{type:t,targetId:r}=e,i=this._codec.getModule(Pi);i.setType(t),i.setChannelId(r),n.push(i)}),t.setSessions(n),t.getArrayData()}encodeDeleteMessages(e,t,n){const r=this._codec.getModule(Li),i=[];return ri(n,e=>{i.push({msgId:e.messageUId,msgDataTime:e.sentTime,direct:e.messageDirection})}),r.setType(e),r.setConversationId(t),r.setMsgs(i),r.getArrayData()}encodeClearMessages(e,t){const n=this._codec.getModule(ki);return t=t||(new Date).getTime(),n.setDataTime(t),n.setTargetId(e),n.getArrayData()}encodeClearUnreadCount(e,t){const{type:n,targetId:r}=e;let{timestamp:i}=t;const o=this._codec.getModule(ji);return i=i||+new Date,o.setType(n),o.setChannelId(r),o.setMsgTime(i),o.getArrayData()}encodeJoinOrQuitChatRoom(){const e=this._codec.getModule(Di);return e.setNothing(1),e.getArrayData()}encodeGetChatRoomInfo(e,t){const n=this._codec.getModule(Vi);return n.setCount(e),n.setOrder(t),n.getArrayData()}encodeGetFileToken(e,t){const n=this._codec.getModule(ro);return n.setType(e),n.setKey(t),n.getArrayData()}encodeGetFileUrl(e,t,n,r){const i=this._codec.getModule(e);return i.setType(t),i.setKey(n),r&&i.setFileName(r),i.getArrayData()}encodeModifyChatRoomKV(e,t,n){const r="comet"===this._connectType,i=this._codec.getModule(uo),{key:o,value:s,notificationExtra:a,isSendNotification:c,type:u}=t,l=u||ai.UPDATE,h=((e,t)=>{let n=0;return e.isAutoDelete&&(n|=1),e.isOverwrite&&(n|=2),2===t&&(n|=4),n})(t,l),f={key:o,value:s||"",uid:n};if(Hr(h)||(f.status=h),i.setEntry(f),c){const t={type:kr.CHATROOM,targetId:e},n={key:o,value:s,extra:a,type:l},c=this._getUpMsgModule(t,{messageType:ko.CHRM_KV_NOTIFY,content:n,isPersited:!1,isCounted:!1});r?i.setNotification(c.getArrayData()):i.setNotification(c),i.setBNotify(!0),i.setType(kr.CHATROOM)}return i.getArrayData()}encodePullChatRoomKV(e){const t=this._codec.getModule(ho);return t.setTimestamp(e),t.getArrayData()}encodePullUserSetting(e){const t=this._codec.getModule(go);return t.setVersion(e),t.getArrayData()}encodeGetConversationStatus(e){const t=this._codec.getModule(yo);return t.setTime(e),t.getArrayData()}encodeSetConversationStatus(e){const t="comet"===this._connectType,n=this._codec.getModule(bo),r=ui.getTime(),i=[];return ri(e,e=>{const n=this._codec.getModule(_o),{conversationType:o,targetId:s,notificationStatus:a,isTop:c}=e,u=[];n.setType(o),n.setChannelId(s),n.setTime(r);const l=a===jo.OPEN,h={};Hr(a)||(h[cs]=l),Hr(c)||(h[us]=c),ri(h,(e,n)=>{if(!Hr(e)){const r=this._codec.getModule(Eo);e=e?ss:as,r.setSessionStateType(Number(n)),r.setValue(e);const i=t?r.getArrayData():r;u.push(i)}}),n.setStateItem(u);const f=t?n.getArrayData():n;i.push(f)}),n.setVersion(r),n.setState(i),n.getArrayData()}encodeJoinRTCRoom(e,t){const n=this._codec.getModule(Fi);return e=e||0,n.setRoomType(e),Hr(t)||n.setBroadcastType(t),n.getArrayData()}encodeQuitRTCRoom(){return this._codec.getModule(Gi).getArrayData()}encodeSetRTCData(e,t,n,r,i){const o=this._codec.getModule(Yi);if(o.setInterior(n),o.setTarget(r),o.setKey(e),o.setValue(t),i){i.name&&o.setObjectName(i.name);let e=i.content;e&&(Gr(e)&&(e=JSON.stringify(e)),o.setContent(e))}return o.getArrayData()}encodeUserSetRTCData(e,t,n){const r=this._codec.getModule(Hi);r.setObjectName(n);let i=this._codec.getModule(to);return i.setKey(e.name),i.setValue(e.content),r.setContent(i),i=this._codec.getModule(to),i.setKey("uris"),i.setValue(t),r.setValueInfo(i),r.getArrayData()}encodeGetRTCData(e,t,n){const r=this._codec.getModule($i);return r.setInterior(t),r.setTarget(n),r.setKey(e),r.getArrayData()}encodeRemoveRTCData(e,t,n,r){const i=this._codec.getModule($i);i.setInterior(t),i.setTarget(n),i.setKey(e),r=r||{};let{name:o,content:s}=r;return!Hr(o)&&i.setObjectName(o),Hr(s)||(Gr(s)&&(s=JSON.stringify(s)),i.setContent(s)),i.getArrayData()}encodeSetRTCOutData(e,t,n){const r=this._codec.getModule(Ki);r.setTarget(t),Br(e)||(e=[e]),ri(e,(t,n)=>{t.key=t.key?t.key.toString():t.key,t.value=t.value?t.value.toString():t.value,e[n]=t}),r.setValueInfo(e),n=n||{};let{name:i,content:o}=n;return!Hr(i)&&r.setObjectName(i),Hr(o)||(Gr(o)&&(o=JSON.stringify(o)),r.setContent(o)),r.getArrayData()}ecnodeGetRTCOutData(e){const t=this._codec.getModule(Ji);return t.setUserId(e),t.getArrayData()}encodeSetRTCState(e){const t=this._codec.getModule(Wi);return t.setId(e),t.getArrayData()}encodeGetRTCRoomInfo(){const e=this._codec.getModule(Xi);return e.setOrder(2),e.getArrayData()}encodeSetRTCUserInfo(e,t){const n=this._codec.getModule(to);return n.setKey(e),n.setValue(t),n.getArrayData()}encodeRemoveRTCUserInfo(e){const t=this._codec.getModule(no);return t.setKey(e),t.getArrayData()}}class ds{constructor(e,t){this._watcher=t,this.codec=new fs(e)}}const ps=(e,t)=>e&&t?t+"_"+e:e||Date.now();class gs{constructor(e){this.header=e,this._name=null,this.lengthSize=0,this.messageId=0,this.timestamp=0,this.syncMsg=!1,this.identifier=""}getIdentifier(){const{messageId:e,identifier:t}=this;return ps(e,t)}read(e,t){this.readMessage(e,t)}readMessage(e,t){return{stream:e,length:t}}}class ms{constructor(e){this.lengthSize=0,this.messageId=0,this.topic="",this.targetId="",this.identifier="",this._header=new gi(e,!1,hi.AT_MOST_ONCE,!1)}getIdentifier(){const{messageId:e,identifier:t}=this;return ps(e,t)}write(e){const t=this.getHeaderFlag();e.write(t),this.writeMessage(e)}setHeaderQos(e){this._header.qos=e}getHeaderFlag(){return this._header.encode()}getLengthSize(){return this.lengthSize}getBufferData(){const e=new vi;this.write(e);const t=e.getBytesArray();return new Int8Array(t)}getCometData(){const e=this.data||{};return JSON.stringify(e)}}class ys extends gs{constructor(){super(...arguments),this._name=di.CONN_ACK,this.status=null,this.userId=null,this.timestamp=0}readMessage(e,t){return e.readByte(),this.status=+e.readByte(),t>ys.MESSAGE_LENGTH&&(this.userId=e.readUTF(),e.readUTF(),this.timestamp=e.readLong()),{stream:e,length:t}}}ys.MESSAGE_LENGTH=2;class vs extends gs{constructor(){super(...arguments),this._name=di.DISCONNECT,this.status=0}readMessage(e,t){return e.readByte(),this.status=+e.readByte(),{stream:e,length:t}}}vs.MESSAGE_LENGTH=2;class _s extends ms{constructor(){super(fi.PING_REQ),this._name=di.PING_REQ}writeMessage(e){}}class Es extends gs{constructor(e){super(e),this._name=di.PING_RESP}}class bs extends gs{constructor(){super(...arguments),this.messageId=0}readMessage(e,t){const n=256*e.readByte()+e.readByte();return this.messageId=parseInt(n.toString(),10),{stream:e,length:t}}}class Cs extends ms{constructor(){super(...arguments),this.messageId=0}writeMessage(e){const t=this.messageId,n=255&t,r=(65280&t)>>8;e.write(r),e.write(n)}}class Ss extends bs{constructor(){super(...arguments),this._name=di.PUBLISH,this.topic="",this.targetId="",this.syncMsg=!1,this.identifier=pi.PUB}readMessage(e,t){return this.date=e.readInt(),this.topic=e.readUTF(),this.targetId=e.readUTF(),super.readMessage(e,t),this.data=e.readAll(),{stream:e,length:t}}}class Ts extends Cs{constructor(e,t,n){super(fi.PUBLISH),this._name=di.PUBLISH,this.syncMsg=!1,this.identifier=pi.PUB,this.topic=e,this.data=Dr(t)?mi.writeUTF(t):t,this.targetId=n}writeMessage(e){e.writeUTF(this.topic),e.writeUTF(this.targetId),super.writeMessage(e),e.write(this.data)}}class Rs extends bs{constructor(){super(...arguments),this._name=di.PUB_ACK,this.status=0,this.date=0,this.millisecond=0,this.messageUId="",this.timestamp=0,this.identifier=pi.PUB,this.topic="",this.targetId=""}readMessage(e,t){return super.readMessage(e,t),this.date=e.readInt(),this.status=256*e.readByte()+e.readByte(),this.millisecond=256*e.readByte()+e.readByte(),this.timestamp=1e3*this.date+this.millisecond,this.messageUId=e.readUTF(),{stream:e,length:t}}}class ws extends Cs{constructor(e){super(fi.PUB_ACK),this._name=di.PUB_ACK,this.status=0,this.date=0,this.millisecond=0,this.messageUId="",this.timestamp=0,this.messageId=e}writeMessage(e){super.writeMessage(e)}}class Is extends Cs{constructor(e,t,n){super(fi.QUERY),this.name=di.QUERY,this.identifier=pi.QUERY,this.topic=e,this.data=Dr(t)?mi.writeUTF(t):t,this.targetId=n}writeMessage(e){e.writeUTF(this.topic),e.writeUTF(this.targetId),super.writeMessage(e),e.write(this.data)}}class Os extends Cs{constructor(e){super(fi.QUERY_CONFIRM),this._name=di.QUERY_CON,this.messageId=e}}class Ns extends bs{constructor(){super(...arguments),this._name=di.QUERY_ACK,this.status=0,this.identifier=pi.QUERY,this.topic="",this.targetId=""}readMessage(e,t){return super.readMessage(e,t),this.date=e.readInt(),this.status=256*e.readByte()+e.readByte(),this.data=e.readAll(),{stream:e,length:t}}}const Ms=e=>{const t=e.type;let n;switch(t){case fi.CONN_ACK:n=new ys(e);break;case fi.PUBLISH:n=new Ss(e),n.syncMsg=e.syncMsg;break;case fi.PUB_ACK:n=new Rs(e);break;case fi.QUERY_ACK:n=new Ns(e);break;case fi.SUB_ACK:case fi.UNSUB_ACK:case fi.PING_RESP:n=new Es(e);break;case fi.DISCONNECT:n=new vs(e);break;default:n=new gs(e),Ar.error("No support for deserializing "+t+" messages")}return n},xs=e=>{const t=new Uint8Array(e),n=new yi(t),r=n.readByte(),i=new gi(r),o=Ms(i);return o.read(n,t.length-1),o},Ps=0;var As;!function(e){e[e.CONNECTED=0]="CONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.NETWORK_UNAVAILABLE=3]="NETWORK_UNAVAILABLE",e[e.CONNECTION_CLOSED=4]="CONNECTION_CLOSED",e[e.KICKED_OFFLINE_BY_OTHER_CLIENT=6]="KICKED_OFFLINE_BY_OTHER_CLIENT",e[e.WEBSOCKET_UNAVAILABLE=7]="WEBSOCKET_UNAVAILABLE",e[e.WEBSOCKET_ERROR=8]="WEBSOCKET_ERROR",e[e.BLOCKED=9]="BLOCKED",e[e.DOMAIN_INCORRECT=12]="DOMAIN_INCORRECT",e[e.APPKEY_IS_FAKE=20]="APPKEY_IS_FAKE",e[e.ULTRALIMIT=1101]="ULTRALIMIT",e[e.REQUEST_NAVI=201]="REQUEST_NAVI",e[e.RESPONSE_NAVI=202]="RESPONSE_NAVI",e[e.RESPONSE_NAVI_ERROR=203]="RESPONSE_NAVI_ERROR",e[e.RESPONSE_NAVI_TIMEOUT=204]="RESPONSE_NAVI_TIMEOUT"}(As||(As={}));var Us,Ls=As;!function(e){e[e.ppMsgP=1]="ppMsgP",e[e.ppMsgN=2]="ppMsgN",e[e.ppMsgS=3]="ppMsgS",e[e.pgMsgP=4]="pgMsgP",e[e.chatMsg=5]="chatMsg",e[e.pcMsgP=6]="pcMsgP",e[e.qryPMsg=7]="qryPMsg",e[e.qryGMsg=8]="qryGMsg",e[e.qryCHMsg=9]="qryCHMsg",e[e.qryCMsg=10]="qryCMsg",e[e.qrySMsg=11]="qrySMsg",e[e.recallMsg=12]="recallMsg",e[e.prMsgS=13]="prMsgS",e[e.s_ntf=14]="s_ntf",e[e.s_msg=15]="s_msg",e[e.s_stat=16]="s_stat",e[e.s_cmd=17]="s_cmd",e[e.s_us=18]="s_us",e[e.pullUS=19]="pullUS",e[e.pgMsgS=20]="pgMsgS",e[e.chatMsgS=21]="chatMsgS",e[e.qrySessionsAtt=22]="qrySessionsAtt",e[e.pullMsg=23]="pullMsg",e[e.qrySessions=24]="qrySessions",e[e.delSessions=25]="delSessions",e[e.delMsg=26]="delMsg",e[e.updRRTime=27]="updRRTime",e[e.chrmPull=28]="chrmPull",e[e.joinChrm=29]="joinChrm",e[e.joinChrmR=30]="joinChrmR",e[e.exitChrm=31]="exitChrm",e[e.queryChrmI=32]="queryChrmI",e[e.setKV=33]="setKV",e[e.delKV=34]="delKV",e[e.pullKV=35]="pullKV",e[e.qryRelation=36]="qryRelation",e[e.delRelation=37]="delRelation",e[e.pullSeAtts=38]="pullSeAtts",e[e.setSeAtt=39]="setSeAtt",e[e.qnTkn=40]="qnTkn",e[e.qnUrl=41]="qnUrl",e[e.aliUrl=42]="aliUrl",e[e.cleanPMsg=43]="cleanPMsg",e[e.cleanGMsg=44]="cleanGMsg",e[e.cleanCMsg=45]="cleanCMsg",e[e.cleanSMsg=46]="cleanSMsg",e[e.rtcRJoin_data=47]="rtcRJoin_data",e[e.rtcRExit=48]="rtcRExit",e[e.rtcPing=49]="rtcPing",e[e.rtcSetData=50]="rtcSetData",e[e.userSetData=51]="userSetData",e[e.rtcQryData=52]="rtcQryData",e[e.rtcDelData=53]="rtcDelData",e[e.rtcSetOutData=54]="rtcSetOutData",e[e.rtcQryUserOutData=55]="rtcQryUserOutData",e[e.rtcToken=56]="rtcToken",e[e.rtcUserState=57]="rtcUserState",e[e.rtcRInfo=58]="rtcRInfo",e[e.rtcUData=59]="rtcUData",e[e.rtcUPut=60]="rtcUPut",e[e.rtcUDel=61]="rtcUDel",e[e.rtcUList=62]="rtcUList"}(Us||(Us={}));var ks=Us;const js=(e,t,n)=>li(void 0,void 0,void 0,(function*(){let r=yield Promise.all(e.map(e=>li(void 0,void 0,void 0,(function*(){const r=Date.now(),i=`${t}://${e}/ping?r=${((e,t)=>e+Math.floor(Math.random()*(t-e)))(1e3,9999)}`;return{status:(yield n.httpReq({url:i,timeout:5e3})).status,host:e,cost:Date.now()-r}}))));return r=r.filter(e=>200===e.status),r.length>1&&(r=r.sort((e,t)=>e.cost-t.cost)),r.map(e=>e.host)})),Ds=(e,t,n,r,i,o,s)=>`${e}://${t}/websocket?appId=${n}&token=${encodeURIComponent(r)}&sdkVer=${o}&pid=${s}&apiVer=${i.isFromUniapp?"uniapp":"normal"}${i.connectPlatform?"&platform="+i.connectPlatform:""}`,Vs=(e,t)=>[e,t].join("-"),Bs=e=>[ks.ppMsgS,ks.pgMsgS,ks.chatMsgS].map(e=>ks[e]).indexOf(e)>=0,Fs=(e,t)=>{e instanceof _s||Ar.debug("Websocket ==>",e);const n=e.getBufferData();t.send(n.buffer)};class qs extends ds{constructor(e,t){super("websocket",t),this._runtime=e,this._socket=null,this._messageIds={},this._syncMessageIds={},this._failedCount=0,this.ALLOW_FAILED_TIMES=4,this._idCount=0,this._generateMessageId=()=>(this._idCount>=65535&&(this._idCount=0),++this._idCount)}connect(e,t,n,r,i){return li(this,void 0,void 0,(function*(){i=Nr(i),this._watcher.status(Ls.CONNECTING);const o=yield js(n,r,this._runtime);if(0===o.length)return Ar.error("No valid websocket server hosts!"),Mo.RC_SOCKET_NOT_CREATED;const s=r.replace("http","ws");for(let n=0,r=o.length;n<r;n+=1){const r=Ds(s,o[n],e,t,this._runtime,i),a=this._runtime.createWebSocket(r),c=e=>{this._socket===a&&(this._socket=null,this._watcher.status(e))},u=yield new Promise(e=>{a.onMessage(t=>{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t))return void Ar.error("Socket received invalid data:",t);const n=xs(t);if(n instanceof Es&&this._pingResolve)return this._pingResolve(Mo.SUCCESS),void(this._pingResolve=void 0);if(Ar.debug("Websocket <==",n),n instanceof ys)return n.status!==Ps?(Ar.error("Websocket connAck status:",n.status),void e(n.status)):(this.connectedTime=n.timestamp,this.userId=n.userId||"",void e(Mo.SUCCESS));if(n instanceof vs){const{status:e}=n,t=1===e?Ls.KICKED_OFFLINE_BY_OTHER_CLIENT:2===e?Ls.BLOCKED:e;this._watcher.status(t)}else this._onReceiveSignal(n)}),a.onClose((t,n)=>{Ar.warn("websocket closed! code:",t,"reason:",n),c(Ls.CONNECTION_CLOSED),e(t)}),a.onError(t=>{Ar.error("websocket error!",t),c(Ls.WEBSOCKET_ERROR),e(Mo.NETWORK_ERROR)}),a.onOpen(()=>Ar.debug("websocket open =>",r)),setTimeout(()=>{e(Mo.TIMEOUT)},5e3)});if(u===Mo.SUCCESS)return this._socket=a,this._checkAlive(),this._watcher.status(Ls.CONNECTED),u;a.close()}return Mo.RC_NET_UNAVAILABLE}))}_checkAlive(){var e;return li(this,void 0,void 0,(function*(){this._socket&&(this.sendOnly(new _s),(yield new Promise(e=>{this._pingResolve=e,setTimeout(()=>{this._pingResolve=void 0,e(Mo.TIMEOUT)},3e4)}))!==Mo.SUCCESS&&++this._failedCount>=this.ALLOW_FAILED_TIMES?null===(e=this._socket)||void 0===e||e.close():(this._failedCount=0,setTimeout(()=>this._checkAlive(),3e4)))}))}_onReceiveSignal(e){return li(this,void 0,void 0,(function*(){const{messageId:t,identifier:n}=e;e.header&&e.header.qos!==hi.AT_MOST_ONCE&&(e instanceof Ss&&!e.syncMsg&&this.sendOnly(new ws(t)),e instanceof Ns&&this.sendOnly(new Os(t)));const r=Vs(t,n);if(t>0){const t=this._messageIds[r];t&&t(e),this._syncMessageIds[r]&&this._syncMessageIds[r](e)}if(e instanceof Ss){const{syncMsg:t,topic:n}=e;if(!t||Bs(n))return void this._watcher.signal(e);const i=yield new Promise(e=>{this._syncMessageIds[r]=e});delete this._syncMessageIds[r],this._watcher.signal(e,i)}}))}sendOnly(e){this._socket&&Fs(e,this._socket)}send(e,t,n,r=3e4){return li(this,void 0,void 0,(function*(){if(this._socket){const i=this._generateMessageId();e.messageId=i;const o=e.identifier;Fs(e,this._socket);const s=yield new Promise(e=>{const t=Vs(i,o);this._messageIds[t]=e,setTimeout(()=>{delete this._messageIds[t],e()},r)});if(!s)return{code:Mo.TIMEOUT};if(0!==s.status)return{code:s.status};const a=t?this.codec.decodeByPBName(s.data,t,n):s;return{code:Mo.SUCCESS,data:a}}return{code:Mo.RC_NET_CHANNEL_INVALID}}))}close(){this._socket&&(this._socket.close(),this._socket=null,this._watcher.status(Ls.DISCONNECTED))}}var Gs;!function(e){e.GET="GET",e.POST="POST"}(Gs||(Gs={}));class Ys extends ds{constructor(e,t){super("comet",t),this._runtime=e,this._messageIds={},this._syncMessageIds={},this._idCount=0,this._generateMessageId=()=>++this._idCount,this._pid=encodeURIComponent((new Date).getTime()+Math.random()+"")}handleCometRes(e){if(200!==e.status&&202!==e.status)return!1;const t=Dr(e.data)?JSON.parse(e.data):e.data;return t?!Br(t)||(ri(t,e=>li(this,void 0,void 0,(function*(){const{sessionid:t}=e;t&&(this._sessionid=t);const n=(e=>{const t=e.headerCode,n=new gi(t),r=Ms(n);for(const i in e)r[i]=e[i];return r})(e),{messageId:r,_header:i,status:o,identifier:s}=n,a=i&&i.qos!==hi.AT_MOST_ONCE,c=Vs(r,s);if(r&&n.getIdentifier){const e=this._messageIds[c];e&&e(n),this._syncMessageIds[c]&&this._syncMessageIds[c](n)}if(a){if(n instanceof Ss&&!n.syncMsg){const e=new ws(r);this.sendOnly(e)}if(n instanceof Ns){const e=new Os(r);this.sendOnly(e)}}if(n instanceof vs){const e=1===o?Ls.KICKED_OFFLINE_BY_OTHER_CLIENT:2===o?Ls.BLOCKED:o;this._watcher.status(e)}if(n instanceof Ss){const{syncMsg:e,topic:t}=n;if(!e||Bs(t))return this._watcher.signal(n),!1;const r=yield new Promise(e=>{this._syncMessageIds[c]=e});delete this._syncMessageIds[c],this._watcher.signal(n,r)}}))),!0):(Ar.error("received data is not a validJson",t),!1)}_startPullSignal(e){return li(this,void 0,void 0,(function*(){const t=(new Date).getTime(),n=`${e}://${this._domain}/pullmsg.js?sessionid=${this._sessionid}&timestrap=${t}&pid=${this._pid}`,r=yield this._runtime.httpReq({url:n,body:{pid:this._pid},timeout:45e3}),i=this.handleCometRes(r);this._isDisconnected||(i?this._startPullSignal(e):(this._watcher.status(Ls.NETWORK_UNAVAILABLE),this.close()))}))}connect(e,t,n,r,i){return li(this,void 0,void 0,(function*(){i=Nr(i),this._protocol=r,this._isDisconnected=!1,this._watcher.status(Ls.CONNECTING);const o=yield js(n,r,this._runtime);if(0===o.length)return Ar.error("No valid comet server hosts!"),Mo.RC_SOCKET_NOT_CREATED;const s=e=>(200===e.status||202===e.status)&&!!e.data&&((e=>{if(Gr(e))return!0;let t=!1;try{const n=JSON.parse(e);t=JSON.stringify(n)===e}catch(e){t=!1}return t})(e.data)?Gr(e.data)?e.data:JSON.parse(e.data):(Ar.error("received data is not a validJson",e.data),!1));for(let n=0,a=o.length;n<a;n+=1){const a=Ds(r,o[n],e,t,this._runtime,i,this._pid),c=s(yield this._runtime.httpReq({url:a,body:{pid:this._pid},timeout:5e3}));if(this._domain=o[n],c&&0===c.status)return this._watcher.status(Ls.CONNECTED),this._sessionid=c.sessionid,this._startPullSignal(r),this.userId=c.userId,this.connectedTime=c.timestamp,c.status}return Mo.RC_NET_UNAVAILABLE}))}sendCometData(e,t=3e4){return li(this,void 0,void 0,(function*(){const{_domain:t,_sessionid:n,_pid:r}=this,{messageId:i,topic:o,targetId:s,identifier:a}=e,c=e.getHeaderFlag();let u;u=o?`${this._protocol}://${t}/websocket?messageid=${i}&header=${c}&sessionid=${n}&topic=${o}&targetid=${s}&pid=${r}`:`${this._protocol}://${t}/websocket?messageid=${i}&header=${c}&sessionid=${n}&pid=${r}`;const l=yield this._runtime.httpReq({url:u,method:Gs.POST,body:e.getCometData()});this.handleCometRes(l)}))}sendOnly(e){this.sendCometData(e)}send(e,t,n,r=3e4){return li(this,void 0,void 0,(function*(){const i=this._generateMessageId();e.messageId=i,this.sendCometData(e);const{identifier:o}=e,s=yield new Promise(e=>{const t=Vs(i,o);this._messageIds[t]=e,setTimeout(()=>{delete this._messageIds[t],e()},r)});if(!s)return{code:Mo.TIMEOUT};if(0!==s.status)return{code:s.status};const a=t?this.codec.decodeByPBName(s.data,t,n):s;return{code:Mo.SUCCESS,data:a}}))}close(){this._isDisconnected=!0,this._watcher.status(Ls.DISCONNECTED)}}const Hs=(e,t)=>["navi",e,t].join("_"),$s=(e,t,n)=>{const r=Hs(e,t),i=n.getItem(r);if(!i)return null;let o;try{o=JSON.parse(i)}catch(e){return n.removeItem(r),null}return Date.now()-o.timestamp>=72e5?(n.removeItem(r),null):o.naviInfo},Ks=(e,t,n,r)=>{const i=Hs(e,t),o={naviInfo:n,timestamp:Date.now()};r.setItem(i,JSON.stringify(o))};class Ws{constructor(e,t,n,r=[],i,o){this._runtime=e,this._appkey=t,this._navigators=n,this._customCMP=r,this._apiVersion=i,this._connectType=o,this._apiVersion=Nr(this._apiVersion)}_formatNaviUrl(e,t,n,r,i){return`${e}/${this._runtime.isSupportSocket()&&"websocket"===i?"navi":"cometnavi"}.js?appId=${n}&token=${encodeURIComponent(t)}&callBack=${r}&v=${this._apiVersion}&r=${Date.now()}`}_reqNavi(e,t,n,r){return li(this,void 0,void 0,(function*(){const i="getServerEndpoint";for(let o=0,s=e.length;o<s;o+=1){const s=this._formatNaviUrl(e[o],n,t,i,r);Ar.debug("req navi => "+s);const a=yield this._runtime.httpReq({url:s,timeout:1e4});if(200===a.status)try{const e=a.data.replace(i+"(","").replace(/\);?$/,""),t=JSON.parse(e),n=/^https/.test(s)?"https":"http";return t.protocol=n,t}catch(e){Ar.error("parse navi err =>",e)}}return null}))}getInfo(e,t,n,r){var i;return li(this,void 0,void 0,(function*(){if(r)return null;if(!this._runtime.useNavi){let t;t=this._runtime.isSupportSocket()?Er.join(","):br.join(",");const n={code:200,protocol:"https",server:"",voipCallInfo:"",kvStorage:0,openHttpDNS:!1,historyMsg:!1,chatroomMsg:!1,uploadServer:"https://upload.qiniup.com",bosAddr:"https://gz.bcebos.com",location:"",monitor:0,joinMChrm:!1,openMp:0,openUS:0,grpMsgLimit:0,isFormatted:0,gifSize:2048,logSwitch:0,logPolicy:"",compDays:0,msgAck:"",activeServer:"",qnAddr:"",extkitSwitch:0,alone:!1,voipServer:"",offlinelogserver:"",backupServer:(null===(i=this._customCMP)||void 0===i?void 0:i.length)?this._customCMP.join(","):t};return Ks(this._appkey,e,n,this._runtime.localStorage),n}n&&this._clear(e);let o=$s(this._appkey,e,this._runtime.localStorage);if(o)return o;const s=this._navigators.slice();return t.length&&t.forEach(e=>{s.indexOf(e)<0&&s.unshift(e)}),o=yield this._reqNavi(s,this._appkey,e,this._connectType),o?(Ks(this._appkey,e,o,this._runtime.localStorage),o):o}))}getInfoFromCache(e){return $s(this._appkey,e,this._runtime.localStorage)}_clear(e){((e,t,n)=>{n.removeItem(Hs(e,t))})(this._appkey,e,this._runtime.localStorage)}}class zs{constructor(e,t,n,r,i){this.runtime=e,this._appkey=t,this._watcher=n,this._apiVersion=r,this._options=i,this.currentUserId="",this.connectedTime=0}}const Qs=(e,t,n)=>[e,t,n].join("_");class Js{constructor(e,t){this._runtime=e,this._appkey=t,this._inboxTime=0,this._outboxTime=0}setInboxTime(e,t){if(this._inboxTime>e)return;this._inboxTime=e;const n=Qs("inbox",this._appkey,t);this._runtime.localStorage.setItem(n,e.toString())}getInboxTime(e){if(0===this._inboxTime){const t=Qs("inbox",this._appkey,e);this._inboxTime=parseInt(this._runtime.localStorage.getItem(t))||0}return this._inboxTime}setOutboxTime(e,t){if(this._outboxTime>e)return;this._outboxTime=e;const n=Qs("outbox",this._appkey,t);this._runtime.localStorage.setItem(n,e.toString())}getOutboxTime(e){if(0===this._outboxTime){const t=Qs("outbox",this._appkey,e);this._outboxTime=parseInt(this._runtime.localStorage.getItem(t))||0}return this._outboxTime}}const Zs={_caches:{},set(e,t){this._caches[e]=t},get(e){return this._caches[e]||0},clear(e){this._caches[e]=0}};class Xs{constructor(e,t){this._kvCaches={},this._chatroomId=e,this._currentUserId=t}_add(e){const{key:t}=e;e.isDeleted=!1,this._kvCaches[t]=e}_remove(e){const{key:t}=e,n=this._kvCaches[t];n.isDeleted=!0,this._kvCaches[t]=n}_setEntry(e,t){const{key:n,type:r,isOverwrite:i,userId:o}=e,s=this._getSetUserId(n),a=r===ai.DELETE,c=s===o,u=!this._isExisted(n),l=a?this._remove:this._add;(t||i||c||u)&&l.call(this,e)}getValue(e){const t=this._kvCaches[e]||{},{isDeleted:n}=t;return n?null:t.value}getAllValue(){const e={};for(const t in this._kvCaches)this._kvCaches[t].isDeleted||(e[t]=this._kvCaches[t].value);return e}_getSetUserId(e){return(this._kvCaches[e]||{}).userId}_isExisted(e){const t=this._kvCaches[e]||{},{value:n,isDeleted:r}=t;return n&&!r}setEntries(e){let{kvEntries:t,isFullUpdate:n}=e;t=t||[],n=n||!1,n&&this.clear(),t.forEach(e=>{this._setEntry(e,n)})}clear(){this._kvCaches={}}}class ea{constructor(e){this._pullQueue=[],this._isPulling=!1,this._storeCaches={},this._engine=e}_startPull(){return li(this,void 0,void 0,(function*(){if(this._isPulling||0===this._pullQueue.length)return;this._isPulling=!0;const{chrmId:e,timestamp:t}=this._pullQueue.splice(0,1)[0],n=Zs.get(e);if(n>t)return this._isPulling=!1,void this._startPull();const{code:r,data:i}=yield this._engine.pullChatroomEntry(e,n);r===Mo.SUCCESS?(this._isPulling=!1,Zs.set(e,i.syncTime||0),this._startPull()):this._startPull()}))}reset(e){Zs.clear(e);const t=this._storeCaches[e];t&&t.clear()}pullEntry(e,t){this._pullQueue.push({chrmId:e,timestamp:t}),this._startPull()}setLocal(e,t,n){let r=this._storeCaches[e];Wr(r)||(r=new Xs(e,n)),r.setEntries(t),this._storeCaches[e]=r}getValue(e,t){const n=this._storeCaches[e];return n?n.getValue(t):null}getAll(e){const t=this._storeCaches[e];let n={};return t&&(n=t.getAllValue()),n}}class ta{constructor(e,t,n,r){this._runtime=e,this._appkey=t,this._userId=n,this._canJoinMulipleChrm=r,this._sessionKey="",this._joinedChrmsInfo={},this._sessionKey=`sync-chrm-${this._appkey}-${this._userId}`}set(e,t=10){!this._canJoinMulipleChrm&&(this._joinedChrmsInfo={}),this._joinedChrmsInfo[e]=t,this._runtime.sessionStorage.setItem(this._sessionKey,JSON.stringify(this._joinedChrmsInfo))}get(){let e;try{const t=this._runtime.sessionStorage.getItem(this._sessionKey);e=JSON.parse(t||"")}catch(o){Ar.error("parse rejoined chrm infos error",o),e={}}return e}remove(e){delete this._joinedChrmsInfo[e],Wr(this._joinedChrmsInfo)?this._runtime.sessionStorage.setItem(this._sessionKey,JSON.stringify(this._joinedChrmsInfo)):this.clear()}clear(){this._joinedChrmsInfo={},this._runtime.sessionStorage.removeItem(this._sessionKey)}}const na="converStatusChanged";class ra{constructor(e,t,n){this._eventEmitter=new Jr,this._pullQueue=[],this._isPulling=!1,this._storage=Tr(e.runtime),this._appkey=t,this._currentUserId=n,this._engine=e,this._storagePullTimeKey=`con-s-${t}-${n}`}_set(e){if(Hr(e))return;let t=this._storage.get(this._storagePullTimeKey)||0;const n=e.length;e.forEach((e,r)=>{const i=e.updatedTime||0;t=i>t?i:t,e.conversationType=e.type,this._eventEmitter.emit(na,{statusItem:e,isLastPull:r===n-1})}),this._storage.set(this._storagePullTimeKey,t)}_startPull(){return li(this,void 0,void 0,(function*(){if(this._isPulling||0===this._pullQueue.length)return;this._isPulling=!0;const e=this._pullQueue.splice(0,1)[0],{code:t,data:n}=yield this._engine.pullConversationStatus(e);t===Mo.SUCCESS?(this._isPulling=!1,this._set(n),this._startPull()):this._startPull()}))}pull(e){const t=this._storage.get(this._storagePullTimeKey)||0;(e>t||0===e)&&(this._pullQueue.push(t),this._startPull())}watch(e){this._eventEmitter.on(na,t=>{e(t)})}unwatch(){this._eventEmitter.off(na,e=>{})}}const ia={c:{keyName:"unreadMessageCount",defaultVal:0},hm:{keyName:"hasMentioned",defaultVal:!1},m:{keyName:"mentionedInfo",defaultVal:null},t:{keyName:"lastUnreadTime",defaultVal:0},nc:{keyName:"notificationStatus",defaultVal:2},to:{keyName:"isTop",defaultVal:!1}},oa={};for(const t in ia){const e=ia[t].keyName;oa[e]=t}class sa{constructor(e,t,n){this._appkey=t,this._currentUserId=n;const r=`con-${t}-${n}`;this.storage=new wr(e,r)}_getStoreKey(e,t){return`${e}_${t}`}_getConOptionByKey(e){const t=(e=e||"").split("_");return 2===t.length?{conversationType:t[0],targetId:t[1]}:{conversationType:kr.PRIVATE,targetId:""}}updateMentionedData(e){const{conversationType:t,targetId:n,messageType:r,isMentioned:i,content:o,senderUserId:s}=e,a=this._getStoreKey(t,n),c=this.storage.get(a)||{},u=oa.mentionedInfo,l=oa.hasMentioned;let h=[];const f=(c[u]||{}).userIdList||[];let d=o.mentionedInfo;if(i&&t===kr.GROUP&&((d.userIdList||[]).forEach(e=>{e===this._currentUserId&&f.indexOf(s)<0&&f.push(s)}),d.type===Uo.ALL&&f.indexOf(s)<0&&f.push(s),h=f),r===ko.RECALL&&t===kr.GROUP){const e=f;f.forEach((t,n)=>{t===s&&e.splice(n,1)}),h=e}d={userIdList:h,type:null==d?void 0:d.type},0!==h.length?(c[u]=d,c[l]=!0):(delete c[u],delete c[l]),Wr(c)?this.storage.set(a,c):this.storage.remove(a)}set(e,t,n){const r=this._getStoreKey(e,t),i=this.storage.get(r)||{};for(const o in n){const e=oa[o],t=n[o];Hr(e)||Hr(t)||"hasMentioned"===o||"MentionedInfo"===o||(t===ia[e].defaultVal?delete i[e]:i[e]=t,i.c||delete i.t)}Wr(i)?this.storage.set(r,i):this.storage.remove(r)}get(e,t){const n=this._getStoreKey(e,t),r=this.storage.get(n)||{},i={};for(const o in ia){const{keyName:e,defaultVal:t}=ia[o];i[e]=r[o]||t}return i}getValue(e){const t=this.storage.getValues()||{},n=[];for(const r in t){const{conversationType:i,targetId:o}=this._getConOptionByKey(r);let s={};const a=t[r];for(const e in a){const{keyName:t,defaultVal:n}=ia[e];s[t]=a[e]||n}s=Object.assign(s,{conversationType:i,targetId:o}),s=e?e(s):s,n.push(s)}return n}}const aa=[kr.PRIVATE,kr.GROUP,kr.SYSTEM],ca="conversationChanged";class ua{constructor(e,t,n,r){this._updatedConversations={},this._eventEmitter=new Jr,this._draftMap={},this._appkey=t,this._loginUserId=n,this._store=new sa(e.runtime,t,n),this._statusManager=new ra(e,t,n),this._statusManager.watch(e=>{const{statusItem:t,isLastPull:n}=e;this.addStatus(t,n)}),this._eventEmitter.on(ca,e=>{r(e)})}_calcUnreadCount(e,t){const{content:n,messageType:r,sentTime:i,isCounted:o,messageDirection:s,senderUserId:a}=e,c=s===hs.SEND&&a===this._loginUserId,u=r===ko.RECALL,l=Gr(n);let h=!1;const f=t.lastUnreadTime||0,d=t.unreadMessageCount||0;return f>i||c||(o&&(t.unreadMessageCount=d+1,t.lastUnreadTime=i,h=!0),u&&l&&f>=n.sentTime&&d&&(t.unreadMessageCount=d-1,h=!0)),{hasChanged:h,localConversation:t}}_calcMentionedInfo(e,t){const{content:n,messageDirection:r,isMentioned:i}=e,o=(hs.SEND,Gr(n));let s=!1;return i&&o&&n.mentionedInfo&&(t.hasMentioned=!0,s=!0),{hasChanged:s,localConversation:t}}_setUpdatedConversation(e){if(Gr(e)){const{conversationType:t,targetId:n}=e,r=`${t}_${n}`,i=this._store.get(t,n)||{};this._updatedConversations[r]=Object.assign(i,e)}}addStatus(e,t){const{conversationType:n,targetId:r,updatedTime:i,notificationStatus:o,isTop:s}=e,a={};Hr(o)||(a.notificationStatus={time:i,val:o}),Hr(s)||(a.isTop={time:i,val:s}),this._store.set(n,r,{notificationStatus:o,isTop:s}),this._setUpdatedConversation({conversationType:n,targetId:r,updatedItems:a}),t&&this._notifyConversationChanged()}_notifyConversationChanged(){const e=[];for(const t in this._updatedConversations)e.push(this._updatedConversations[t]);this._eventEmitter.emit(ca,e),this._updatedConversations={}}setConversationCacheByMessage(e,t){const{conversationType:n,isPersited:r,targetId:i}=e;if(!(aa.indexOf(n)>=0))return;let o=!1,s=this._store.get(n,i);if([this._calcUnreadCount,this._calcMentionedInfo].forEach(t=>{const{hasChanged:n,localConversation:r}=t.call(this,e,s);var i;o=o||n,i=r,s=JSON.parse(JSON.stringify(i))}),o&&this._store.set(n,i,s),this._store.updateMentionedData(e),r){const t=this._store.get(n,i);t.updatedItems={latestMessage:{time:e.sentTime,val:e}},t.latestMessage=e;const r=Object.assign(t,{conversationType:n,targetId:i});this._setUpdatedConversation(r)}t&&this._notifyConversationChanged()}get(e,t){return this._store.get(e,t)}getAllUnreadCount(){const e=this._store.getValue();let t=0;return e.forEach(({unreadMessageCount:e})=>{e=e||0,t+=Number(e)}),t}getUnreadCount(e,t){return this._store.get(e,t).unreadMessageCount||0}clearUnreadCount(e,t){const n=this._store.get(e,t),{unreadMessageCount:r,hasMentioned:i}=n;(r||i)&&(n.unreadMessageCount=0,n.hasMentioned=!1),this._store.set(e,t,n);const o=Object.assign(n,{conversationType:e,targetId:t});this._setUpdatedConversation(o),this._notifyConversationChanged()}startPullConversationStatus(e){this._statusManager.pull(e)}setDraft(e,t,n){const r=`${e}_${t}`;this._draftMap[r]=n}getDraft(e,t){const n=`${e}_${t}`;return this._draftMap[n]}clearDraft(e,t){const n=`${e}_${t}`;delete this._draftMap[n]}}var la;!function(e){e[e.QINIU=1]="QINIU",e[e.ALI=2]="ALI"}(la||(la={}));var ha=la;const fa=(e,t)=>{const n=Math.floor(1e3*Math.random()%1e4),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),i=(e=>{e=e||"-";const t=new Date;return`${t.getFullYear()}${e}${t.getMonth()+1}${e}${t.getDate()}`})(),o=(new Date).getTime();let s="";if(t){const e=t.split(".");s="."+e[e.length-1]}return`${e}__RC-${i}_${n}_${o}${r}${s}`},da=(e,t,n,r,i,o)=>({conversationType:e,targetId:t,senderUserId:o,messageDirection:hs.SEND,isCounted:!!n.isCounted,isMentioned:!!n.isMentioned,content:n.content,messageType:n.messageType,isOffLineMessage:!1,isPersited:!!n.isPersited,messageUId:r,sentTime:i,receivedTime:0,disableNotification:!!n.disableNotification,isStatusMessage:!!n.isStatusMessage,canIncludeExpansion:!!n.canIncludeExpansion,expansion:n.canIncludeExpansion?n.expansion:null,receivedStatus:vr.UNREAD});class pa extends zs{constructor(e,t,n,r){super(e,t,n,r),this._customMessageType={},this._pullingMsg=!1,this._pullQueue=[],this._chrmsQueue={},this._letterbox=new Js(e,t),this._chrmEntryHandler=new ea(this)}connect(e,t,n){return li(this,void 0,void 0,(function*(){const r=[];this._naviInfo=t,t.server?r.push(t.server):Ar.warn("navi.server is invalid");const i=t.backupServer;if(i&&i.split(",").forEach(e=>{r.indexOf(e)<0&&r.push(e)}),0===r.length)return Ar.error("navi invaild.",r),Mo.UNKNOWN;const o=this.runtime.createDataChannel({status:n=>{this._connectionStatusHandler(n,e,r,t.protocol)},signal:this._signalHandler.bind(this)},n),s=yield o.connect(this._appkey,e,r,t.protocol,this._apiVersion);return s===Mo.SUCCESS?(this._channel=o,this.currentUserId=o.userId,this.connectedTime=o.connectedTime,this._conversationManager=new ua(this,this._appkey,this.currentUserId,this._watcher.conversation),this._conversationManager.startPullConversationStatus(0),this._joinedChrmManager=new ta(this.runtime,this._appkey,this.currentUserId,t.joinMChrm),this._syncMsg()):o.close(),s}))}_connectionStatusHandler(e,t,n,r){if(Ar.warn("connection status changed:",e),e!==Ls.CONNECTING&&e!==Ls.CONNECTED){if(this._channel&&e!==Ls.DISCONNECTED)return e===Ls.BLOCKED||e===Ls.KICKED_OFFLINE_BY_OTHER_CLIENT?(this.disconnect(),void this._watcher.status(e)):void this._try2Reconnect(t,n,r);this._watcher.status(e)}else this._watcher.status(e)}_try2Reconnect(e,t,n){return li(this,void 0,void 0,(function*(){this._channel&&((yield this._channel.connect(this._appkey,e,t,n,this._apiVersion))!==Mo.SUCCESS?(this._watcher.status(Ls.WEBSOCKET_UNAVAILABLE),setTimeout(()=>{this._try2Reconnect(e,t,n)},5e3)):this._rejoinChrm())}))}_signalHandler(e,t){const{syncMsg:n,topic:r}=e;if(n)return void this._receiveSyncMsg(e,t);const i=ks[r];if(i)switch(i){case ks.s_ntf:this._pullMsg(e);break;case ks.s_msg:this._receiveMsg(e);break;case ks.s_cmd:this._receiveStateNotify(e);break;case ks.s_us:this._receiveSettingNotify(e)}else Ar.error("unknown topic:",r)}_receiveStateNotify(e){var t;const{time:n,type:r,chrmId:i}=null===(t=this._channel)||void 0===t?void 0:t.codec.decodeByPBName(e.data,wi);switch(r){case 2:this._chrmEntryHandler.pullEntry(i,n);break;case 3:this._conversationManager.startPullConversationStatus(n)}}_receiveSettingNotify(e){}_receiveMessageExpansion(e){const{content:t}=e,{put:n,del:r,mid:i}=t;n&&this._watcher.expansion({updatedExpansion:{messageUId:i,expansion:n}}),r&&this._watcher.expansion({deletedExpansion:{messageUId:i,deletedKeys:r}})}_receiveSyncMsg(e,t){var n;let r=null===(n=this._channel)||void 0===n?void 0:n.codec.decodeByPBName(e.data,_i,{currentUserId:this.currentUserId,signal:e});r=this._handleMsgProperties(r),r.sentTime=t.timestamp,r.messageUId=t.messageUId,this._pullingMsg?this._pullQueue.push(t.timestamp):(this._letterbox.setOutboxTime(t.timestamp,this.currentUserId),r.messageType!==ko.EXPANSION_NOTIFY?(this._watcher.message(r),this._conversationManager.setConversationCacheByMessage(r,!0)):this._receiveMessageExpansion(r))}_pullMsg(e){if(!this._channel)return;const{type:t,chrmId:n,time:r}=this._channel.codec.decodeByPBName(e.data,wi);if(2===t){const e=this._chrmsQueue[n];if(!e)return;e.queue.push(r),this._pullChrmMsg(n)}else this._pullQueue.push(r),this._syncMsg()}_syncMsg(){return li(this,void 0,void 0,(function*(){if(this._pullingMsg)return;if(!this._channel)return void(this._pullingMsg=!1);this._pullingMsg=!0;const e=this._letterbox.getOutboxTime(this.currentUserId),t=this._letterbox.getInboxTime(this.currentUserId);Ar.debug("outboxTime",e),Ar.debug("inboxTime",t);const n=this._channel.codec.encodeSyncMsg({sendboxTime:e,inboxTime:t}),r=new Is(ks[ks.pullMsg],n,this.currentUserId),{code:i,data:o}=yield this._channel.send(r,bi,{connectedTime:this._channel.connectedTime,currentUserId:this.currentUserId});if(i!==Mo.SUCCESS||!o)return Ar.warn("Pull msg failed, code:",i,", data: ",o),void(this._pullingMsg=!1);const{list:s,finished:a,syncTime:c}=o;let u=0;s.forEach(e=>{e.messageDirection===hs.SEND&&(u=Math.max(e.sentTime,u)),e.messageType!==ko.EXPANSION_NOTIFY?(this._watcher.message(e),this._conversationManager.setConversationCacheByMessage(e,!0)):this._receiveMessageExpansion(e)}),this._letterbox.setInboxTime(c,this.currentUserId),this._letterbox.setOutboxTime(u,this.currentUserId),this._pullingMsg=!1;const l=this._pullQueue.filter(e=>e>c);this._pullQueue.length=0,this._pullQueue.push(...l),(!a||l.length>0)&&this._syncMsg()}))}_receiveMsg(e){if(!this._channel)return;if(this._pullingMsg)return;let t=this._channel.codec.decodeByPBName(e.data,Ei,{currentUserId:this.currentUserId,connectedTime:this._channel.connectedTime});t=this._handleMsgProperties(t),t.isStatusMessage||this._letterbox.setInboxTime(t.sentTime,this.currentUserId),t.messageType!==ko.EXPANSION_NOTIFY?(this._watcher.message(t),this._conversationManager.setConversationCacheByMessage(t,!0)):this._receiveMessageExpansion(t)}_handleMsgProperties(e,t=!1){const{messageType:n,isCounted:r,isPersited:i,isStatusMessage:o}=e;let s;const a=n in Cr,c=n in this._customMessageType;return s=a?Cr[n]:c?this._customMessageType[n]:{isCounted:!$r(r)&&r,isPersited:!$r(i)&&i},Object.assign(e,{isCounted:s.isCounted,isPersited:s.isPersited,isStatusMessage:!(e.isCounted&&e.isPersited)}),t&&(e.isStatusMessage=o),e}getConnectTime(){return this._channel?Promise.resolve({code:Mo.SUCCESS,data:this._channel.connectedTime}):Promise.resolve({code:Mo.RC_NET_CHANNEL_INVALID})}getHistoryMessage(e,t,n,r,i){return li(this,void 0,void 0,(function*(){const{currentUserId:o,_channel:s}=this,a=is[e]||Zo;if(s){const e=s.codec.encodeGetHistoryMsg(t,{timestamp:n,count:r,order:i}),c=yield s.send(new Is(a,e,o),Oi,{currentUserId:o,connectedTime:s.connectedTime,conversation:{targetId:t}}),{code:u}=c;if(u!==Mo.SUCCESS)return{code:u};const l=c.data;return{code:u,data:{list:l.list,hasMore:l.hasMore}}}return{code:Mo.RC_NET_CHANNEL_INVALID}}))}deleteRemoteMessage(e,t,n){return li(this,void 0,void 0,(function*(){const{currentUserId:r,_channel:i}=this;if(i){const o=i.codec.encodeDeleteMessages(e,t,n),s=new Is(qo,o,r),a=yield i.send(s),{code:c}=a;return Mo.SUCCESS,c}return Mo.RC_NET_CHANNEL_INVALID}))}deleteRemoteMessageByTimestamp(e,t,n){return li(this,void 0,void 0,(function*(){const{currentUserId:r,_channel:i}=this;if(i){const o=i.codec.encodeClearMessages(t,n),s=new Is(os[e],o,r),a=yield i.send(s),{code:c}=a;return Mo.SUCCESS,c}return Mo.RC_NET_CHANNEL_INVALID}))}getConversationList(e=300,t,n,r){return li(this,void 0,void 0,(function*(){const{currentUserId:i,_channel:o}=this;if(t=t||kr.PRIVATE,o){const s=o.codec.encodeOldConversationList({count:e,type:t,startTime:n,order:r}),a=new Is(Wo,s,i),c=yield o.send(a,Mi,{currentUserId:i,connectedTime:o.connectedTime,afterDecode:e=>{const{conversationType:t,targetId:n}=e,r=this._conversationManager.get(t,n);return Object.assign(e,r),e}});Ar.info("GetConversationList =>",c);const{code:u,data:l}=c;return u!==Mo.SUCCESS?{code:u}:{code:u,data:l}}return{code:Mo.RC_NET_CHANNEL_INVALID}}))}removeConversation(e,t){return li(this,void 0,void 0,(function*(){const{_channel:n}=this;if(n){const r=n.codec.encodeOldConversationList({type:e}),i=new Is(zo,r,t),o=yield n.send(i);Ar.info("RemoveConversation =>",o);const{code:s}=o;return Mo.SUCCESS,s}return Mo.RC_NET_CHANNEL_INVALID}))}getConversation(e,t,n){throw new Error("Method not implemented.")}getAllConversationUnreadCount(){const e=this._conversationManager.getAllUnreadCount();return Promise.resolve({code:Mo.SUCCESS,data:e})}getConversationUnreadCount(e,t){const n=this._conversationManager.getUnreadCount(e,t);return Promise.resolve({code:Mo.SUCCESS,data:n})}clearConversationUnreadCount(e,t){return this._conversationManager.clearUnreadCount(e,t),Promise.resolve(Mo.SUCCESS)}saveConversationMessageDraft(e,t,n){return this._conversationManager.setDraft(e,t,n),Promise.resolve(Mo.SUCCESS)}getConversationMessageDraft(e,t){const n=this._conversationManager.getDraft(e,t);return Promise.resolve({code:Mo.SUCCESS,data:n})}clearConversationMessageDraft(e,t){return this._conversationManager.clearDraft(e,t),Promise.resolve(Mo.SUCCESS)}pullConversationStatus(e){return li(this,void 0,void 0,(function*(){const{_channel:t,currentUserId:n}=this;if(t){const r=t.codec.encodeGetConversationStatus(e),i=new Is(ks[ks.pullSeAtts],r,n),o=yield t.send(i,vo),{code:s,data:a}=o;return s!==Mo.SUCCESS?{code:s}:{code:s,data:a}}return{code:Mo.RC_NET_CHANNEL_INVALID}}))}batchSetConversationStatus(e){return li(this,void 0,void 0,(function*(){const{currentUserId:t,_channel:n}=this;if(n){const r=n.codec.encodeSetConversationStatus(e),i=new Is(Qo,r,t),o=yield n.send(i,Co),{code:s,data:a}=o;if(s===Mo.SUCCESS){const t=a;return e.forEach(e=>{this._conversationManager.addStatus(Object.assign(Object.assign({},e),{updatedTime:t.version}),!0)}),s}return s}return Mo.RC_NET_CHANNEL_INVALID}))}_joinChrm(e,t,n){return li(this,void 0,void 0,(function*(){const{_channel:r}=this;if(!r)return Mo.RC_NET_CHANNEL_INVALID;const i=r.codec.encodeJoinOrQuitChatRoom(),o=new Is(n?Yo:Go,i,e),{code:s,data:a}=yield r.send(o);if(s===Mo.SUCCESS){this._chrmsQueue[e]||(this._chrmsQueue[e]={pulling:!1,queue:[],timestamp:0}),this._pullChrmMsg(e,t);const{kvStorage:n}=this._naviInfo;n&&this._chrmEntryHandler.pullEntry(e,0),this._joinedChrmManager.set(e,t)}return s}))}_rejoinChrm(){return li(this,void 0,void 0,(function*(){const e=this._joinedChrmManager.get();for(const t in e){const n=yield this._joinChrm(t,e[t],!0);n===Mo.SUCCESS?this._watcher.chatroom({rejoinedRoom:{chatroomId:t,count:e[t]}}):this._watcher.chatroom({rejoinedRoom:{chatroomId:t,errorCode:n}})}}))}_pullChrmMsg(e,t=10){return li(this,void 0,void 0,(function*(){if(!this._channel)return;const n=this._chrmsQueue[e],{pulling:r,timestamp:i}=n;if(r)return;const o=this._channel.codec.encodeChrmSyncMsg(i,t),s=new Is(ks[ks.chrmPull],o,e),{code:a,data:c}=yield this._channel.send(s,bi,{connectedTime:this._channel.connectedTime,currentUserId:this.currentUserId});if(a!==Mo.SUCCESS||!c)return void Ar.warn("pull chatroom msg failed, code:",a,", data:",c);const{list:u,syncTime:l,finished:h}=c;n.timestamp=l,n.pulling=!1,n.queue=n.queue.filter(e=>e>l),u.forEach(e=>{e.sentTime<i||this._watcher.message(e)}),(!h||n.queue.length>0)&&this._pullChrmMsg(e)}))}joinChatroom(e,t){return li(this,void 0,void 0,(function*(){return this._joinChrm(e,t,!1)}))}joinExistChatroom(e,t){return li(this,void 0,void 0,(function*(){return this._joinChrm(e,t,!0)}))}quitChatroom(e){return li(this,void 0,void 0,(function*(){const{_channel:t}=this;if(!t)return Mo.RC_NET_CHANNEL_INVALID;const n=t.codec.encodeJoinOrQuitChatRoom(),r=new Is(Ho,n,e),i=yield t.send(r),{code:o}=i;return o===Mo.SUCCESS&&(delete this._chrmsQueue[e],this._chrmEntryHandler.reset(e),this._joinedChrmManager.remove(e)),o}))}getChatroomInfo(e,t,n){return li(this,void 0,void 0,(function*(){const{_channel:r}=this;if(!r)return{code:Mo.RC_NET_CHANNEL_INVALID};const i=r.codec.encodeGetChatRoomInfo(t,n),o=new Is(ks[ks.queryChrmI],i,e),s=yield r.send(o,Bi),{code:a,data:c}=s;return a!==Mo.SUCCESS?{code:a}:{code:a,data:c}}))}getChatroomHistoryMessages(e,t,n,r){return li(this,void 0,void 0,(function*(){const{_channel:i}=this;if(!i)return{code:Mo.RC_NET_CHANNEL_INVALID};const o=i.codec.encodeGetHistoryMsg(e,{timestamp:t,count:n,order:r}),s=new Is(es,o,e),a=yield i.send(s,Oi,{conversation:{targetId:e}}),{code:c}=a,u=a.data;return c!==Mo.SUCCESS?{code:c}:{code:c,data:{list:u.list,hasMore:u.hasMore}}}))}_modifyChatroomKV(e,t){return li(this,void 0,void 0,(function*(){const{_channel:n,currentUserId:r}=this;if(!n)return Mo.RC_NET_CHANNEL_INVALID;const i=n.codec.encodeModifyChatRoomKV(e,t,r),o=t.type===ai.UPDATE?$o:Ko,s=new Is(o,i,e),a=yield n.send(s),{code:c}=a;return c===Mo.SUCCESS?(this._chrmEntryHandler.setLocal(e,{kvEntries:[t],syncTime:(new Date).getTime()},r),c):c}))}setChatroomEntry(e,t){return li(this,void 0,void 0,(function*(){return t.type=ai.UPDATE,this._modifyChatroomKV(e,t)}))}forceSetChatroomEntry(e,t){return li(this,void 0,void 0,(function*(){return t.type=ai.UPDATE,t.isOverwrite=!0,this._modifyChatroomKV(e,t)}))}removeChatroomEntry(e,t){return li(this,void 0,void 0,(function*(){return t.type=ai.DELETE,this._modifyChatroomKV(e,t)}))}forceRemoveChatroomEntry(e,t){return li(this,void 0,void 0,(function*(){return t.type=ai.DELETE,t.isOverwrite=!0,this._modifyChatroomKV(e,t)}))}getChatroomEntry(e,t){const n=this._chrmEntryHandler.getValue(e,t);return n?Promise.resolve({code:Mo.SUCCESS,data:n}):Promise.resolve({code:Mo.CHATROOM_KEY_NOT_EXIST})}getAllChatroomEntry(e){const t=this._chrmEntryHandler.getAll(e);return Promise.resolve({code:Mo.SUCCESS,data:t})}pullChatroomEntry(e,t){return li(this,void 0,void 0,(function*(){const{_channel:n,currentUserId:r}=this;if(!n)return{code:Mo.RC_NET_CHANNEL_INVALID};const i=n.codec.encodePullChatRoomKV(t),o=new Is(ks[ks.pullKV],i,e),s=yield n.send(o,lo),{code:a,data:c}=s;if(a===Mo.SUCCESS){this._chrmEntryHandler.setLocal(e,c,r);const{kvEntries:t}=c,n=[];return t.length>0&&(t.forEach(t=>{const{key:r,value:i,type:o,timestamp:s}=t;n.push({key:r,value:i,type:o,timestamp:s,chatroomId:e})}),this._watcher.chatroom({updatedEntries:n})),{code:a,data:c}}return{code:a}}))}sendMessage(e,t,n){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};n=((e,t)=>{const{messageType:n}=e;return"RC:SRSMsg"===n&&Object.assign(e,{directionalUserIdList:[t]}),e})(n,this.currentUserId),n=this._handleMsgProperties(n,!0);const r=!![kr.PRIVATE,kr.GROUP].includes(e)&&n.isStatusMessage,i=r?(o=e,{[kr.PRIVATE]:ks.ppMsgS,[kr.GROUP]:ks.pgMsgS}[o]):(e=>({[kr.PRIVATE]:ks.ppMsgP,[kr.GROUP]:ks.pgMsgP,[kr.CHATROOM]:ks.chatMsg,[kr.CUSTOMER_SERVICE]:ks.pcMsgP,[kr.RTC_ROOM]:ks.prMsgS}[e]))(e)||ks.ppMsgP;var o;r&&(n.isPersited=!1,n.isCounted=!1);const s=this._channel.codec.encodeUpMsg({type:e,targetId:t},n),a=new Ts(ks[i],s,t);if(a.setHeaderQos(hi.AT_LEAST_ONCE),r)return this._channel.sendOnly(a),{code:Mo.SUCCESS,data:da(e,t,Object.assign({},n),"",0,this.currentUserId)};const{code:c,data:u}=yield this._channel.send(a);if(c!==Mo.SUCCESS)return{code:c};const l=u;this._letterbox.setOutboxTime(l.timestamp,this.currentUserId);const h=da(e,t,Object.assign({},n),l.messageUId,l.timestamp,this.currentUserId);return this._conversationManager.setConversationCacheByMessage(h,!0),{code:Mo.SUCCESS,data:h}}))}recallMsg(e,t,n,r,i){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const{user:o}=i,s={content:{conversationType:e,targetId:t,messageUId:n,sentTime:r,user:o},messageType:"RC:RcCmd"},a=ks[ks.recallMsg],c=this._channel.codec.encodeUpMsg({type:e,targetId:t},s),u=new Ts(a,c,this.currentUserId);u.setHeaderQos(hi.AT_LEAST_ONCE);const{code:l,data:h}=yield this._channel.send(u);if(l!==Mo.SUCCESS)return{code:l};const f=h;return{code:Mo.SUCCESS,data:da(e,t,Object.assign({},s),f.messageUId,f.timestamp,this.currentUserId)}}))}pullUserSettings(e){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const t=this._channel.codec.encodePullUserSetting(e),n=new Is(ks[ks.pullUS],t,this.currentUserId);return this._channel.send(n,mo)}))}getFileToken(e,t){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const n=fa(e,t),r=this._channel.codec.encodeGetFileToken(e,n),i=new Is(ks[ks.qnTkn],r,this.currentUserId);let{code:o,data:s}=yield this._channel.send(i,io);return s=Object.assign(s,{fileName:n}),o===Mo.SUCCESS?{code:o,data:s}:{code:o}}))}getFileUrl(e,t,n,r){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};let i="",o="",s="";t===ha.QINIU?(i=ks[ks.qnUrl],o=oo,s=ao):(i=ks[ks.aliUrl],o=so,s=co);const a=this._channel.codec.encodeGetFileUrl(o,e,n,r),c=new Is(i,a,this.currentUserId),{code:u,data:l}=yield this._channel.send(c,s),h=l;return u===Mo.SUCCESS?{code:u,data:h}:{code:u}}))}disconnect(){this._channel&&(this._channel.close(),this._channel=void 0)}destroy(){throw new Error("JSEngine's method not implemented.")}registerMessageType(e,t,n,r){this._customMessageType[e]={isPersited:t,isCounted:n}}joinRTCRoom(e,t,n){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Is(ks[ks.rtcRJoin_data],r,e);return this._channel.send(i,qi)}))}quitRTCRoom(e){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const t=this._channel.codec.encodeQuitRTCRoom(),n=new Is(ks[ks.rtcRExit],t,e),{code:r}=yield this._channel.send(n);return r}))}rtcPing(e,t,n){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Is(ks[ks.rtcPing],r,e),{code:o}=yield this._channel.send(i);return o}))}getRTCRoomInfo(e){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Is(ks[ks.rtcRInfo],t,e);return this._channel.send(n,eo)}))}getRTCUserInfoList(e){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Is(ks[ks.rtcUData],t,e),{code:r,data:i}=yield this._channel.send(n,qi);return{code:r,data:i?{users:i.users}:i}}))}setRTCUserInfo(e,t,n){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const r=this._channel.codec.encodeSetRTCUserInfo(t,n),i=new Is(ks[ks.rtcUPut],r,e),{code:o}=yield this._channel.send(i);return o}))}removeRTCUserInfo(e,t){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const n=this._channel.codec.encodeRemoveRTCUserInfo(t),r=new Ts(ks[ks.rtcUDel],n,e),{code:i}=yield this._channel.send(r);return i}))}setRTCData(e,t,n,r,i,o){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const s=this._channel.codec.encodeSetRTCData(t,n,r,i,o),a=new Ts(ks[ks.rtcSetData],s,e),{code:c}=yield this._channel.send(a);return c}))}setRTCTotalRes(e,t,n,r){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const i=this._channel.codec.encodeUserSetRTCData(t,n,r),o=new Ts(ks[ks.userSetData],i,e),{code:s}=yield this._channel.send(o);return s}))}getRTCData(e,t,n,r){if(!this._channel)return Promise.resolve({code:Mo.RC_NET_CHANNEL_INVALID});const i=this._channel.codec.encodeGetRTCData(t,n,r),o=new Is(ks[ks.rtcQryData],i,e);return this._channel.send(o,Qi)}removeRTCData(e,t,n,r,i){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const o=this._channel.codec.encodeRemoveRTCData(t,n,r,i),s=new Ts(ks[ks.rtcDelData],o,e),{code:a}=yield this._channel.send(s);return a}))}setRTCOutData(e,t,n,r){throw new Error("JSEngine's method not implemented.")}getRTCOutData(e,t){throw new Error("JSEngine's method not implemented.")}getRTCToken(e,t,n){return li(this,void 0,void 0,(function*(){if(!this._channel)return{code:Mo.RC_NET_CHANNEL_INVALID};const r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Is(ks[ks.rtcToken],r,e);return this._channel.send(i,zi)}))}setRTCState(e,t){return li(this,void 0,void 0,(function*(){if(!this._channel)return Mo.RC_NET_CHANNEL_INVALID;const n=this._channel.codec.encodeSetRTCState(t),r=new Is(ks[ks.rtcUserState],n,e),{code:i}=yield this._channel.send(r);return i}))}getRTCUserInfo(e){return li(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getRTCUserList(e){if(!this._channel)return Promise.resolve({code:Mo.RC_NET_CHANNEL_INVALID});const t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Is(ks[ks.rtcUList],t,e);return this._channel.send(n,qi)}clearConversations(){throw new Error("Method not implemented.")}setUserStatusListener(e,t){throw new Error("Method not implemented.")}setUserStatus(e){throw new Error("Method not implemented.")}subscribeUserStatus(e){throw new Error("Method not implemented.")}getUserStatus(e){throw new Error("Method not implemented.")}addToBlacklist(e){throw new Error("Method not implemented.")}removeFromBlacklist(e){throw new Error("Method not implemented.")}getBlacklist(){throw new Error("Method not implemented.")}getBlacklistStatus(e){throw new Error("Method not implemented.")}insertMessage(e,t,n){throw new Error("Method not implemented.")}deleteMessages(e){throw new Error("Method not implemented.")}deleteMessagesByTimestamp(e,t,n,r,i){throw new Error("Method not implemented.")}clearMessages(e,t,n){throw new Error("Method not implemented.")}getMessage(e){throw new Error("Method not implemented.")}setMessageContent(e,t,n){throw new Error("Method not implemented.")}setMessageSearchField(e,t,n){throw new Error("Method not implemented.")}searchConversationByContent(e,t,n,r){throw new Error("Method not implemented.")}searchMessageByContent(e,t,n,r,i,o){throw new Error("Method not implemented.")}getUnreadMentionedMessages(e,t){throw new Error("Method not implemented.")}setMessageSentStatus(e,t){throw new Error("Method not implemented.")}setMessageReceivedStatus(e,t){throw new Error("Method not implemented.")}clearUnreadCountByTimestamp(e,t,n,r){throw new Error("Method not implemented.")}getConversationNotificationStatus(e,t,n){throw new Error("Method not implemented.")}getRemoteHistoryMessages(e,t,n,r,i,o){throw new Error("Method not implemented.")}}var ga,ma,ya;!function(e){e[e.RTC=0]="RTC",e[e.LIVE=2]="LIVE"}(ga||(ga={})),function(e){e[e.AUDIO_AND_VIDEO=0]="AUDIO_AND_VIDEO",e[e.AUDIO=1]="AUDIO"}(ma||(ma={})),function(e){e[e.ANCHOR=1]="ANCHOR",e[e.AUDIENCE=2]="AUDIENCE"}(ya||(ya={}));const va={"RC:VCAccept":"RC:VCAccept","RC:VCRinging":"RC:VCRinging","RC:VCSummary":"RC:VCSummary","RC:VCHangup":"RC:VCHangup","RC:VCInvite":"RC:VCInvite","RC:VCModifyMedia":"RC:VCModifyMedia","RC:VCModifyMem":"RC:VCModifyMem"};var _a;!function(e){e[e.ROOM=1]="ROOM",e[e.PERSON=2]="PERSON"}(_a||(_a={}));class Ea{constructor(e,t){this._timerId=0,this._heartbeatTimeoutId=0,this._isFirstPing=!0,this._hasPingRes=e,this._connectionListener=t}start(e,t){const n=this,r=()=>{const i=this._isFirstPing?0:15e3;n._timerId=setTimeout(()=>{n._isFirstPing=!1,n._hasPingRes?(e.call(t),n._hasPingRes=!1,r()):n._heartbeatTimeoutId=setTimeout(()=>{},9e4)},i)};r()}stop(){clearTimeout(this._timerId)}setHeartbeatRes(e){this._hasPingRes=e,this._hasPingRes&&clearTimeout(this._heartbeatTimeoutId)}}class ba extends zs{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._cppProtocol=i,this._currentToken="",this._connectionStatus=Ls.DISCONNECTED,this._promiseHandler={},this._customMessageType={},this._heartbeat={},this._connectionListener=e=>{},this._cppConnectionStatus=Ls.DISCONNECTED,this.init(t,{version:r,dbPath:(null==o?void 0:o.dbPath)||"",navi:(null==o?void 0:o.navigators[0])||""}),this._setConnectionStatusListener(n.status),this._setOnReceiveMessageListener(n.message),this._setConversationStatusListener(n.conversation)}_registerMsgTypes(){Cr["RC:RcCmd"]={isCounted:!1,isPersited:!1};for(const e in Cr){const{isCounted:t,isPersited:n}=Cr[e];let r=0;n&&(r|=1),t&&(r|=2),this._cppProtocol.registerMessageType(e,r)}}_buildMessage(e,t){const n=JSON.parse(e),{channelId:r,conversationType:i,targetId:o,senderUserId:s,content:a,objectName:c,messageUid:u,direction:l,status:h,source:f,messageId:d,sentTime:p}=n;let g;g=Gr(a)?a:a?JSON.parse(a):a;let m={isCounted:!1,isPersited:!1};c in Cr?m=Cr[c]:c in this._customMessageType&&(m=this._customMessageType[c]);const y={channelId:r,conversationType:i,targetId:o,senderUserId:s,content:g||{},messageType:c,messageUId:u,messageDirection:l,isOffLineMessage:Hr(t)?p<this.connectedTime:t,sentTime:p,receivedTime:0,isPersited:m.isPersited,isCounted:m.isCounted,isMentioned:!1,disableNotification:!1,isStatusMessage:!1,canIncludeExpansion:!1,expansion:null,receivedStatus:h,messageId:d};return l===hs.RECEIVE?y.receivedStatus=h:l===hs.SEND&&(y.sentStatus=h),y}_buildConversation(e){const t=JSON.parse(e),{channelId:n,conversationType:r,targetId:i,unreadCount:o,lastestMsg:s,isTop:a,isBlocked:c}=t,u=1===a,l=1===c?jo.OPEN:jo.CLOSE;return{channelId:n,conversationType:r,targetId:i,unreadMessageCount:o,latestMessage:this._buildMessage(s),hasMentioned:!1,mentionedInfo:null,notificationStatus:l,isTop:u,lastUnreadTime:0}}_setConnectionStatusListener(e){this._connectionListener=e,this._cppProtocol.setConnectionStatusListener(t=>{let n;switch(Ar.warn("protocol connection status changed:",t),this._cppConnectionStatus=t,t){case 10:n=Ls.CONNECTING;break;case 31004:return void setTimeout(()=>{this._promiseHandler.connect&&this._promiseHandler.connect.resolve(Mo.RC_CONN_USER_OR_PASSWD_ERROR)});case 12:n=Ls.DISCONNECTED;break;case 13:n=Ls.BLOCKED;break;case 1:case 8:case 9:case 11:case 31011:case 3e4:case 30002:n=Ls.NETWORK_UNAVAILABLE;break;case 30010:this._try2Reconnect(),n=Ls.NETWORK_UNAVAILABLE;break;case 0:case 33005:n=Ls.CONNECTED,this.connectedTime=(new Date).getTime()-this._cppProtocol.getDeltaTime(),setTimeout(()=>{this._promiseHandler.connect&&this._promiseHandler.connect.resolve(Mo.SUCCESS),this._heartbeat=new Ea(!0,e),this._heartbeat.start(this._sendHeartbeat,this)});break;case Ls.KICKED_OFFLINE_BY_OTHER_CLIENT:n=Ls.KICKED_OFFLINE_BY_OTHER_CLIENT;break;case 30004:return;default:n=t}this._connectionStatus=n,setTimeout(()=>{e(n)})},this._dbInitCallback,()=>{this._heartbeat.setHeartbeatRes(!0)})}_dbInitCallback(e){}_sendHeartbeat(){this._cppProtocol.sendHeartbeat()}_try2Reconnect(){30010!==this._cppConnectionStatus&&30004!==this._cppConnectionStatus||(this._cppProtocol.connectWithToken(this._currentToken,"",()=>{}),setTimeout(()=>{this._try2Reconnect()},5e3))}_setOnReceiveMessageListener(e){this._cppProtocol.setOnReceiveMessageListener((t,n,r,i)=>{const o=this._buildMessage(t,r);e(o)})}_setConversationStatusListener(e){this._cppProtocol.setConversationStatusListener(t=>{const n=JSON.parse(t).list,r=[];n.forEach(e=>{const t=JSON.parse(e.obj),{conversationType:n,targetId:i,status:o,channelId:s}=t,a={notificationStatus:2,isTop:!1};o.forEach(e=>{const t=JSON.parse(e.item);1===t.type?a.notificationStatus=1===Number(t.value)?jo.OPEN:jo.CLOSE:a.isTop=1===Number(t.value)}),r.push({channelId:s,conversationType:n,targetId:i,updatedItems:{notificationStatus:{val:a.notificationStatus,time:0},isTop:{val:a.isTop,time:0}}})}),e(r)})}_clearListener(){this._cppProtocol.setOnReceiveMessageListener(),this._cppProtocol.setConnectionStatusListener(),this._cppProtocol.setOnReceiveStatusListener()}init(e,t){let n=this._cppProtocol.initWithAppkey(e,null==t?void 0:t.dbPath,t);n&&(n=JSON.parse(n)),this._registerMsgTypes();const r=e+"_device_id";let i=this.runtime.localStorage.getItem(r);return i||(i=(()=>{let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));if(e=e.replace(/-/g,"")+"a",e=(e=>{const t="0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZa0".split(""),n=t.length+1;let r=+e;const i=[];do{const e=r%n;r=(r-e)/n,i.unshift(t[e])}while(r);return i.join("")})(parseInt(e,16)),e.length>22&&(e=e.slice(0,22)),e.length<22){const t=22-e.length;for(let n=0;n<t;n++)e+="0"}return e})(),this.runtime.localStorage.setItem(r,i)),this._cppProtocol.setDeviceId(i),n}registerMessageType(e,t,n,r){let i=0;t&&(i|=1),n&&(i|=2),this._customMessageType[e]={isCounted:n,isPersited:t},this._cppProtocol.registerMessageType(e,i,r)}connect(e,t,n,r,i={}){return this._currentToken=e,i.type&&this._cppProtocol.setEnvironment(!0),this._cppProtocol.connectWithToken(e,r,e=>{this.currentUserId=e}),new Promise((e,t)=>{this._promiseHandler.connect={resolve:e,reject:t}})}disconnect(){this._cppProtocol.disconnect(!0),this._heartbeat.stop(),this._connectionListener(Ls.DISCONNECTED)}logout(){this.disconnect()}getConnectTime(){return new Promise((e,t)=>{e({code:Mo.SUCCESS,data:this.connectedTime})})}setUserStatusListener(e,t){this._cppProtocol.setOnReceiveStatusListener((e,n)=>{t({userId:e,status:n})});const n=e.userIds||[];n.length&&this.subscribeUserStatus(n)}subscribeUserStatus(e){return new Promise((t,n)=>{this._cppProtocol.subscribeUserStatus(e,()=>{t(Mo.SUCCESS)},t)})}setUserStatus(e){return new Promise((t,n)=>{this._cppProtocol.setUserStatus(e,()=>{t(Mo.SUCCESS)},t)})}getUserStatus(e){return new Promise((t,n)=>{this._cppProtocol.getUserStatus(e,e=>{t({code:Mo.SUCCESS,data:{status:e}})},e=>{t({code:e})})})}sendMessage(e,t,n){let{messageType:r,content:i,pushContent:o,pushData:s,directionalUserIdList:a,disableNotification:c,canIncludeExpansion:u,expansion:l,isVoipPush:h,pushConfig:f,channelId:d}=n,{iOSConfig:p,androidConfig:g,pushTitle:m,pushContent:y,pushData:v,disablePushTitle:_,forceShowDetailContent:E}=f||{};const b=((e={},t={})=>{const{threadId:n,apnsCollapseId:r}=e,{channelIdMi:i,channelIdHW:o,channelIdOPPO:s,typeVivo:a}=t,c={};c["thread-id"]=n||"",c["apns-collapse-id"]=r||"";const u=[{HW:{channelId:o||""}},{MI:{channelId:i||""}},{OPPO:{channelId:s||""}},{VIVO:{classification:a||""}},{APNS:c}];return JSON.stringify(u)})(p,g);return new Promise((n,f)=>{o=y||o||"",s=v||s||"",c=c||!1,l=l||"",h=h||!1,m=m||"",y=y||"",v=v||"",_=_||!1,E=E||!1,u=u||!1;const p=(null==g?void 0:g.notificationId)||"",C=e===kr.GROUP;if(a=[],C&&r===ko.READ_RECEIPT_RESPONSE&&i.receiptMessageDic)for(const e in i.receiptMessageDic)null==a||a.push(e);C&&r===ko.READ_RECEIPT_REQUEST&&(null==a||a.push(this.currentUserId)),this._cppProtocol.sendMessage((e,t)=>{const r=this._buildMessage(e,!1);return t===Mo.SENSITIVE_REPLACE?n({code:t}):n({code:Mo.SUCCESS,data:r})},(e,t)=>{const r=this._buildMessage(e,!1);return n({code:t,data:r})},e,t,r,JSON.stringify(i),a,c,_,E,o,s,p,m,b,"",u,JSON.stringify(l),h,d)})}recallMsg(e,t,n,r,i){return new Promise((o,s)=>{let{user:a,pushContent:c,channelId:u,oriContent:l}=i;c=c||"";const h={conversationType:e,targetId:t,senderUserId:this.currentUserId,content:l,objectName:ko.RECALL,messageUid:n,messageDirection:hs.SEND,status:vr.UNREAD,sentTime:r},f=this._buildMessage(JSON.stringify(h),!1);this._cppProtocol.recallMessage(()=>{o({code:Mo.SUCCESS,data:f})},e=>{o({code:e})},ko.RECALL,JSON.stringify(f),!1,!1,!1,c,"","","","","",u)})}getHistoryMessage(e,t,n,r,i,o){return new Promise((s,a)=>{n=n||0;const c=0===i,u=r+1,l=this._cppProtocol.getHistoryMessages(e,t,n,u,"",c,o),h=JSON.parse(l).list,f=[];h.reverse();for(let e=0;e<h.length;e++){const t=this._buildMessage(h[e].obj);f[e]=t}s({code:Mo.SUCCESS,data:{list:u===f.length?f.slice(1,u):f,hasMore:r<f.length}})})}getRemoteHistoryMessages(e,t,n,r,i,o){return new Promise((i,s)=>{n=n||0,this._cppProtocol.getRemoteHistoryMessages(e,t,n,r,(e,t)=>{const n=JSON.parse(e).list,r=[];n.reverse();for(let i=0;i<n.length;i++){const e=this._buildMessage(n[i].obj);r[i]=e}i({code:Mo.SUCCESS,data:{list:r,hasMore:!!t}})},e=>{i({code:e})},0,!0,o)})}deleteRemoteMessage(e,t,n,r){return new Promise((i,o)=>{const s=JSON.stringify(n);this._cppProtocol.deleteRemoteHistoryMessages(e,t,s,!1,r,()=>{i(Mo.SUCCESS)},i)})}deleteRemoteMessageByTimestamp(e,t,n,r){return new Promise((i,o)=>{this._cppProtocol.clearRemoteHistoryMessages(e,t,n,()=>{i(Mo.SUCCESS)},e=>{i(e)},r)})}clearMessages(e,t,n){return new Promise((r,i)=>{this._cppProtocol.clearMessages(e,t,n),r(Mo.SUCCESS)})}getConversationList(e,t,n,r,i=""){return new Promise((e,t)=>{const n=this._cppProtocol.getConversationList([1,3,6,7],i),r=JSON.parse(n).list,o=[];for(let i=0;i<r.length;i++)o.push(this._buildConversation(r[i].obj));e({code:Mo.SUCCESS,data:o})})}getConversation(e,t,n){return new Promise((r,i)=>{const o=this._cppProtocol.getConversation(e,t,n);r({code:Mo.SUCCESS,data:this._buildConversation(o)})})}removeConversation(e,t,n){return new Promise((r,i)=>{this._cppProtocol.removeConversation(e,t,n),r(Mo.SUCCESS)})}clearConversations(e,t){return new Promise((n,r)=>{let i=[];i=Br(e)?e:[kr.PRIVATE,kr.GROUP,kr.SYSTEM,kr.PUBLIC_SERVICE],this._cppProtocol.clearConversations(i,t),n(Mo.SUCCESS)})}getAllConversationUnreadCount(e){return new Promise((t,n)=>{const r=[kr.PRIVATE,kr.GROUP,kr.SYSTEM,kr.PUBLIC_SERVICE],i=this._cppProtocol.getTotalUnreadCount(r,!0,e);t({code:Mo.SUCCESS,data:i})})}getConversationUnreadCount(e,t,n=""){return new Promise((r,i)=>{const o=this._cppProtocol.getUnreadCount(e,t,n);r({code:Mo.SUCCESS,data:o})})}clearConversationUnreadCount(e,t,n=""){return new Promise((r,i)=>{this._cppProtocol.clearUnreadCount(e,t,n),r(Mo.SUCCESS)})}clearUnreadCountByTimestamp(e,t,n,r){return new Promise((i,o)=>{this._cppProtocol.clearUnreadCountByTimestamp(e,t,n,r),i(Mo.SUCCESS)})}setConversationToTop(e,t,n,r=""){return new Promise((i,o)=>{this._cppProtocol.setConversationToTop(e,t,n,r,!0),i(Mo.SUCCESS)})}setConversationHidden(e,t,n,r){return new Promise((i,o)=>{this._cppProtocol.setConversationHidden(e,t,n,r),i(Mo.SUCCESS)})}setConversationNotificationStatus(e,t,n,r){return new Promise((i,o)=>{this._cppProtocol.setConversationNotificationStatus(e,t,n,()=>{i(Mo.SUCCESS)},i,r)})}setConversationStatus(e,t,n,r,i){return new Promise((o,s)=>{this._cppProtocol.setConversationStatus(e,t,n,r,()=>{o(Mo.SUCCESS)},o,i,!0)})}getConversationNotificationStatus(e,t,n){return new Promise((r,i)=>{const o=this._cppProtocol.getConversationNotificationStatus(e,t,n);r({code:Mo.SUCCESS,data:o?jo.OPEN:jo.CLOSE})})}searchConversationByContent(e,t,n,r){return new Promise((i,o)=>{r=r||[1,3,6,7];const s=this._cppProtocol.searchConversationByContent(r,e,t,n),a=JSON.parse(s).list,c=[];for(let e=0;e<a.length;e++)c[e]=this._buildConversation(a[e].obj);i({code:Mo.SUCCESS,data:c})})}searchMessageByContent(e,t,n,r,i,o,s){return new Promise((o,a)=>{this._cppProtocol.searchMessageByContent(e,t,n,r,i,1,(e,t)=>{const n=e?JSON.parse(e).list:[],r=[];for(let i=0;i<n.length;i++)r[i]=this._buildMessage(n[i].obj);o({code:Mo.SUCCESS,data:{messages:r,count:t}})},s)})}getUnreadMentionedMessages(e,t,n){const r=JSON.parse(this._cppProtocol.getUnreadMentionedMessages(e,t,n)).list;for(let i=0;i<r.length;i++)r[i]=this._buildMessage(r[i].obj);return r}addToBlacklist(e){return new Promise((t,n)=>{this._cppProtocol.addToBlacklist(e,()=>{t(Mo.SUCCESS)},t)})}removeFromBlacklist(e){return new Promise((t,n)=>{this._cppProtocol.removeFromBlacklist(e,()=>{t(Mo.SUCCESS)},t)})}getBlacklist(){return new Promise((e,t)=>{this._cppProtocol.getBlacklist(t=>{e({code:Mo.SUCCESS,data:t})},t=>{e({code:t})})})}getBlacklistStatus(e){return new Promise((t,n)=>{this._cppProtocol.getBlacklistStatus(e,e=>{t({code:Mo.SUCCESS,data:e})},e=>{t({code:e})})})}insertMessage(e,t,n){let{content:r,senderUserId:i,messageType:o,messageDirection:s,readStatus:a,sendStatus:c,sentTime:u,searchContent:l,isUnread:h,messageUId:f,disableNotification:d,canIncludeExpansion:p,expansionMsg:g,channelId:m}=n;return r=JSON.stringify(r),new Promise((n,y)=>{const v=this._cppProtocol.insertMessage(e,t,i,o,r,()=>{},e=>{n({code:e})},s,a,c,u,l,h,f,d,p,g,m),_=this._buildMessage(v,!1);n({code:Mo.SUCCESS,data:_})})}deleteMessages(e){return new Promise((t,n)=>{this._cppProtocol.deleteMessages(e),t(Mo.SUCCESS)})}deleteMessagesByTimestamp(e,t,n,r,i){return new Promise((o,s)=>{this._cppProtocol.deleteMessagesByTimestamp(e,t,n,r,i),o(Mo.SUCCESS)})}getMessage(e){return new Promise((t,n)=>{const r=this._cppProtocol.getMessage(e),i=this._buildMessage(r,!1);t({code:Mo.SUCCESS,data:i})})}setMessageContent(e,t,n){return new Promise((r,i)=>{t=JSON.stringify(t),this._cppProtocol.setMessageContent(e,t,n),r(Mo.SUCCESS)})}setMessageSearchField(e,t,n){return new Promise((r,i)=>{this._cppProtocol.setMessageSearchField(e,t,n),r(Mo.SUCCESS)})}setMessageSentStatus(e,t){return new Promise((n,r)=>{this._cppProtocol.setMessageSentStatus(e,t),n(Mo.SUCCESS)})}setMessageReceivedStatus(e,t){return new Promise((n,r)=>{this._cppProtocol.setMessageReceivedStatus(e,t),n(Mo.SUCCESS)})}saveConversationMessageDraft(e,t,n){throw new Error("Method not implemented.")}getConversationMessageDraft(e,t){throw new Error("Method not implemented.")}clearConversationMessageDraft(e,t){throw new Error("Method not implemented.")}pullConversationStatus(e){throw new Error("Method not implemented.")}batchSetConversationStatus(e){const{conversationType:t,targetId:n,isTop:r,notificationStatus:i,channelId:o}=e[0];if(void 0!==r&&void 0===i)return this.setConversationToTop(t,n,r,o);if(void 0!==i&&void 0===r){const e=i===jo.OPEN;return this.setConversationNotificationStatus(t,n,e,o)}{const e=i===jo.OPEN;return this.setConversationStatus(t,n,e,r,o)}}pullUserSettings(e){throw new Error("Method not implemented.")}joinChatroom(e,t){return new Promise((n,r)=>{this._cppProtocol.joinChatRoom(e,t,()=>{n(Mo.SUCCESS)},n)})}joinExistChatroom(e,t){throw new Error("Method not implemented.")}quitChatroom(e){return new Promise((t,n)=>{this._cppProtocol.quitChatRoom(e,()=>{t(Mo.SUCCESS)},t)})}getChatroomInfo(e,t,n){return new Promise((r,i)=>{this._cppProtocol.getChatroomInfo(e,t,n,(e,t)=>{const n=e?JSON.parse(e).list:[],i=[];if(n.length>0)for(let r=0;r<n.length;r++)i.push(JSON.parse(n[r].obj));r({code:Mo.SUCCESS,data:{userInfos:i,userCount:t}})},e=>{r({code:e})})})}getChatroomHistoryMessages(e,t,n,r){throw new Error("Method not implemented.")}setChatroomEntry(e,t){throw new Error("Method not implemented.")}forceSetChatroomEntry(e,t){throw new Error("Method not implemented.")}removeChatroomEntry(e,t){throw new Error("Method not implemented.")}forceRemoveChatroomEntry(e,t){throw new Error("Method not implemented.")}getChatroomEntry(e,t){throw new Error("Method not implemented.")}getAllChatroomEntry(e){throw new Error("Method not implemented.")}getFileToken(e,t){return new Promise((n,r)=>{const i=fa(e,t);this._cppProtocol.getUploadToken(e,i,(e,t,r,o,s,a,c,u)=>{n({code:Mo.SUCCESS,data:{token:e,deadline:0,bosToken:t,bosDate:r,path:o,osskeyId:s,ossPolicy:a,ossSign:c,ossBucketName:u,fileName:i}})},e=>{n({code:e})})})}getFileUrl(e,t,n,r){return new Promise((n,i)=>{const o=t===ha.ALI,s=(e=>{let t="application/octet-stream";switch(e){case jr.IMAGE:t="image/jpeg";break;case jr.AUDIO:t="audio/amr";break;case jr.VIDEO:t="video/3gpp";break;case jr.SIGHT:t="video/mpeg4";break;case jr.COMBINE_HTML:t="text/html"}return t})(e);this._cppProtocol.getDownloadUrl(e,s,r,o,e=>{n({code:Mo.SUCCESS,data:{downloadUrl:e}})},e=>{n({code:e})})})}clearData(){return new Promise((e,t)=>{const n=this._cppProtocol.clearData();e({code:Mo.SUCCESS,data:n})})}setDeviceInfo(e){return new Promise((t,n)=>{const r=e.id||"";this._cppProtocol.setDeviceId(r)})}getVoIPKey(e,t){return new Promise((n,r)=>{this._cppProtocol.getVoIPKey(e,t,"",e=>{n({code:Mo.SUCCESS,data:e})},e=>{n({code:e})})})}joinRTCRoom(e,t,n){throw new Error("Method not implemented.")}quitRTCRoom(e){throw new Error("Method not implemented.")}rtcPing(e,t,n){throw new Error("Method not implemented.")}getRTCRoomInfo(e){throw new Error("Method not implemented.")}getRTCUserInfoList(e){throw new Error("Method not implemented.")}getRTCUserInfo(e){throw new Error("Method not implemented.")}setRTCUserInfo(e,t,n){throw new Error("Method not implemented.")}removeRTCUserInfo(e,t){throw new Error("Method not implemented.")}setRTCData(e,t,n,r,i,o){throw new Error("Method not implemented.")}setRTCTotalRes(e,t,n,r){throw new Error("Method not implemented.")}getRTCData(e,t,n,r){throw new Error("Method not implemented.")}removeRTCData(e,t,n,r,i){throw new Error("Method not implemented.")}setRTCOutData(e,t,n,r){throw new Error("Method not implemented.")}getRTCOutData(e,t){throw new Error("Method not implemented.")}getRTCToken(e,t,n){throw new Error("Method not implemented.")}setRTCState(e,t){throw new Error("Method not implemented.")}getRTCUserList(e){throw new Error("Method not implemented.")}}class Ca{constructor(e){this._context=e}getCoreVersion(){return this._context.coreVersion}getAPIVersion(){return this._context.apiVersion}getAppkey(){return this._context.appkey}getCurrentId(){return this._context.getCurrentUserId()}getConnectionStatus(){return this._context.getConnectionStatus()}sendMessage(e,t,n){return this._context.sendMessage(e,t,n)}registerMessageType(e,t,n,r=[]){this._context.registerMessageType(e,t,n,r)}}class Sa extends Ca{getNaviInfo(){return this._context.getInfoFromCache()}joinRTCRoom(e,t,n){return this._context.joinRTCRoom(e,t,n)}quitRTCRoom(e){return this._context.quitRTCRoom(e)}rtcPing(e,t,n){return this._context.rtcPing(e,t,n)}getRTCRoomInfo(e){return this._context.getRTCRoomInfo(e)}getRTCUserInfoList(e){return this._context.getRTCUserInfoList(e)}getRTCUserInfo(e){return this._context.getRTCUserInfo(e)}setRTCUserInfo(e,t,n){return this._context.setRTCUserInfo(e,t,n)}removeRTCUserInfo(e,t){return this._context.removeRTCUserInfo(e,t)}setRTCData(e,t,n,r,i,o){return this._context.setRTCData(e,t,n,r,i,o)}setRTCTotalRes(e,t,n,r){return this._context.setRTCTotalRes(e,t,n,r)}getRTCData(e,t,n,r){return this._context.getRTCData(e,t,n,r)}removeRTCData(e,t,n,r,i){return this._context.removeRTCData(e,t,n,r,i)}setRTCOutData(e,t,n,r){return this._context.setRTCOutData(e,t,n,r)}getRTCOutData(e,t){return this._context.getRTCOutData(e,t)}getRTCToken(e,t,n){return this._context.getRTCToken(e,t,n)}setRTCState(e,t){return this._context.setRTCState(e,t)}getRTCUserList(e){return this._context.getRTCUserList(e)}}function Ta(e){return Object.assign({},e)}class Ra{constructor(e,t){this._runtime=e,this._token="",this._pluginContextQueue=[],this.coreVersion="4.2.2",this._connectionStatus=Ls.DISCONNECTED,this._watcher={message:void 0,conversationState:void 0,chatroomState:void 0,connectionState:void 0,rtcInnerWatcher:void 0,expansion:void 0},this._options=Object.assign({},t),this.appkey=this._options.appkey,this.apiVersion=this._options.apiVersion;const{appkey:n,miniCMPProxy:r,apiVersion:i,connectionType:o}=this._options;if("electron"===e.tag&&!this._options.cppProtocol){const e="cppProtocol is required";throw Ar.error(e),new Error(e)}this._options.navigators=this._options.navigators.filter(e=>/^https?:\/\//.test(e)),0===this._options.navigators.length&&this._options.navigators.push(..._r),this._navi=new Ws(e,n,this._options.navigators,r,i,o);const s={status:this._connectionStatusListener.bind(this),message:this._messageReceiver.bind(this),chatroom:this._chatroomInfoListener.bind(this),conversation:this._conversationInfoListener.bind(this),expansion:this._expansionInfoListener.bind(this)};this._engine=this._options.cppProtocol?new ba(e,n,s,i,this._options.cppProtocol,this._options):new pa(e,n,s,i)}static init(e,t){return Ar.debug("APIContext.init =>",t.appkey,t.navigators),this._context?(Ar.error("Repeat initialize!"),this._context):(Ar.warn("VersionCode:","39c5f99d78dfb0b8ad120a2543ae8ad25d6e3282"),this._context=new Ra(e,t),this._context)}static destroy(){this._context&&(this._context._destroy(),this._context=void 0)}install(e,t){const n="RCRTC"===e.tag?new Sa(this):new Ca(this);let r=null;try{if(!e.verify(this._runtime))return null;r=e.setup(n,this._runtime,t)}catch(e){Ar.error("install plugin error!\n",e)}return r&&this._pluginContextQueue.push(n),r}_connectionStatusListener(e){var t;this._connectionStatus=e,(null===(t=this._watcher.rtcInnerWatcher)||void 0===t?void 0:t.status)&&this._watcher.rtcInnerWatcher.status(e),this._pluginContextQueue.forEach(t=>{t.onconnectionstatechange&&t.onconnectionstatechange(e)}),this._watcher.connectionState&&this._watcher.connectionState(e)}_messageReceiver(e){(e.conversationType===kr.RTC_ROOM||Object.prototype.hasOwnProperty.call(va,e.messageType))&&this._watcher.rtcInnerWatcher&&this._watcher.rtcInnerWatcher.message?this._watcher.rtcInnerWatcher.message(Ta(e)):this._pluginContextQueue.some(t=>{if(!t.onmessage)return!1;try{return t.onmessage(Ta(e))}catch(e){return Ar.error("plugin error =>",e),!1}})||this._watcher.message&&this._watcher.message(Ta(e))}_chatroomInfoListener(e){this._watcher.chatroomState&&this._watcher.chatroomState(e)}_conversationInfoListener(e){this._watcher.conversationState&&this._watcher.conversationState(e)}_expansionInfoListener(e){this._watcher.expansion&&this._watcher.expansion(e)}assignWatcher(e){Object.keys(this._watcher).forEach(t=>{if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];this._watcher[t]=Yr(n)||Gr(n)?n:void 0}})}getConnectedTime(){return this._engine.connectedTime}getCurrentUserId(){return this._engine.currentUserId}getConnectionStatus(){return this._connectionStatus}connect(e,t=!1){return li(this,void 0,void 0,(function*(){if(this._connectionStatus===Ls.CONNECTED)return{code:Mo.SUCCESS,userId:this._engine.currentUserId};if(this._connectionStatus===Ls.CONNECTING)return{code:Mo.BIZ_ERROR_CONNECTING};if("string"!=typeof e||0===e.length)return{code:Mo.RC_CONN_USER_OR_PASSWD_ERROR};this._token=e;const[,n]=e.split("@"),r=n?n.split(";").map(e=>/^https?:/.test(e)?e:"https://"+e):[],i=!!this._options.cppProtocol,o=yield this._navi.getInfo(this._getTokenWithoutNavi(),r,t,i);if(!o&&!i)return{code:Mo.RC_NAVI_RESOURCE_ERROR};const s=yield this._engine.connect(this._getTokenWithoutNavi(),o,this._options.connectionType);return s!==Mo.SUCCESS||i||1===o.openUS&&this._pullUserSettings(),{code:s,userId:this._engine.currentUserId}}))}getConnectTime(){return this._engine.getConnectTime()}_pullUserSettings(){return li(this,void 0,void 0,(function*(){}))}disconnect(){return this._engine.disconnect(),this._pluginContextQueue.forEach(e=>{if(e.ondisconnect)try{e.ondisconnect()}catch(e){Ar.error("plugin error =>",e)}}),Promise.resolve()}reconnect(){return this.connect(this._getTokenWithoutNavi())}_getTokenWithoutNavi(){return this._token.replace(/@.+$/,"@")}getInfoFromCache(){return this._navi.getInfoFromCache(this._getTokenWithoutNavi())}registerMessageType(e,t,n,r=[]){this._engine.registerMessageType(e,t,n,r)}sendMessage(e,t,n){return e===kr.SYSTEM?Promise.resolve({code:Mo.BIZ_ERROR_INVALID_PARAMETER}):((e,t="utf-8")=>{let n,r=0;if("utf-16"===t)for(let i=0,o=e.length;i<o;i++)n=e.charCodeAt(i),r+=n<=65535?2:4;else for(let i=0,o=e.length;i<o;i++)n=e.charCodeAt(i),r+=n<127?1:n<=2047?2:n<=65535?3:4;return r})(JSON.stringify(n.content))>131072?Promise.resolve({code:Mo.RC_MSG_CONTENT_EXCEED_LIMIT}):this._engine.sendMessage(e,t,n)}sendExpansionMessage(e){return li(this,void 0,void 0,(function*(){let{conversationType:t,targetId:n,messageUId:r,keys:i,expansion:o,originExpansion:s,removeAll:a,canIncludeExpansion:c}=e;if(!c)return{code:Mo.MESSAGE_KV_NOT_SUPPORT};let u=!1,l=!1;if(Gr(o)){s=s||{};const e=Object.keys(o).length,t=Object.assign(s,o);u=Object.keys(t).length>300||e>20;for(const n in o){const e=o[n];u=n.length>32||e.length>64,l=!/^[A-Za-z0-9_=+-]+$/.test(n)}}if(u)return{code:Mo.EXPANSION_LIMIT_EXCEET};if(l)return{code:Mo.BIZ_ERROR_INVALID_PARAMETER};const h={mid:r};o&&(h.put=o),i&&(h.del=i),a&&(h.removeAll=1);const{code:f}=yield this._engine.sendMessage(t,n,{content:h,messageType:ko.EXPANSION_NOTIFY});return{code:f}}))}_destroy(){this._watcher={},this._engine.disconnect(),this._pluginContextQueue.forEach(e=>{if(e.ondestroy)try{e.ondestroy()}catch(e){Ar.error("plugin error =>",e)}}),this._pluginContextQueue.length=0}getHistoryMessage(e,t,n=0,r=20,i=0,o=""){return this._engine.getHistoryMessage(e,t,n,r,i,o)}getConversationList(e=300,t,n,r,i=""){return this._engine.getConversationList(e,t,n,r,i)}removeConversation(e,t,n=""){return this._engine.removeConversation(e,t,n)}clearUnreadCount(e,t,n=""){return this._engine.clearConversationUnreadCount(e,t,n)}getUnreadCount(e,t,n=""){return this._engine.getConversationUnreadCount(e,t,n)}getTotalUnreadCount(e=""){return this._engine.getAllConversationUnreadCount(e)}setConversationStatus(e,t,n,r,i=""){const o=[{conversationType:e,targetId:t,isTop:n,notificationStatus:r,channelId:i}];return this._engine.batchSetConversationStatus(o)}saveConversationMessageDraft(e,t,n){return this._engine.saveConversationMessageDraft(e,t,n)}getConversationMessageDraft(e,t){return this._engine.getConversationMessageDraft(e,t)}clearConversationMessageDraft(e,t){return this._engine.clearConversationMessageDraft(e,t)}recallMessage(e,t,n,r,i){return this._engine.recallMsg(e,t,n,r,i)}deleteRemoteMessage(e,t,n,r=""){return this._engine.deleteRemoteMessage(e,t,n,r)}deleteRemoteMessageByTimestamp(e,t,n,r=""){return this._engine.deleteRemoteMessageByTimestamp(e,t,n,r)}joinChatroom(e,t=10){return this._engine.joinChatroom(e,t)}joinExistChatroom(e,t=10){return this._engine.joinExistChatroom(e,t)}quitChatroom(e){return this._engine.quitChatroom(e)}getChatroomInfo(e,t=0,n=0){return this._engine.getChatroomInfo(e,t,n)}setChatroomEntry(e,t){return this._engine.setChatroomEntry(e,t)}forceSetChatroomEntry(e,t){return this._engine.forceSetChatroomEntry(e,t)}removeChatroomEntry(e,t){return this._engine.removeChatroomEntry(e,t)}forceRemoveChatroomEntry(e,t){return this._engine.forceRemoveChatroomEntry(e,t)}getChatroomEntry(e,t){return this._engine.getChatroomEntry(e,t)}getAllChatroomEntries(e){return this._engine.getAllChatroomEntry(e)}getChatRoomHistoryMessages(e,t=20,n=0,r=0){return this._engine.getChatroomHistoryMessages(e,r,t,n)}getFileToken(e,t){return li(this,void 0,void 0,(function*(){const n=this.getInfoFromCache(),r=(null==n?void 0:n.bosAddr)||"",i=(null==n?void 0:n.uploadServer)||"",o=(null==n?void 0:n.ossConfig)||"",{code:s,data:a}=yield this._engine.getFileToken(e,t);return s===Mo.SUCCESS?Promise.resolve(Object.assign(a,{bos:r,qiniu:i,ossConfig:o})):Promise.reject(s)}))}getFileUrl(e,t,n,r,i=ha.QINIU){return li(this,void 0,void 0,(function*(){if(null==r?void 0:r.isBosRes)return Promise.resolve(r);const{code:o,data:s}=yield this._engine.getFileUrl(e,i,t,n);return o===Mo.SUCCESS?Promise.resolve(s):Promise.reject(o)}))}clearConversations(e,t){return li(this,void 0,void 0,(function*(){return yield this._engine.clearConversations(e,t)}))}setUserStatusListener(e,t){return this._engine.setUserStatusListener(e,e=>{try{t(e)}catch(e){Ar.error(e)}})}addToBlacklist(e){return li(this,void 0,void 0,(function*(){return this._engine.addToBlacklist(e)}))}removeFromBlacklist(e){return li(this,void 0,void 0,(function*(){return this._engine.removeFromBlacklist(e)}))}getBlacklist(){return li(this,void 0,void 0,(function*(){return this._engine.getBlacklist()}))}getBlacklistStatus(e){return li(this,void 0,void 0,(function*(){return this._engine.getBlacklistStatus(e)}))}insertMessage(e,t,n){return li(this,void 0,void 0,(function*(){return this._engine.insertMessage(e,t,n)}))}deleteMessages(e){return li(this,void 0,void 0,(function*(){return this._engine.deleteMessages(e)}))}deleteMessagesByTimestamp(e,t,n,r,i=""){return li(this,void 0,void 0,(function*(){return this._engine.deleteMessagesByTimestamp(e,t,n,r,i)}))}clearMessages(e,t,n=""){return li(this,void 0,void 0,(function*(){return this._engine.clearMessages(e,t,n)}))}getMessage(e){return li(this,void 0,void 0,(function*(){return this._engine.getMessage(e)}))}setMessageContent(e,t,n){return li(this,void 0,void 0,(function*(){return this._engine.setMessageContent(e,t,n)}))}setMessageSearchField(e,t,n){return li(this,void 0,void 0,(function*(){return this._engine.setMessageSearchField(e,t,n)}))}setMessageSentStatus(e,t){return li(this,void 0,void 0,(function*(){return this._engine.setMessageSentStatus(e,t)}))}setMessageReceivedStatus(e,t){return li(this,void 0,void 0,(function*(){return this._engine.setMessageReceivedStatus(e,t)}))}setUserStatus(e){return li(this,void 0,void 0,(function*(){return this._engine.setUserStatus(e)}))}subscribeUserStatus(e){return li(this,void 0,void 0,(function*(){return this._engine.subscribeUserStatus(e)}))}getUserStatus(e){return li(this,void 0,void 0,(function*(){return this._engine.getUserStatus(e)}))}searchConversationByContent(e,t=[],n="",r){return li(this,void 0,void 0,(function*(){return this._engine.searchConversationByContent(e,t,n,r)}))}searchMessageByContent(e,t,n,r,i,o,s=""){return li(this,void 0,void 0,(function*(){return this._engine.searchMessageByContent(e,t,n,r,i,o,s)}))}getUnreadMentionedMessages(e,t,n=""){return this._engine.getUnreadMentionedMessages(e,t,n)}clearUnreadCountByTimestamp(e,t,n,r=""){return this._engine.clearUnreadCountByTimestamp(e,t,n,r)}getConversationNotificationStatus(e,t,n=""){return this._engine.getConversationNotificationStatus(e,t,n)}getRemoteHistoryMessages(e,t,n,r,i,o){return this._engine.getRemoteHistoryMessages(e,t,n,r,i,o)}joinRTCRoom(e,t,n){return this._engine.joinRTCRoom(e,t,n)}quitRTCRoom(e){return this._engine.quitRTCRoom(e)}rtcPing(e,t,n){return this._engine.rtcPing(e,t,n)}getRTCRoomInfo(e){return this._engine.getRTCRoomInfo(e)}getRTCUserInfoList(e){return this._engine.getRTCUserInfoList(e)}getRTCUserInfo(e){return this._engine.getRTCUserInfo(e)}setRTCUserInfo(e,t,n){return this._engine.setRTCUserInfo(e,t,n)}removeRTCUserInfo(e,t){return this._engine.removeRTCUserInfo(e,t)}setRTCData(e,t,n,r,i,o){return this._engine.setRTCData(e,t,n,r,i,o)}setRTCTotalRes(e,t,n,r){return this._engine.setRTCTotalRes(e,t,n,r)}getRTCData(e,t,n,r){return this._engine.getRTCData(e,t,n,r)}removeRTCData(e,t,n,r,i){return this._engine.removeRTCData(e,t,n,r,i)}setRTCOutData(e,t,n,r){return this._engine.setRTCOutData(e,t,n,r)}getRTCOutData(e,t){return this._engine.getRTCOutData(e,t)}getRTCToken(e,t,n){return this._engine.getRTCToken(e,t,n)}setRTCState(e,t){return this._engine.setRTCState(e,t)}getRTCUserList(e){return this._engine.getRTCUserList(e)}}var wa=new Pr("RCIM");wa.set(Mr.WARN);var Ia={TIMEOUT:{code:-1,msg:"Network timeout"},SDK_INTERNAL_ERROR:{code:-2,msg:"SDK internal error"},PARAMETER_ERROR:{code:-3,msg:"Please check the parameters, the {param} expected a value of {expect} but received {current}"},REJECTED_BY_BLACKLIST:{code:405,msg:"Blacklisted by the other party"},SEND_TOO_FAST:{code:20604,msg:"Sending messages too quickly"},NOT_IN_GROUP:{code:22406,msg:"Not in group"},FORBIDDEN_IN_GROUP:{code:22408,msg:"Forbbiden from speaking in the group"},NOT_IN_CHATROOM:{code:23406,msg:"Not in chatRoom"},FORBIDDEN_IN_CHATROOM:{code:23408,msg:"Forbbiden from speaking in the chatRoom"},KICKED_FROM_CHATROOM:{code:23409,msg:"Kicked out and forbbiden from joining the chatRoom"},CHATROOM_NOT_EXIST:{code:23410,msg:"ChatRoom does not exist"},CHATROOM_IS_FULL:{code:23411,msg:"ChatRoom members exceeded"},PARAMETER_INVALID_CHATROOM:{code:23412,msg:"Invalid chatRoom parameters"},ROAMING_SERVICE_UNAVAILABLE_CHATROOM:{code:23414,msg:"ChatRoom message roaming service is not open, Please go to the developer to open this service"},RECALLMESSAGE_PARAMETER_INVALID:{code:25101,msg:"Invalid recall message parameter"},ROAMING_SERVICE_UNAVAILABLE_MESSAGE:{code:25102,msg:"Single group chat roaming service is not open, Please go to the developer to open this service"},PUSHSETTING_PARAMETER_INVALID:{code:26001,msg:"Invalid push parameter"},OPERATION_BLOCKED:{code:20605,msg:"Operation is blocked"},OPERATION_NOT_SUPPORT:{code:20606,msg:"Operation is not supported"},MSG_BLOCKED_SENSITIVE_WORD:{code:21501,msg:"The sent message contains sensitive words"},REPLACED_SENSITIVE_WORD:{code:21502,msg:"Sensitive words in the message have been replaced"},NOT_CONNECTED:{code:30001,msg:"Please connect successfully first"},NAVI_REQUEST_ERROR:{code:30007,msg:"Navigation http request failed"},CMP_REQUEST_ERROR:{code:30010,msg:"CMP sniff http request failed"},CONN_APPKEY_FAKE:{code:31002,msg:"Your appkey is fake"},CONN_MINI_SERVICE_NOT_OPEN:{code:31003,msg:"Mini program service is not open, Please go to the developer to open this service"},CONN_ACK_TIMEOUT:{code:31e3,msg:"Connection ACK timeout"},CONN_TOKEN_INCORRECT:{code:31004,msg:"Your token is not valid or expired"},CONN_NOT_AUTHRORIZED:{code:31005,msg:"AppKey and Token do not match"},CONN_REDIRECTED:{code:31006,msg:"Connection redirection"},CONN_APP_BLOCKED_OR_DELETED:{code:31008,msg:"AppKey is banned or deleted"},CONN_USER_BLOCKED:{code:31009,msg:"User blocked"},CONN_DOMAIN_INCORRECT:{code:31012,msg:"Connect domain error, Please check the set security domain"},ROAMING_SERVICE_UNAVAILABLE:{code:33007,msg:"Roaming service cloud is not open, Please go to the developer to open this service"},RC_CONNECTION_EXIST:{code:34001,msg:"Connection already exists"},CHATROOM_KV_EXCEED:{code:23423,msg:"ChatRoom KV setting exceeds maximum"},CHATROOM_KV_OVERWRITE_INVALID:{code:23424,msg:"ChatRoom KV already exists"},CHATROOM_KV_STORE_NOT_OPEN:{code:23426,msg:"ChatRoom KV storage service is not open, Please go to the developer to open this service"},CHATROOM_KEY_NOT_EXIST:{code:23427,msg:"ChatRoom key does not exist"},MSG_KV_NOT_SUPPORT:{code:34008,msg:"The message cannot be extended"},SEND_MESSAGE_KV_FAIL:{code:34009,msg:"Sending RC expansion message fail"},EXPANSION_LIMIT_EXCEET:{code:34010,msg:"The message expansion size is beyond the limit"},ILLGAL_PARAMS:{code:33003,msg:"Incorrect parameters passed in while calling the interface"}},Oa={};for(var Na in Ia){var Ma=Ia[Na].code;Oa[Ma]=Na}var xa={TEXT:"RC:TxtMsg",VOICE:"RC:VcMsg",HQ_VOICE:"RC:HQVCMsg",IMAGE:"RC:ImgMsg",GIF:"RC:GIFMsg",RICH_CONTENT:"RC:ImgTextMsg",LOCATION:"RC:LBSMsg",FILE:"RC:FileMsg",SIGHT:"RC:SightMsg",COMBINE:"RC:CombineMsg",CHRM_KV_NOTIFY:"RC:chrmKVNotiMsg",LOG_COMMAND:"RC:LogCmdMsg",EXPANSION_NOTIFY:"RC:MsgExMsg",REFERENCE:"RC:ReferenceMsg"};function Pa(e){var t=e.conversationType,n=e.messageType,r=e.content,i=e.senderUserId,o=e.targetId,s=e.sentTime,a=e.receivedTime,c=e.messageUId,u=e.messageDirection,l=e.isPersited,h=e.isCounted,f=e.isOffLineMessage,d=e.canIncludeExpansion,p=e.expansion,g=e.receivedStatus,m=e.disableNotification,y=e.isMentioned,v=e.isStatusMessage;return g||(g=vr.UNREAD),{messageType:n,content:r,senderUserId:i,targetId:o,type:t,sentTime:s,receivedTime:a,messageUId:c,messageDirection:u,isPersited:l,isCounted:h,isOffLineMessage:f,isMentioned:y,disableNotification:m,isStatusMessage:v,canIncludeExpansion:d,expansion:p,receivedStatus:g}}function Aa(e){ti("options.messageType",e.messageType,Zr.STRING,!0),ti("options.content",e.content,(function(e){return Gr(e)}),!0),ti("options.isPersited",e.isPersited,Zr.BOOLEAN),ti("options.isCounted",e.isCounted,Zr.BOOLEAN),ti("options.pushContent",e.pushContent,Zr.STRING),ti("options.pushData",e.pushData,Zr.STRING),ti("options.isVoipPush",e.isVoipPush,Zr.BOOLEAN),ti("options.isStatusMessage",e.isStatusMessage,Zr.BOOLEAN),ti("options.isMentioned",e.isMentioned,Zr.BOOLEAN),ti("options.mentionedType",e.mentionedType,Zr.NUMBER),ti("options.mentionedUserIdList",e.mentionedUserIdList,(function(e){return Br(e)&&(0===e.length||e.every(Dr))})),ti("options.directionalUserIdList",e.directionalUserIdList,(function(e){return Br(e)&&(0===e.length||e.every(Dr))})),Hr(e.isPersited)&&Hr(e.isCounted)&&Hr(e.isStatusMessage)||wa.warn("The parameters `isPersited`, `isCounted`, `isStatusMessage` will be deprecated in future releases due to inconsistance of the values on mobile side and web side. Please use `registerMessageType` instead for non-integrated message type.")}var Ua={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var La in Ua){var ka=a[La],ja=ka&&ka.prototype;if(ja&&ja.forEach!==st)try{U(ja,"forEach",st)}catch(i){ja.forEach=st}}var Da=function(e,t,n){var r=C(t);r in e?A.f(e,r,d(0,n)):e[r]=n},Va=Ge("isConcatSpreadable"),Ba=dt>=51||!c((function(){var e=[];return e[Va]=!1,e.concat()[0]!==e})),Fa=gt("concat"),qa=function(e){if(!b(e))return!1;var t=e[Va];return void 0!==t?!!t:je(e)};Ae({target:"Array",proto:!0,forced:!Ba||!Fa},{concat:function(e){var t,n,r,i,o,s=ke(this),a=He(s,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(qa(o=-1===t?s:arguments[t])){if(c+(i=fe(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in o&&Da(a,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Da(a,c++,o)}return a.length=c,a}});var Ga,Ya=function(e,t){if(!e)return[];var n=Ha(e),r=Ka(n.topConversationList,t),i=Ka(n.unToppedConversationList,t);return r.push.apply(r,i),r},Ha=function(e){var t=[],n=[];return ri(e,(function(e){var r=e.hasMentioned,i=e.mentionedInfo;e.hasMentioned=r,e.mentionedInfo=i,e.isTop?t.push(e):n.push(e)})),{topConversationList:t||[],unToppedConversationList:n||[]}},$a=function(e){return e.type+"_"+e.targetId},Ka=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return za(e,(function(e,n){n=n||{};var r=(e=e||{}).latestMessage||{},i=n.latestMessage||{},o=r.sentTime||0,s=i.sentTime||0;return t?s>=o:s<=o}))},Wa=function(e){var t=e=e||{},n=t.targetId,r=t.type,i=kr.PRIVATE,o={messageType:ko.TextMessage,sentTime:ui.getTime(),content:{content:""},senderUserId:n,targetId:n,type:r};return e.type=r||i,e.targetId=n||"",e.latestMessage=e.latestMessage||o,e},za=function(e,t){return function e(t,n,r,i){if(i=i||function(e,t){return e<=t},n<r){for(var o,s=t[r],a=n-1,c=n;c<=r;c++)i(t[c],s)&&(o=t[++a],t[a]=t[c],t[c]=o);e(t,n,a-1,i),e(t,a+1,r,i)}return t}(e,0,e.length-1,t)},Qa=function(e){return!e.type||!e.targetId||!Gr(e.latestMessage)||Hr(e.unreadMessageCount)},Ja=function(e,t,n){var r=(n=n||{}).isAllowNull;for(var i in e=e||{},t=t||{}){var o=t[i];Hr(o)&&!r||(e[i]=o)}return e},Za=function(){function e(t,n){lr(this,e),this._context=t,this.targetId=n.targetId,this.type=n.type}var t,n,r,i,o,s,a,c,u,l,h,f,d,p;return fr(e,[{key:"destory",value:(p=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.removeConversation(this.type,this.targetId);case 2:if((t=e.sent)===Mo.SUCCESS){e.next=5;break}return e.abrupt("return",Promise.reject({code:t,msg:Oa[t]}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"read",value:(d=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.clearUnreadCount(this.type,this.targetId);case 2:if((t=e.sent)===Mo.SUCCESS){e.next=5;break}return e.abrupt("return",Promise.reject({code:t,msg:Oa[t]}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getUnreadCount",value:(f=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getUnreadCount(this.type,this.targetId);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"send",value:(h=ur(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa(t),Object.prototype.hasOwnProperty.call(t,"isPersited")||(t.isPersited=!0),Object.prototype.hasOwnProperty.call(t,"isCounted")||(t.isCounted=!0),e.next=5,this._context.sendMessage(this.type,this.targetId,t);case 5:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS){e.next=10;break}return e.abrupt("return",Pa(i));case 10:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"setStatus",value:(l=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.notificationStatus",t.notificationStatus,(function(e){return 1===e||2===e})),ti("options.isTop",t.isTop,Zr.BOOLEAN),e.next=4,this._context.setConversationStatus(this.type,this.targetId,t.isTop,t.notificationStatus);case 4:if((n=e.sent)===Mo.SUCCESS){e.next=7;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getMessages",value:(u=ur(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.timestamp",t.timestamp,Zr.NUMBER),ti("options.count",t.count,Zr.NUMBER),ti("options.order",t.order,(function(e){return 0===e||1===e})),e.next=5,this._context.getHistoryMessage(this.type,this.targetId,null==t?void 0:t.timestamp,null==t?void 0:t.count,null==t?void 0:t.order);case 5:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS||!i){e.next=11;break}return o=i.list.map((function(e){return Pa(e)})),e.abrupt("return",Promise.resolve({list:o,hasMore:i.hasMore}));case 11:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"recall",value:(c=ur(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.messageUId",t.messageUId,Zr.STRING,!0),ti("options.sentTime",t.sentTime,Zr.NUMBER,!0),n={user:t.user,channelId:""},e.next=5,this._context.recallMessage(this.type,this.targetId,t.messageUId,t.sentTime,n);case 5:if(r=e.sent,i=r.code,o=r.data,i!==Mo.SUCCESS||!o){e.next=10;break}return e.abrupt("return",Pa(o));case 10:return e.abrupt("return",Promise.reject({code:i,msg:Oa[i]}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"deleteMessages",value:(a=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options",t,(function(e){return Br(e)&&e.length}),!0),t.forEach((function(e){ti("options.messageUId",e.messageUId,Zr.STRING,!0),ti("options.sentTime",e.sentTime,Zr.NUMBER,!0),ti("options.messageDirection",e.messageDirection,(function(e){return 1===e||2===e}),!0)})),e.next=4,this._context.deleteRemoteMessage(this.type,this.targetId,t);case 4:if((n=e.sent)===Mo.SUCCESS){e.next=7;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"clearMessages",value:(s=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.timestamp",t.timestamp,Zr.NUMBER,!0),e.next=3,this._context.deleteRemoteMessageByTimestamp(this.type,this.targetId,t.timestamp);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateMessageExpansion",value:(o=ur(regeneratorRuntime.mark((function e(t,n){var r,i,o,s,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("expansion",t,Zr.OBJECT,!0),ti("message",n,Zr.OBJECT,!0),r=n.type,i=n.targetId,o=n.messageUId,s=n.canIncludeExpansion,a=n.expansion,e.next=5,this._context.sendExpansionMessage({conversationType:r,targetId:i,messageUId:o,expansion:t,canIncludeExpansion:s,originExpansion:a});case 5:if(c=e.sent,(u=c.code)===Mo.SUCCESS){e.next=9;break}return e.abrupt("return",Promise.reject({code:u,msg:Oa[u]}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"removeMessageExpansion",value:(i=ur(regeneratorRuntime.mark((function e(t,n){var r,i,o,s,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("keys",t,Zr.ARRAY,!0),ti("message",n,Zr.OBJECT,!0),r=n.conversationType,i=n.targetId,o=n.messageUId,s=n.canIncludeExpansion,e.next=5,this._context.sendExpansionMessage({conversationType:r,targetId:i,messageUId:o,canIncludeExpansion:s,keys:t});case 5:if(a=e.sent,(c=a.code)===Mo.SUCCESS){e.next=9;break}return e.abrupt("return",Promise.reject({code:c,msg:Oa[c]}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"setDraft",value:(r=ur(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("draft",t,Zr.STRING,!0),e.next=3,this._context.saveConversationMessageDraft(this.type,this.targetId,t);case 3:if(e.sent!==Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getDraft",value:(n=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getConversationMessageDraft(this.type,this.targetId);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",Promise.resolve(r));case 7:return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"deleteDraft",value:(t=ur(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.clearConversationMessageDraft(this.type,this.targetId);case 2:if(e.sent!==Mo.SUCCESS){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Xa=function(){function e(t){lr(this,e),this._context=t}var t,n;return fr(e,[{key:"getList",value:(n=ur(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getConversationList(null==t?void 0:t.count,void 0,null==t?void 0:t.startTime,null==t?void 0:t.order);case 2:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS||!i){e.next=8;break}return o=i.map((function(e){return n=(t=e).conversationType,r=t.targetId,i=t.latestMessage,o=t.unreadMessageCount,s=t.hasMentioned,a=t.mentionedInfo,c=t.lastUnreadTime,u=t.notificationStatus,l=t.isTop,{type:n,targetId:r,latestMessage:i&&Pa(i),unreadMessageCount:o,hasMentioned:s,mentionedInfo:s?{type:null==a?void 0:a.type,userIdList:null==a?void 0:a.userIdList}:void 0,lastUnreadTime:c,notificationStatus:u,isTop:l};var t,n,r,i,o,s,a,c,u,l})),e.abrupt("return",Ya(o));case 8:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"get",value:function(e){return ti("options.type",e.type,zr,!0),new Za(this._context,e)}},{key:"remove",value:function(e){return ti("options.type",e.type,zr,!0),new Za(this._context,e).destory()}},{key:"getTotalUnreadCount",value:(t=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getTotalUnreadCount();case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"merge",value:function(e){return!e.conversationList&&wa.warn("Parameter option.conversationList are required!"),function(e){var t=e=e||{},n=t.conversationList,r=t.updatedConversationList;n=n||[];var i=[].concat(mr(r=r||[]),mr(n)),o={},s=[],a=[];return ri(i,(function(e){if(Gr(e)){var t=e,n=t.type,r=t.targetId,i=$a({type:n,targetId:r}),c=o[i]||{},u=Hr(c.index)?s.length:c.index,l=c.val||{},h=l.updatedItems||{},f=e.updatedItems;e=Ja(e,l),ri(h,(function(t,n){e[n]=t.val})),ri(f,(function(t,n){var r=(h[n]||{}).time||0;t.time>r&&(e[n]=t.val)})),o[i]={index:u,val:e},s[u]=e,Qa(e)&&a.push(u)}})),ri(a,(function(e){var t=s[e];s[e]=Wa(t)})),s=Ya(s),ii(s,(function(e){return delete e.updatedItems,e}))}(e)}}]),e}(),ec=Object.keys||function(e){return ve(e,_e)},tc=u?Object.defineProperties:function(e,t){x(e);for(var n,r=ec(t),i=r.length,o=0;i>o;)A.f(e,n=r[o++],t[n]);return e},nc=z("IE_PROTO"),rc=function(){},ic=function(e){return"<script>"+e+"<\/script>"},oc=function(){try{Ga=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;oc=Ga?function(e){e.write(ic("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ga):((t=I("iframe")).style.display="none",Ht.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ic("document.F=Object")),e.close(),e.F);for(var n=_e.length;n--;)delete oc.prototype[_e[n]];return oc()};Q[nc]=!0;var sc=Object.create||function(e,t){var n;return null!==e?(rc.prototype=x(e),n=new rc,rc.prototype=null,n[nc]=e):n=oc(),void 0===t?n:tc(n,t)},ac=Ge("unscopables"),cc=Array.prototype;null==cc[ac]&&A.f(cc,ac,{configurable:!0,value:sc(null)});var uc=function(e){cc[ac][e]=!0},lc=me.includes,hc=Xe("indexOf",{ACCESSORS:!0,1:0});Ae({target:"Array",proto:!0,forced:!hc},{includes:function(e){return lc(this,e,arguments.length>1?arguments[1]:void 0)}}),uc("includes");var fc,dc,pc,gc=function(e){ti("options.key",e.key,Zr.STRING,!0),ti("options.value",e.value,Zr.STRING,!0),ti("options.isAutoDelete",e.isAutoDelete,Zr.BOOLEAN),ti("options.isSendNotification",e.isSendNotification,Zr.BOOLEAN),ti("options.notificationExtra",e.notificationExtra,Zr.STRING)},mc=function(e){ti("options.key",e.key,Zr.STRING,!0),ti("options.isSendNotification",e.isSendNotification,Zr.BOOLEAN),ti("options.notificationExtra",e.notificationExtra,Zr.STRING)},yc=function(){function e(t,n){lr(this,e),this._context=t,this._id=n}var t,n,r,i,o,s,a,c,u,l,h,f,d;return fr(e,[{key:"join",value:(d=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.count",t.count,Zr.NUMBER,!0),e.next=3,this._context.joinChatroom(this._id,t.count);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"joinExist",value:(f=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.count",t.count,Zr.NUMBER,!0),e.next=3,this._context.joinExistChatroom(this._id,t.count);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"quit",value:(h=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.quitChatroom(this._id);case 2:if((t=e.sent)===Mo.SUCCESS){e.next=5;break}return e.abrupt("return",Promise.reject({code:t,msg:Oa[t]}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getInfo",value:(l=ur(regeneratorRuntime.mark((function e(){var t,n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},ti("options.count",t.count,Zr.NUMBER),ti("options.order",t.order,(function(e){return[0,1,2].includes(e)})),e.next=5,this._context.getChatroomInfo(this._id,t.count,t.order);case 5:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS||!i){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setEntry",value:(u=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gc(t),e.next=3,this._context.setChatroomEntry(this._id,t);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"forceSetEntry",value:(c=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gc(t),e.next=3,this._context.forceSetChatroomEntry(this._id,t);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"removeEntry",value:(a=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mc(t),e.next=3,this._context.removeChatroomEntry(this._id,t);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"forceRemoveEntry",value:(s=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mc(t),e.next=3,this._context.forceRemoveChatroomEntry(this._id,t);case 3:if((n=e.sent)===Mo.SUCCESS){e.next=6;break}return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getEntry",value:(o=ur(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("key",t,(function(e){return Dr(e)&&/[\w+=-]+/.test(e)&&e.length<=128}),!0),e.next=3,this._context.getChatroomEntry(this._id,t);case 3:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS||!i){e.next=8;break}return e.abrupt("return",i);case 8:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getAllEntries",value:(i=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getAllChatroomEntries(this._id);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS||!r){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject({code:n,msg:Oa[n]}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"send",value:(r=ur(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa(t),Object.prototype.hasOwnProperty.call(t,"isPersited")||(t.isPersited=!0),Object.prototype.hasOwnProperty.call(t,"isCounted")||(t.isCounted=!0),e.next=5,this._context.sendMessage(kr.CHATROOM,this._id,t);case 5:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS){e.next=10;break}return e.abrupt("return",Pa(i));case 10:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getMessages",value:(n=ur(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.timestamp",t.timestamp,Zr.NUMBER),ti("options.count",t.count,Zr.NUMBER),ti("options.order",t.order,(function(e){return 0===e||1===e})),e.next=5,this._context.getChatRoomHistoryMessages(this._id,t.count,t.order,t.timestamp);case 5:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS||!i){e.next=11;break}return o=i.list.map((function(e){return Pa(e)})),e.abrupt("return",{list:o,hasMore:i.hasMore});case 11:return e.abrupt("return",Promise.reject({code:r,msg:Oa[r]}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"recall",value:(t=ur(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.messageUId",t.messageUId,Zr.STRING,!0),ti("options.sentTime",t.sentTime,Zr.NUMBER,!0),n=kr.CHATROOM,e.next=5,this._context.recallMessage(n,this._id,t.messageUId,t.sentTime,{channelId:"",user:t.user});case 5:if(r=e.sent,i=r.code,o=r.data,i!==Mo.SUCCESS||!o){e.next=10;break}return e.abrupt("return",Pa(o));case 10:return e.abrupt("return",Promise.reject({code:i,msg:Oa[i]}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),vc=function(){function e(t){lr(this,e),this._context=t}return fr(e,[{key:"get",value:function(e){return ti("option.id",e.id,qr,!0),new yc(this._context,e.id)}}]),e}(),_c=!c((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Ec=z("IE_PROTO"),bc=Object.prototype,Cc=_c?Object.getPrototypeOf:function(e){return e=ke(e),T(e,Ec)?e[Ec]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?bc:null},Sc=Ge("iterator"),Tc=!1;[].keys&&("next"in(pc=[].keys())?(dc=Cc(Cc(pc)))!==Object.prototype&&(fc=dc):Tc=!0),null==fc&&(fc={}),T(fc,Sc)||U(fc,Sc,(function(){return this}));var Rc={IteratorPrototype:fc,BUGGY_SAFARI_ITERATORS:Tc},wc=Rc.IteratorPrototype,Ic=function(){return this},Oc=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return x(n),function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Nc=Rc.IteratorPrototype,Mc=Rc.BUGGY_SAFARI_ITERATORS,xc=Ge("iterator"),Pc=function(){return this},Ac=re.set,Uc=re.getterFor("Array Iterator"),Lc=function(e,t,n,r,i,o,s){!function(e,t,n){var r=t+" Iterator";e.prototype=sc(wc,{next:d(1,n)}),Ot(e,r,!1),Mt[r]=Ic}(n,t,r);var a,c,u,l=function(e){if(e===i&&m)return m;if(!Mc&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,p=e.prototype,g=p[xc]||p["@@iterator"]||i&&p[i],m=!Mc&&g||l(i),y="Array"==t&&p.entries||g;if(y&&(a=Cc(y.call(new e)),Nc!==Object.prototype&&a.next&&(Cc(a)!==Nc&&(Oc?Oc(a,Nc):"function"!=typeof a[xc]&&U(a,xc,Pc)),Ot(a,h,!0))),"values"==i&&g&&"values"!==g.name&&(f=!0,m=function(){return g.call(this)}),p[xc]!==m&&U(p,xc,m),Mt[t]=m,i)if(c={values:l("values"),keys:o?m:l("keys"),entries:l("entries")},s)for(u in c)(Mc||f||!(u in p))&&ie(p,u,c[u]);else Ae({target:t,proto:!0,forced:Mc||f},c);return c}(Array,"Array",(function(e,t){Ac(this,{type:"Array Iterator",target:E(e),index:0,kind:t})}),(function(){var e=Uc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Mt.Arguments=Mt.Array,uc("keys"),uc("values"),uc("entries");var kc=Ge("iterator"),jc=Ge("toStringTag"),Dc=Lc.values;for(var Vc in Ua){var Bc=a[Vc],Fc=Bc&&Bc.prototype;if(Fc){if(Fc[kc]!==Dc)try{U(Fc,kc,Dc)}catch(i){Fc[kc]=Dc}if(Fc[jc]||U(Fc,jc,Vc),Ua[Vc])for(var qc in Lc)if(Fc[qc]!==Lc[qc])try{U(Fc,qc,Lc[qc])}catch(i){Fc[qc]=Lc[qc]}}}var Gc=function(){function e(t,n){lr(this,e),this._options=t,this._context=n,this._roomId=t.id}var t,n,r,i,o,s,a,c,u,l,h,f,d,p,g;return fr(e,[{key:"join",value:(g=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.joinRTCRoom(this._roomId,this._options.mode,this._options.broadcastType);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"quit",value:(p=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.quitRTCRoom(this._roomId);case 2:return t=e.sent,e.abrupt("return",t===Mo.SUCCESS?t:Promise.reject(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getRoomInfo",value:(d=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getRTCRoomInfo(this._roomId);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setUserInfo",value:(f=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.setRTCUserInfo(this._roomId,t.key,t.value);case 2:return n=e.sent,e.abrupt("return",n===Mo.SUCCESS?n:Promise.reject(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"removeUserInfo",value:(h=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.removeRTCUserInfo(this._roomId,t.keys);case 2:return n=e.sent,e.abrupt("return",n===Mo.SUCCESS?n:Promise.reject(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"setData",value:(l=ur(regeneratorRuntime.mark((function e(t,n,r,i,o){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.setRTCData(this._roomId,t,n,r,i,o);case 2:return s=e.sent,e.abrupt("return",s===Mo.SUCCESS?s:Promise.reject(s));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i){return l.apply(this,arguments)})},{key:"setUserData",value:function(e,t,n,r){return this.setData(e,t,n,_a.PERSON,r)}},{key:"setRTCUserData",value:(u=ur(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.setRTCTotalRes(this._roomId,t,n,r);case 2:return i=e.sent,e.abrupt("return",i===Mo.SUCCESS?i:Promise.reject(i));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"getData",value:(c=ur(regeneratorRuntime.mark((function e(t,n,r){var i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getRTCData(this._roomId,t,n,r);case 2:return i=e.sent,o=i.code,s=i.data,e.abrupt("return",o===Mo.SUCCESS?s:Promise.reject(o));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"getUserData",value:function(e,t){return this.getData(e,t,_a.PERSON)}},{key:"removeData",value:(a=ur(regeneratorRuntime.mark((function e(t,n,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.removeRTCData(this._roomId,t,n,r,i);case 2:return o=e.sent,e.abrupt("return",o===Mo.SUCCESS?o:Promise.reject(o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"removeUserData",value:function(e,t,n){return this.removeData(e,t,_a.PERSON,n)}},{key:"setRoomData",value:function(e,t,n,r){return this.setData(e,t,n,_a.ROOM,r)}},{key:"getRoomData",value:function(e,t){return this.getData(e,t,_a.ROOM)}},{key:"removeRoomData",value:function(e,t,n){return this.removeData(e,t,_a.ROOM,n)}},{key:"setState",value:(s=ur(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.setRTCState(this._roomId,t.report);case 2:return n=e.sent,e.abrupt("return",n===Mo.SUCCESS?n:Promise.reject(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getUserList",value:(o=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getRTCUserInfoList(this._roomId);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getUserInfoList",value:(i=ur(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getRTCUserInfoList(this._roomId);case 2:if(t=e.sent,n=t.code,r=t.data,n!==Mo.SUCCESS){e.next=8;break}return i=null==r?void 0:r.users,e.abrupt("return",i);case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getToken",value:(r=ur(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.getRTCToken(this._roomId,this._options.mode,this._options.broadcastType);case 2:if(t=e.sent,n=t.data,(r=t.code)!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"ping",value:(n=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.rtcPing(this._roomId,this._options.mode,this._options.broadcastType);case 2:return t=e.sent,e.abrupt("return",t===Mo.SUCCESS?t:Promise.reject(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"send",value:(t=ur(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.sendMessage(kr.RTC_ROOM,this._roomId,{content:gr({},t.content),messageType:t.messageType});case 2:if(n=e.sent,r=n.code,i=n.data,r!==Mo.SUCCESS){e.next=7;break}return e.abrupt("return",i);case 7:return e.abrupt("return",Promise.reject(r));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Yc=function(){var e=x(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Hc=RegExp.prototype,$c=Hc.toString,Kc=c((function(){return"/a/b"!=$c.call({source:"a",flags:"b"})})),Wc="toString"!=$c.name;(Kc||Wc)&&ie(RegExp.prototype,"toString",(function(){var e=x(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Hc)?Yc.call(e):n)}),{unsafe:!0});var zc=[].slice,Qc=/MSIE .\./.test(ut),Jc=function(e){return function(t,n){var r=arguments.length>2,i=r?zc.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};Ae({global:!0,bind:!0,forced:Qc},{setTimeout:Jc(a.setTimeout),setInterval:Jc(a.setInterval)});var Zc,Xc,eu,tu=function(){return!("undefined"==typeof uni||!function(e){for(var t=["canIUse","getSystemInfo"],n=0,r=t.length;n<r;n++)if(!e[t[n]])return!1;return!0}(uni))},nu=tu(),ru={tag:"browser",httpReq:function(e){var t=e.method||Gs.GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Or(e.url,i);return new Promise((function(e){var i,a=(i="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,"undefined"!=typeof XMLHttpRequest&&i?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP")),c="[object XDomainRequest]"===Object.prototype.toString.call(a);if(a.open(t,s),r&&a.setRequestHeader)for(var u in r)a.setRequestHeader(u,r[u]);if(c){a.timeout=n,a.onload=function(){e({data:a.responseText,status:a.status||200})},a.onerror=function(){e({status:a.status||0})},a.ontimeout=function(){e({status:a.status||0})};var l="object"===ar(o)?JSON.stringify(o):o;a.send(l)}else a.onreadystatechange=function(){4===a.readyState&&e({data:a.responseText,status:a.status})},a.onerror=function(){e({status:a.status||0})},setTimeout((function(){return e({status:a.status||0})}),n),a.send(o)}))},localStorage:null===(Zc=window)||void 0===Zc?void 0:Zc.localStorage,sessionStorage:null===(Xc=window)||void 0===Xc?void 0:Xc.sessionStorage,isSupportSocket:function(){var e="undefined"!=typeof WebSocket;return e||wa.warn("websocket not support"),e},useNavi:!0,connectPlatform:"",isFromUniapp:nu,createWebSocket:function(e,t){var n=new WebSocket(e,t);return n.binaryType="arraybuffer",{onClose:function(e){n.onclose=function(t){var n=t.code,r=t.reason;e(n,r)}},onError:function(e){n.onerror=e},onMessage:function(e){n.onmessage=function(t){e(t.data)}},onOpen:function(e){n.onopen=e},send:function(e){n.send(e)},close:function(e,t){n.close(e,t)}}},createDataChannel:function(e,t){return this.isSupportSocket()&&"websocket"===t?new qs(this,e):new Ys(this,e)}},iu=tu(),ou=function(e){return function(){try{var t;return(t=wx)[e].apply(t,arguments)}catch(e){wa.error(e)}}},su={setItem:ou("setStorageSync"),getItem:ou("getStorageSync"),removeItem:ou("removeStorageSync"),clear:ou("clearStorageSync")},au={tag:"wechat",httpReq:function(e){var t=e.method||Gs.GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Or(e.url,i);return new Promise((function(e){wx.request({url:s,method:t,headers:r,timeout:n,data:o,success:function(t){e({data:t.data,status:t.statusCode})},fail:function(){e({status:Mo.RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:su,sessionStorage:su,isSupportSocket:function(){return!0},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:iu,createWebSocket:function(e,t){var n=wx.connectSocket({url:e,protocols:t});return{onClose:function(e){n.onClose((function(t){e(t.code,t.reason)}))},onError:function(e){n.onError((function(t){e(t.errMsg)}))},onMessage:function(e){n.onMessage((function(t){e(t.data)}))},onOpen:function(e){n.onOpen(e)},send:function(e){n.send({data:e})},close:function(e,t){n.close({code:e,reason:t})}}},createDataChannel:function(e){return new qs(this,e)}},cu=tu(),uu=function(e){return function(){try{var t;return(t=my)[e].apply(t,arguments)}catch(e){wa.error(e)}}},lu={setItem:uu("setStorageSync"),getItem:uu("getStorageSync"),removeItem:uu("removeStorageSync"),clear:uu("clearStorageSync")},hu={tag:"alipay",httpReq:function(e){var t=e.method||Gs.GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Or(e.url,i);return new Promise((function(e){my.request({url:s,method:t,headers:r,timeout:n,data:o,success:function(t){e({data:t.data,status:t.status})},fail:function(){e({status:Mo.RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:lu,sessionStorage:lu,isSupportSocket:function(){return!1},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:cu,createDataChannel:function(e){return new Ys(this,e)}},fu=function(e){return function(){try{var t;return(t=uni)[e].apply(t,arguments)}catch(e){wa.error(e)}}},du={setItem:fu("setStorageSync"),getItem:fu("getStorageSync"),removeItem:fu("removeStorageSync"),clear:fu("clearStorageSync")},pu={tag:"uniapp",httpReq:function(e){var t=e.method||Gs.GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Or(e.url,i);return new Promise((function(e){uni.request({url:s,method:t,headers:r,timeout:n,data:o,success:function(t){e({data:t.data,status:t.statusCode})},fail:function(){e({status:Mo.RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:du,sessionStorage:du,isSupportSocket:function(){return!0},useNavi:!0,connectPlatform:"",isFromUniapp:!0,createWebSocket:function(e,t){var n={complete:function(){},url:e,protocols:t},r=uni.connectSocket(n);return{onClose:function(e){r.onClose((function(t){e(t.code,t.reason)}))},onError:function(e){r.onError((function(t){e(t.errMsg)}))},onMessage:function(e){r.onMessage((function(t){e(t.data)}))},onOpen:function(e){r.onOpen(e)},send:function(e){r.send({data:e})},close:function(e,t){r.close({code:e,reason:t})}}},createDataChannel:function(e){return new qs(this,e)}},gu=function(e){return e&&e.canIUse&&e.getSystemInfo},mu="undefined"!=typeof uni&&gu(uni)?function(){switch(Object({NODE_ENV:"production",VUE_APP_H5PACK_TIME:"1613714536414",BASE_URL:""}).VUE_APP_PLATFORM){case"app-plus":return pu;case"mp-alipay":return hu;case"mp-weixin":return au;case"h5":default:return ru}}():"undefined"!=typeof wx&&gu(wx)?au:"undefined"!=typeof my&&gu(my)?hu:ru,yu=[],vu=[],_u={message:function(e){yu.forEach((function(t){return t(e)}))},status:function(e){vu.forEach((function(t){return t(e)}))}},Eu=function(){function e(t){lr(this,e),this._token="",this._context=t,this.Conversation=new Xa(t),this.ChatRoom=new vc(t),this.RTC=function(e){return ti("options.id",e.id,qr,!0),new Gc(e,t)}}var t,n,r;return fr(e,[{key:"install",value:function(e,t){return this._context.install(e,t)}},{key:"watch",value:function(e){var t=e.status,n=e.conversation,r=e.message,i=e.chatroom,o=e.expansion,s={};t&&(s.connectionState=function(e){try{t({status:e})}catch(e){wa.error(e)}}),n&&(s.conversationState=function(e){try{var t=e.map((function(e){return n=(t=e).updatedItems,r=t.conversationType,i=t.targetId,o=t.latestMessage,s=t.unreadMessageCount,a=t.lastUnreadTime,c=t.notificationStatus,u=t.isTop,l=t.mentionedInfo,h=t.hasMentioned,f=o&&Pa(o),n&&n.latestMessage&&(n.latestMessage.val=f),{updatedItems:n,type:r,targetId:i,latestMessage:f,unreadMessageCount:s,lastUnreadTime:a,notificationStatus:c,isTop:u,mentionedInfo:l,hasMentioned:h};var t,n,r,i,o,s,a,c,u,l,h,f}));n({updatedConversationList:t})}catch(e){wa.error(e)}}),r&&(s.message=function(e){try{r({message:Pa(e)})}catch(e){wa.error(e)}}),i&&(s.chatroomState=function(e){try{i(e)}catch(e){wa.error(e)}}),o&&(s.expansion=function(e){try{o(e)}catch(e){wa.error(e)}}),this._context.assignWatcher(s)}},{key:"unwatch",value:function(){this._context.assignWatcher({message:void 0,connectionState:void 0,conversationState:void 0,chatroomState:void 0,expansion:void 0})}},{key:"rtcInnerWatch",value:function(e){var t=e.message,n=e.status;t&&yu.push((function(e){try{t({message:Pa(e)})}catch(e){wa.error(e)}})),n&&vu.push((function(e){try{n({status:e})}catch(e){wa.error(e)}})),this._context.assignWatcher({rtcInnerWatcher:_u})}},{key:"rtcInnerUnwatch",value:function(){vu.length=vu.length=0,this._context.assignWatcher({rtcInnerWatcher:void 0})}},{key:"connect",value:(r=ur(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("options.token",t.token,Zr.STRING,!0),n=t.token,this._token=n,e.next=5,this._context.connect(n,!0);case 5:if((r=e.sent).code!==Mo.SUCCESS){e.next=8;break}return e.abrupt("return",{id:r.userId});case 8:return e.abrupt("return",Promise.reject({code:r.code,msg:Oa[r.code]}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"reconnect",value:(n=ur(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._context.reconnect();case 2:if((t=e.sent).code!==Mo.SUCCESS){e.next=5;break}return e.abrupt("return",{id:t.userId});case 5:return e.abrupt("return",Promise.reject({code:t.code,msg:Oa[t.code]}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"disconnect",value:function(){return this._context.disconnect()}},{key:"getAppInfo",value:function(){return{appkey:this._context.appkey,token:this._token,navi:this._context.getInfoFromCache()}}},{key:"getConnectedTime",value:function(){return this._context.getConnectedTime()}},{key:"getConnectionStatus",value:function(){return this._context.getConnectionStatus()}},{key:"getConnectionUserId",value:function(){return this._context.getCurrentUserId()}},{key:"getFileToken",value:function(e,t){return ti("fileType",e,Qr,!0),this._context.getFileToken(e,t)}},{key:"getFileUrl",value:function(e,t,n,r,i){return ti("fileType",e,Qr,!0),ti("filename",t,Zr.STRING),ti("oriname",n,Zr.STRING),ti("uploadMethod",i,Zr.NUMBER),this._context.getFileUrl(e,t,n,r,i)}},{key:"changeUser",value:(t=ur(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wa.warn("Method is deprecated"),ti("options.token",t.token,Zr.STRING,!0),e.next=4,this.disconnect();case 4:return e.abrupt("return",this.connect(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"registerMessageType",value:function(e,t,n,r){this._context.registerMessageType(e,t,n,r)}}]),e}(),bu=function(e){if(eu)return wa.error("The instance already exists. Do not repeatedly call the init method"),eu;ti("options.appkey",e.appkey,Zr.STRING,!0),ti("options.debug",e.debug,Zr.BOOLEAN),ti("options.navigators",e.navigators,(function(e){return Br(e)&&(0===e.length||e.every(Kr))}));var t=Ra.init(mu,{appkey:e.appkey,apiVersion:"4.2.3",navigators:e.navigators||[],miniCMPProxy:e.customCMP||[],connectionType:e.connectType||"websocket",cppProtocol:e.cppProtocol});return eu=new Eu(t)}}).call(this,n("c8ba"),n("4362"))},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0ca4":function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1453:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("9ab4"),i=n("d817"),o=n("e9a8"),s=n("a6e8"),a=n("2ff5"),c=n("88bc"),u=n("0ca4"),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o["a"];break;case 1:if(!n){s.destination=o["a"];break}if("object"===typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i);break}return s}return r["a"](t,e),t.prototype[a["a"]]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s["a"]),h=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i["a"])(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o["a"]&&(u=Object.create(n),Object(i["a"])(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r["a"](t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c["a"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c["a"].useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u["a"])(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u["a"])(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c["a"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c["a"].useDeprecatedSynchronousErrorHandling)throw n;Object(u["a"])(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c["a"].useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c["a"].useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u["a"])(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),c=n("2a62"),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,h,f,d,p,g,m,y=n&&n.that,v=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),b=s(t,y,1+v+E),C=function(e){return l&&c(l),new u(!0,e)},S=function(e){return v?(r(e),E?b(e[0],e[1],C):b(e[0],e[1])):E?b(e,C):b(e)};if(_)l=e;else{if(h=a(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(f=0,d=o(e.length);d>f;f++)if(p=S(e[f]),p&&p instanceof u)return p;return new u(!1)}l=h.call(e)}g=l.next;while(!(m=g.call(l)).done){try{p=S(m.value)}catch(T){throw c(l),T}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,h,f,d,p,g=e.target,m=e.global,y=e.stat;if(l=m?r:y?r[g]||a(g,{}):(r[g]||{}).prototype,l)for(h in t){if(d=t[h],e.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=u(m?h:g+(y?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),s(l,h,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2bd2":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("9ab4"),i=n("e9b9"),o=n("1453"),s=n("a6e8"),a=n("f20f"),c=n("b8c6"),u=n("2ff5"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r["a"](t,e),t}(o["a"]),h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r["a"](t,e),t.prototype[u["a"]]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a["a"];if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a["a"];this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a["a"];this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a["a"];return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a["a"];return this.hasError?(e.error(this.thrownError),s["a"].EMPTY):this.isStopped?(e.complete(),s["a"].EMPTY):(this.observers.push(e),new c["a"](this,e))},t.prototype.asObservable=function(){var e=new i["a"];return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i["a"]),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r["a"](t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s["a"].EMPTY},t}(h)},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),c=n("0366"),u=n("1be4"),l=n("cc12"),h=n("1cdc"),f=n("605d"),d=s.location,p=s.setImmediate,g=s.clearImmediate,m=s.process,y=s.MessageChannel,v=s.Dispatch,_=0,E={},b="onreadystatechange",C=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},S=function(e){return function(){C(e)}},T=function(e){C(e.data)},R=function(e){s.postMessage(e+"",d.protocol+"//"+d.host)};p&&g||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return E[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(_),_},g=function(e){delete E[e]},f?r=function(e){m.nextTick(S(e))}:v&&v.now?r=function(e){v.now(S(e))}:y&&!h?(i=new y,o=i.port2,i.port1.onmessage=T,r=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&d&&"file:"!==d.protocol&&!a(R)?(r=R,s.addEventListener("message",T,!1)):r=b in l("script")?function(e){u.appendChild(l("script"))[b]=function(){u.removeChild(this),C(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:p,clear:g}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=a&&a.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2ff5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,c=0;while(a>c)i.f(e,n=r[c++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4b96":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n("9ab4"),i=n("2bd2"),o=n("a6e8"),s=function(e){function t(t,n){return e.call(this)||this}return r["a"](t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(o["a"]),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r["a"](t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(s),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["a"](t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(a),u=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),l=function(e){function t(n,r){void 0===r&&(r=u.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r["a"](t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){while(e=t.shift())e.unsubscribe();throw n}}},t}(u),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["a"](t,e),t}(l),f=new h(c),d=f,p=n("1453"),g=n("e9b9"),m=new g["a"]((function(e){return e.complete()}));function y(e){return e?v(e):m}function v(e){return new g["a"]((function(t){return e.schedule((function(){return t.complete()}))}))}function _(e){return e&&"function"===typeof e.schedule}var E,b=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function C(e,t){return new g["a"]((function(n){var r=new o["a"],i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function S(e,t){return t?C(e,t):new g["a"](b(e))}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return _(n)?(e.pop(),C(e,n)):S(e)}function R(e,t){return t?new g["a"]((function(n){return t.schedule(w,0,{error:e,subscriber:n})})):new g["a"]((function(t){return t.error(e)}))}function w(e){var t=e.error,n=e.subscriber;n.error(t)}E||(E={});var I=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return T(this.value);case"E":return R(this.error);case"C":return y()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();var O=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r["a"](t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new N(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(I.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(I.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(I.createComplete()),this.unsubscribe()},t}(p["a"]),N=function(){function e(e,t){this.notification=e,this.destination=t}return e}(),M=n("f20f"),x=n("b8c6"),P=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r["a"](t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new A(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=r.length;if(this.closed)throw new M["a"];if(this.isStopped||this.hasError?t=o["a"].EMPTY:(this.observers.push(e),t=new x["a"](this,e)),i&&e.add(e=new O(e,i)),n)for(var a=0;a<s&&!e.closed;a++)e.next(r[a]);else for(a=0;a<s&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||d).now()},t.prototype._trimBufferThenGetEvents=function(){var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;while(o<i){if(e-r[o].time<n)break;o++}return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i["a"]),A=function(){function e(e,t){this.time=e,this.value=t}return e}()},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5502:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n("7a23"),i="store";
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */var o="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},s=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){s&&(e._devtoolHook=s,s.emit("vuex:init",e),s.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){s.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){s.emit("vuex:action",e,t)}),{prepend:!0}))}function c(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function u(e){return null!==e&&"object"===typeof e}function l(e){return e&&"function"===typeof e.then}function h(e,t){if(!e)throw new Error("[vuex] "+t)}function f(e,t){return function(){return e(t)}}var d=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(e,t){this._children[e]=t},d.prototype.removeChild=function(e){delete this._children[e]},d.prototype.getChild=function(e){return this._children[e]},d.prototype.hasChild=function(e){return e in this._children},d.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},d.prototype.forEachChild=function(e){c(this._children,e)},d.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},d.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},d.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(d.prototype,p);var g=function(e){this.register([],e,!1)};function m(e,t,n){if(E(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");m(e.concat(r),t.getChild(r),n.modules[r])}}g.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},g.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},g.prototype.update=function(e){m([],this.root,e)},g.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0),E(e,t);var i=new d(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&c(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},g.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r?r.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},g.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var y={assert:function(e){return"function"===typeof e},expected:"function"},v={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},_={getters:y,mutations:y,actions:v};function E(e,t){Object.keys(_).forEach((function(n){if(t[n]){var r=_[n];c(t[n],(function(t,i){h(r.assert(t),b(e,n,i,t,r.expected))}))}}))}function b(e,t,n,r,i){var o=t+" should be "+i+' but "'+t+"."+n+'"';return e.length>0&&(o+=' in module "'+e.join(".")+'"'),o+=" is "+JSON.stringify(r)+".",o}function C(e){return new S(e)}var S=function e(t){var n=this;void 0===t&&(t={}),h("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),h(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new g(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var o=this,s=this,c=s.dispatch,u=s.commit;this.dispatch=function(e,t){return c.call(o,e,t)},this.commit=function(e,t,n){return u.call(o,e,t,n)},this.strict=i;var l=this._modules.root.state;O(this,l,[],this._modules.root),I(this,l),r.forEach((function(e){return e(n)}));var f=void 0===t.devtools||t.devtools;f&&a(this)},T={state:{configurable:!0}};function R(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;O(e,n,[],e._modules.root,!0),I(e,n,t)}function I(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={};c(o,(function(t,n){s[n]=f(t,e),Object.defineProperty(e.getters,n,{get:function(){return s[n]()},enumerable:!0})})),e._state=Object(r["o"])({data:t}),e.strict&&U(e),i&&n&&e._withCommit((function(){i.data=null}))}function O(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[s]=r),!o&&!i){var a=L(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[c]=r.state}))}var u=r.context=N(e,s,n);r.forEachMutation((function(t,n){var r=s+n;x(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;P(e,r,i,u)})),r.forEachGetter((function(t,n){var r=s+n;A(e,r,t,u)})),r.forEachChild((function(r,o){O(e,t,n.concat(o),r,i)}))}function N(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=k(n,r,i),s=o.payload,a=o.options,c=o.type;if(a&&a.root||(c=t+c,e._actions[c]))return e.dispatch(c,s);console.error("[vuex] unknown local action type: "+o.type+", global type: "+c)},commit:r?e.commit:function(n,r,i){var o=k(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=t+c,e._mutations[c])?e.commit(c,s,a):console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return M(e,t)}},state:{get:function(){return L(e.state,n)}}}),i}function M(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function x(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function P(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return l(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function A(e,t,n,r){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}function U(e){Object(r["s"])((function(){return e._state.data}),(function(){h(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function L(e,t){return t.reduce((function(e,t){return e[t]}),e)}function k(e,t,n){return u(e)&&e.type&&(n=t,t=e,e=e.type),h("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}S.prototype.install=function(e,t){e.provide(t||i,this),e.config.globalProperties.$store=this},T.state.get=function(){return this._state.data},T.state.set=function(e){h(!1,"use store.replaceState() to explicit replace store state.")},S.prototype.commit=function(e,t,n){var r=this,i=k(e,t,n),o=i.type,s=i.payload,a=i.options,c={type:o,payload:s},u=this._mutations[o];u?(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,r.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+o)},S.prototype.dispatch=function(e,t){var n=this,r=k(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){console.warn("[vuex] error in before action subscribers: "),console.error(u)}var c=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){console.warn("[vuex] error in after action subscribers: "),console.error(u)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){console.warn("[vuex] error in error action subscribers: "),console.error(u)}t(e)}))}))}console.error("[vuex] unknown action type: "+i)},S.prototype.subscribe=function(e,t){return R(e,this._subscribers,t)},S.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return R(n,this._actionSubscribers,t)},S.prototype.watch=function(e,t,n){var i=this;return h("function"===typeof e,"store.watch only accepts a function."),Object(r["s"])((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},S.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},S.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),h(Array.isArray(e),"module path must be a string or an Array."),h(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),O(this,this.state,e,this._modules.get(e),n.preserveState),I(this,this.state)},S.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),h(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=L(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),w(this)},S.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),h(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},S.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},S.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(S.prototype,T);V((function(e,t){var n={};return D(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),j(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=B(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),V((function(e,t){var n={};return D(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),j(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=B(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),V((function(e,t){var n={};return D(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),j(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||B(this.$store,"mapGetters",e)){if(i in this.$store.getters)return this.$store.getters[i];console.error("[vuex] unknown getter: "+i)}},n[r].vuex=!0})),n})),V((function(e,t){var n={};return D(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),j(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=B(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function j(e){return D(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function D(e){return Array.isArray(e)||u(e)}function V(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function B(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}}).call(this,n("c8ba"))},5670:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("1453");function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r["a"](t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i["a"])},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=s.f,f=a.f;while(i>l){var d,p=u(arguments[l++]),g=h?o(p).concat(h(p)):o(p),m=g.length,y=0;while(m>y)d=g[y++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),h=n("c6cd"),f=n("f772"),d=n("d012"),p=a.WeakMap,g=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var y=h.state||(h.state=new p),v=y.get,_=y.has,E=y.set;r=function(e,t){return t.facade=e,E.call(y,e,t),t},i=function(e){return v.call(y,e)||{}},o=function(e){return _.call(y,e)}}else{var b=f("state");d[b]=!0,r=function(e,t){return t.facade=e,u(e,b,t),t},i=function(e){return l(e,b)?e[b]:{}},o=function(e){return l(e,b)}}e.exports={set:r,get:i,has:o,enforce:g,getterFor:m}},"6c02":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xe})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return H}));var r=n("7a23");
/*!
  * vue-router v4.0.3
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=e=>i?Symbol(e):"_vr_"+e,s=o("rvlm"),a=o("rvd"),c=o("r"),u=o("rl"),l=o("rvl"),h="undefined"!==typeof window;function f(e){return e.__esModule||i&&"Module"===e[Symbol.toStringTag]}const d=Object.assign;function p(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}let g=()=>{};const m=/\/$/,y=e=>e.replace(m,"");function v(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),o=t.slice(a+1,c>-1?c:t.length),i=e(o)),c>-1&&(r=r||t.slice(0,c),s=t.slice(c,t.length)),r=w(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function _(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function E(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function b(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&C(t.matched[r],n.matched[i])&&S(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function C(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function S(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!T(e[n],t[n]))return!1;return!0}function T(e,t){return Array.isArray(e)?R(e,t):Array.isArray(t)?R(t,e):e===t}function R(e,t){return Array.isArray(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}function w(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var I,O;(function(e){e["pop"]="pop",e["push"]="push"})(I||(I={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(O||(O={}));function N(e){if(!e)if(h){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const M=/^[^#]+#/;function x(e,t){return e.replace(M,"#")+t}function P(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function U(e){let t;if("el"in e){let n=e.el;const r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=P(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function L(e,t){const n=history.state?history.state.position-t:-1;return n+e}const k=new Map;function j(e,t){k.set(e,t)}function D(e){const t=k.get(e);return k.delete(e),t}let V=()=>location.protocol+"//"+location.host;function B(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let e=i.slice(1);return"/"!==e[0]&&(e="/"+e),E(e,"")}const s=E(n,e);return s+r+i}function F(e,t,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=B(e,location),c=n.value,u=t.value;let l=0;if(o){if(n.value=a,t.value=o,s&&s===c)return void(s=null);l=u?o.position-u.position:0}else r(a);i.forEach(e=>{e(n.value,c,{delta:l,type:I.pop,direction:l?l>0?O.forward:O.back:O.unknown})})};function c(){s=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function l(){const{history:e}=window;e.state&&e.replaceState(d({},e.state,{scroll:A()}),"")}function h(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function q(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?A():null}}function G(e){const{history:t,location:n}=window;let r={value:B(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:V()+e+r;try{t[s?"replaceState":"pushState"](o,"",c),i.value=o}catch(u){console.error(u),n[s?"replace":"assign"](c)}}function s(e,n){const s=d({},t.state,q(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,s,!0),r.value=e}function a(e,n){const s=d({},i.value,t.state,{forward:e,scroll:A()});o(s.current,s,!0);const a=d({},q(r.value,e,null),{position:s.position+1},n);o(e,a,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:s}}function Y(e){e=N(e);const t=G(e),n=F(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=d({location:"",base:e,go:r,createHref:x.bind(null,e)},t,n);return Object.defineProperty(i,"location",{get:()=>t.location.value}),Object.defineProperty(i,"state",{get:()=>t.state.value}),i}function H(e){return e=location.host?e||location.pathname+location.search:"",e.indexOf("#")<0&&(e+="#"),Y(e)}function $(e){return"string"===typeof e||e&&"object"===typeof e}function K(e){return"string"===typeof e||"symbol"===typeof e}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},z=o("nf");var Q;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Q||(Q={}));function J(e,t){return d(new Error,{type:e,[z]:!0},t)}function Z(e,t){return e instanceof Error&&z in e&&(null==t||!!(e.type&t))}const X="[^/]+?",ee={sensitive:!1,strict:!1,start:!0,end:!0},te=/[.+*?^${}()[\]/\\]/g;function ne(e,t){const n=d({},ee,t);let r=[],i=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(te,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:a,regexp:c}=r;o.push({name:e,repeatable:n,optional:a});const l=c||X;if(l!==X){s+=10;try{new RegExp(`(${l})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${e}" (${l}): `+u.message)}}let h=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;t||(h=a?`(?:/${h})`:"/"+h),a&&(h+="?"),i+=h,s+=20,a&&(s+=-8),n&&(s+=-20),".*"===l&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function c(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:o,optional:s}=e,a=i in t?t[i]:"";if(Array.isArray(a)&&!o)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(a)?a.join("/"):a;if(!c){if(!s)throw new Error(`Missing required param "${i}"`);n.endsWith("/")?n=n.slice(0,-1):r=!0}n+=c}}return n}return{re:s,score:r,keys:o,parse:a,stringify:c}}function re(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ie(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=re(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const oe={type:0,value:""},se=/[a-zA-Z0-9_]/;function ae(e){if(!e)return[[]];if("/"===e)return[[oe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,c=0,u="",l="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function f(){u+=a}while(c<e.length)if(a=e[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:se.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),h(),s(),i}function ce(e,t,n){const r=ne(ae(e.path),n);const i=d(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ue(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){let i=!r,a=he(e);a.aliasOf=r&&r.record;const u=ge(t,e),l=[a];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)l.push(d({},a,{components:r?r.record.components:a.components,path:e,aliasOf:r?r.record:a}))}let h,f;for(const t of l){let{path:l}=t;if(n&&"/"!==l[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(h=ce(t,n,u),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),i&&e.name&&!de(h)&&s(e.name)),"children"in a){let e=a.children;for(let t=0;t<e.length;t++)o(e[t],h,r&&r.children[t])}r=r||h,c(h)}return f?()=>{s(f)}:g}function s(e){if(K(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function a(){return n}function c(e){let t=0;while(t<n.length&&ie(e,n[t])>=0)t++;n.splice(t,0,e),e.record.name&&!de(e)&&r.set(e.record.name,e)}function u(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw J(1,{location:e});s=i.record.name,a=d(le(t.params,i.keys.filter(e=>!e.optional).map(e=>e.name)),e.params),o=i.stringify(a)}else if("path"in e)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw J(1,{location:e,currentLocation:t});s=i.record.name,a=d({},t.params,e.params),o=i.stringify(a)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:s,path:o,params:a,matched:c,meta:pe(c)}}return t=ge({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>o(e)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function le(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function he(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:fe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function fe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function de(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pe(e){return e.reduce((e,t)=>d(e,t.meta),{})}function ge(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const me=/#/g,ye=/&/g,ve=/\//g,_e=/=/g,Ee=/\?/g,be=/\+/g,Ce=/%5B/g,Se=/%5D/g,Te=/%5E/g,Re=/%60/g,we=/%7B/g,Ie=/%7C/g,Oe=/%7D/g,Ne=/%20/g;function Me(e){return encodeURI(""+e).replace(Ie,"|").replace(Ce,"[").replace(Se,"]")}function xe(e){return Me(e).replace(we,"{").replace(Oe,"}").replace(Te,"^")}function Pe(e){return Me(e).replace(be,"%2B").replace(Ne,"+").replace(me,"%23").replace(ye,"%26").replace(Re,"`").replace(we,"{").replace(Oe,"}").replace(Te,"^")}function Ae(e){return Pe(e).replace(_e,"%3D")}function Ue(e){return Me(e).replace(me,"%23").replace(Ee,"%3F")}function Le(e){return Ue(e).replace(ve,"%2F")}function ke(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function je(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(be," ");let n=e.indexOf("="),o=ke(n<0?e:e.slice(0,n)),s=n<0?null:ke(e.slice(n+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function De(e){let t="";for(let n in e){t.length&&(t+="&");const r=e[n];if(n=Ae(n),null==r){void 0!==r&&(t+=n);continue}let i=Array.isArray(r)?r.map(e=>e&&Pe(e)):[r&&Pe(r)];for(let e=0;e<i.length;e++)t+=(e?"&":"")+n,null!=i[e]&&(t+="="+i[e])}return t}function Ve(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}function Be(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Fe(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const c=e=>{!1===e?a(J(4,{from:n,to:t})):e instanceof Error?a(e):$(e)?a(J(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),s())},u=e.call(r&&r.instances[i],t,n,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch(e=>a(e))})}function qe(e,t,n,r){const i=[];for(const o of e)for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ge(s)){let a=s.__vccOpts||s;const c=a[t];c&&i.push(Fe(c,n,r,o,e))}else{let a=s();a=a.catch(console.error),i.push(()=>a.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=f(i)?i.default:i;o.components[e]=s;const a=s[t];return a&&Fe(a,n,r,o,e)()}))}}return i}function Ge(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ye(e){const t=Object(r["h"])(c),n=Object(r["h"])(u),i=Object(r["a"])(()=>t.resolve(Object(r["r"])(e.to))),o=Object(r["a"])(()=>{let{matched:e}=i.value,{length:t}=e;const r=e[t-1];let o=n.matched;if(!r||!o.length)return-1;let s=o.findIndex(C.bind(null,r));if(s>-1)return s;let a=ze(e[t-2]);return t>1&&ze(r)===a&&o[o.length-1].path!==a?o.findIndex(C.bind(null,e[t-2])):s}),s=Object(r["a"])(()=>o.value>-1&&We(n.params,i.value.params)),a=Object(r["a"])(()=>o.value>-1&&o.value===n.matched.length-1&&S(n.params,i.value.params));function l(n={}){return Ke(n)?t[Object(r["r"])(e.replace)?"replace":"push"](Object(r["r"])(e.to)):Promise.resolve()}return{route:i,href:Object(r["a"])(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const He=Object(r["e"])({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t,attrs:n}){const i=Object(r["o"])(Ye(e)),{options:o}=Object(r["h"])(c),s=Object(r["a"])(()=>({[Qe(e.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[Qe(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const o=t.default&&t.default(i);return e.custom?o:Object(r["g"])("a",d({"aria-current":i.isExactActive?e.ariaCurrentValue:null,onClick:i.navigate,href:i.href},n,{class:s.value}),o)}}}),$e=He;function Ke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function We(e,t){for(let n in t){let r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((e,t)=>e!==i[t]))return!1}return!0}function ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,n)=>null!=e?e:null!=t?t:n,Je=Object(r["e"])({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=Object(r["h"])(l),o=Object(r["a"])(()=>e.route||i.value),c=Object(r["h"])(a,0),u=Object(r["a"])(()=>o.value.matched[c]);Object(r["n"])(a,c+1),Object(r["n"])(s,u),Object(r["n"])(l,o);const h=Object(r["p"])();return Object(r["s"])(()=>[h.value,u.value,e.name],([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards=i.leaveGuards,t.updateGuards=i.updateGuards)),!e||!t||i&&C(t,i)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const i=o.value,s=u.value,a=s&&s.components[e.name],c=e.name;if(!a)return Ze(n.default,{Component:a,route:i});const l=s.props[e.name],f=l?!0===l?i.params:"function"===typeof l?l(i):l:null,p=e=>{e.component.isUnmounted&&(s.instances[c]=null)},g=Object(r["g"])(a,d({},f,t,{onVnodeUnmounted:p,ref:h}));return Ze(n.default,{Component:g,route:i})||g}}});function Ze(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Xe=Je;function et(e){const t=ue(e.routes,e);let n=e.parseQuery||je,i=e.stringifyQuery||De,o=e.history;const s=Be(),a=Be(),f=Be(),m=Object(r["q"])(W);let y=W;h&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=p.bind(null,e=>""+e),C=p.bind(null,Le),S=p.bind(null,ke);function T(e,n){let r,i;return K(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function R(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function w(){return t.getRoutes().map(e=>e.record)}function I(e){return!!t.getRecordMatcher(e)}function O(e,r){if(r=d({},r||m.value),"string"===typeof e){let i=v(n,e,r.path),s=t.resolve({path:i.path},r),a=o.createHref(i.fullPath);return d(i,s,{params:S(s.params),hash:ke(i.hash),redirectedFrom:void 0,href:a})}let s;"path"in e?s=d({},e,{path:v(n,e.path,r.path).path}):(s=d({},e,{params:C(e.params)}),r.params=C(r.params));let a=t.resolve(s,r);const c=e.hash||"";a.params=E(S(a.params));const u=_(i,d({},e,{hash:xe(c),path:a.path}));let l=o.createHref(u);return d({fullPath:u,hash:c,query:i===De?Ve(e.query):e.query},a,{redirectedFrom:void 0,href:l})}function N(e){return"string"===typeof e?v(n,e,m.value.path):d({},e)}function M(e,t){if(y!==e)return J(8,{from:t,to:e})}function x(e){return V(e)}function P(e){return x(d(N(e),{replace:!0}))}function k(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=N(r):{path:r}),d({query:e.query,hash:e.hash,params:e.params},r)}}function V(e,t){const n=y=O(e),r=m.value,o=e.state,s=e.force,a=!0===e.replace,c=k(n);if(c)return V(d(N(c),{state:o,force:s,replace:a}),t||n);const u=n;let l;return u.redirectedFrom=t,!s&&b(i,r,n)&&(l=J(16,{to:u,from:r}),ne(r,r,!0,!1)),(l?Promise.resolve(l):F(u,r)).catch(e=>Z(e)?e:X(e)).then(e=>{if(e){if(Z(e,2))return V(d(N(e.to),{state:o,force:s,replace:a}),t||u)}else e=G(u,r,!0,a,o);return q(u,r,e),e})}function B(e,t){const n=M(e,t);return n?Promise.reject(n):Promise.resolve()}function F(e,t){let n;const[r,i,o]=nt(e,t);n=qe(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach(r=>{n.push(Fe(r,e,t))});const c=B.bind(null,e,t);return n.push(c),tt(n).then(()=>{n=[];for(const r of s.list())n.push(Fe(r,e,t));return n.push(c),tt(n)}).then(()=>{n=qe(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach(r=>{n.push(Fe(r,e,t))});return n.push(c),tt(n)}).then(()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Fe(i,e,t));else n.push(Fe(r.beforeEnter,e,t));return n.push(c),tt(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=qe(o,"beforeRouteEnter",e,t),n.push(c),tt(n))).then(()=>{n=[];for(const r of a.list())n.push(Fe(r,e,t));return n.push(c),tt(n)}).catch(e=>Z(e,8)?e:Promise.reject(e))}function q(e,t,n){for(const r of f.list())r(e,t,n)}function G(e,t,n,r,i){const s=M(e,t);if(s)return s;const a=t===W,c=h?history.state:{};n&&(r||a?o.replace(e.fullPath,d({scroll:a&&c&&c.scroll},i)):o.push(e.fullPath,i)),m.value=e,ne(e,t,n,a),te()}let Y;function H(){Y=o.listen((e,t,n)=>{let r=O(e);const i=k(r);if(i)return void V(d(i,{replace:!0}),r).catch(g);y=r;const s=m.value;h&&j(L(s.fullPath,n.delta),A()),F(r,s).catch(e=>Z(e,12)?e:Z(e,2)?(V(e.to,r).catch(g),Promise.reject()):(n.delta&&o.go(-n.delta,!1),X(e))).then(e=>{e=e||G(r,s,!1),e&&n.delta&&o.go(-n.delta,!1),q(r,s,e)}).catch(g)})}let $,z=Be(),Q=Be();function X(e){return te(e),Q.list().forEach(t=>t(e)),Promise.reject(e)}function ee(){return $&&m.value!==W?Promise.resolve():new Promise((e,t)=>{z.add([e,t])})}function te(e){$||($=!0,H(),z.list().forEach(([t,n])=>e?n(e):t()),z.reset())}function ne(t,n,i,o){const{scrollBehavior:s}=e;if(!h||!s)return Promise.resolve();let a=!i&&D(L(t.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return Object(r["i"])().then(()=>s(t,n,a)).then(e=>e&&U(e)).catch(X)}const re=e=>o.go(e);let ie;const oe=new Set,se={currentRoute:m,addRoute:T,removeRoute:R,hasRoute:I,getRoutes:w,resolve:O,options:e,push:x,replace:P,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:s.add,beforeResolve:a.add,afterEach:f.add,onError:Q.add,isReady:ee,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",Xe),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{get:()=>Object(r["r"])(m)}),h&&!ie&&m.value===W&&(ie=!0,x(o.location).catch(e=>{0}));const n={};for(let o in W)n[o]=Object(r["a"])(()=>m.value[o]);e.provide(c,t),e.provide(u,Object(r["o"])(n)),e.provide(l,m);let i=e.unmount;oe.add(e),e.unmount=function(){oe.delete(e),oe.size<1&&(Y(),m.value=W,ie=!1,$=!1),i.call(this,arguments)}}};return se}function tt(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function nt(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.indexOf(o)<0?n.push(o):r.push(o));const a=e.matched[s];a&&t.matched.indexOf(a)<0&&i.push(a)}return[n,r,i]}}).call(this,n("c8ba"))},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var c,u=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c=l(n),c.source||(c.source=h.join("string"==typeof t?t:""))),e!==r?(u?!d&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.d(t,"o",(function(){return le})),n.d(t,"p",(function(){return Ee})),n.d(t,"q",(function(){return be})),n.d(t,"r",(function(){return Te})),n.d(t,"a",(function(){return Fr})),n.d(t,"c",(function(){return rr})),n.d(t,"d",(function(){return er})),n.d(t,"e",(function(){return In})),n.d(t,"f",(function(){return Nr})),n.d(t,"g",(function(){return qr})),n.d(t,"h",(function(){return ur})),n.d(t,"i",(function(){return We})),n.d(t,"j",(function(){return un})),n.d(t,"k",(function(){return ln})),n.d(t,"l",(function(){return jt})),n.d(t,"m",(function(){return Ft})),n.d(t,"n",(function(){return cr})),n.d(t,"s",(function(){return $t})),n.d(t,"b",(function(){return Bi}));var r=n("9ff4");const i=new WeakMap,o=[];let s;const a=Symbol(""),c=Symbol("");function u(e){return e&&!0===e._isEffect}function l(e,t=r["b"]){u(e)&&(e=e.raw);const n=d(e,t);return t.lazy||n(),n}function h(e){e.active&&(p(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let f=0;function d(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!o.includes(n)){p(n);try{return v(),o.push(n),s=n,e()}finally{o.pop(),_(),s=o[o.length-1]}}};return n.id=f++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function p(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let g=!0;const m=[];function y(){m.push(g),g=!1}function v(){m.push(g),g=!0}function _(){const e=m.pop();g=void 0===e||e}function E(e,t,n){if(!g||void 0===s)return;let r=i.get(e);r||i.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(s)||(o.add(s),s.deps.push(o))}function b(e,t,n,o,u,l){const h=i.get(e);if(!h)return;const f=new Set,d=e=>{e&&e.forEach(e=>{(e!==s||e.allowRecurse)&&f.add(e)})};if("clear"===t)h.forEach(d);else if("length"===n&&Object(r["n"])(e))h.forEach((e,t)=>{("length"===t||t>=o)&&d(e)});else switch(void 0!==n&&d(h.get(n)),t){case"add":Object(r["n"])(e)?Object(r["r"])(n)&&d(h.get("length")):(d(h.get(a)),Object(r["s"])(e)&&d(h.get(c)));break;case"delete":Object(r["n"])(e)||(d(h.get(a)),Object(r["s"])(e)&&d(h.get(c)));break;case"set":Object(r["s"])(e)&&d(h.get(a));break}const p=e=>{e.options.scheduler?e.options.scheduler(e):e()};f.forEach(p)}const C=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(r["C"])),S=O(),T=O(!1,!0),R=O(!0),w=O(!0,!0),I={};function O(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?ae:se).get(n))return n;const s=Object(r["n"])(n);if(!e&&s&&Object(r["k"])(I,i))return Reflect.get(I,i,o);const a=Reflect.get(n,i,o);if(Object(r["C"])(i)?C.has(i):"__proto__"===i||"__v_isRef"===i)return a;if(e||E(n,"get",i),t)return a;if(_e(a)){const e=!s||!Object(r["r"])(i);return e?a.value:a}return Object(r["u"])(a)?e?fe(a):le(a):a}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];I[e]=function(...e){const n=ye(this);for(let t=0,i=this.length;t<i;t++)E(n,"get",t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];I[e]=function(...e){y();const n=t.apply(this,e);return _(),n}});const N=x(),M=x(!0);function x(e=!1){return function(t,n,i,o){const s=t[n];if(!e&&(i=ye(i),!Object(r["n"])(t)&&_e(s)&&!_e(i)))return s.value=i,!0;const a=Object(r["n"])(t)&&Object(r["r"])(n)?Number(n)<t.length:Object(r["k"])(t,n),c=Reflect.set(t,n,i,o);return t===ye(o)&&(a?Object(r["j"])(i,s)&&b(t,"set",n,i,s):b(t,"add",n,i)),c}}function P(e,t){const n=Object(r["k"])(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&b(e,"delete",t,void 0,i),o}function A(e,t){const n=Reflect.has(e,t);return Object(r["C"])(t)&&C.has(t)||E(e,"has",t),n}function U(e){return E(e,"iterate",Object(r["n"])(e)?"length":a),Reflect.ownKeys(e)}const L={get:S,set:N,deleteProperty:P,has:A,ownKeys:U},k={get:R,set(e,t){return!0},deleteProperty(e,t){return!0}},j=Object(r["h"])({},L,{get:T,set:M}),D=(Object(r["h"])({},k,{get:w}),e=>Object(r["u"])(e)?le(e):e),V=e=>Object(r["u"])(e)?fe(e):e,B=e=>e,F=e=>Reflect.getPrototypeOf(e);function q(e,t,n=!1,r=!1){e=e["__v_raw"];const i=ye(e),o=ye(t);t!==o&&!n&&E(i,"get",t),!n&&E(i,"get",o);const{has:s}=F(i),a=n?V:r?B:D;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void 0}function G(e,t=!1){const n=this["__v_raw"],r=ye(n),i=ye(e);return e!==i&&!t&&E(r,"has",e),!t&&E(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function Y(e,t=!1){return e=e["__v_raw"],!t&&E(ye(e),"iterate",a),Reflect.get(e,"size",e)}function H(e){e=ye(e);const t=ye(this),n=F(t),r=n.has.call(t,e);return t.add(e),r||b(t,"add",e,e),this}function $(e,t){t=ye(t);const n=ye(this),{has:i,get:o}=F(n);let s=i.call(n,e);s||(e=ye(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Object(r["j"])(t,a)&&b(n,"set",e,t,a):b(n,"add",e,t),this}function K(e){const t=ye(this),{has:n,get:r}=F(t);let i=n.call(t,e);i||(e=ye(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&b(t,"delete",e,void 0,o),s}function W(){const e=ye(this),t=0!==e.size,n=void 0,r=e.clear();return t&&b(e,"clear",void 0,void 0,n),r}function z(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=ye(o),c=e?V:t?B:D;return!e&&E(s,"iterate",a),o.forEach((e,t)=>n.call(r,c(e),c(t),i))}}function Q(e,t,n){return function(...i){const o=this["__v_raw"],s=ye(o),u=Object(r["s"])(s),l="entries"===e||e===Symbol.iterator&&u,h="keys"===e&&u,f=o[e](...i),d=t?V:n?B:D;return!t&&E(s,"iterate",h?c:a),{next(){const{value:e,done:t}=f.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function J(e){return function(...t){return"delete"!==e&&this}}const Z={get(e){return q(this,e)},get size(){return Y(this)},has:G,add:H,set:$,delete:K,clear:W,forEach:z(!1,!1)},X={get(e){return q(this,e,!1,!0)},get size(){return Y(this)},has:G,add:H,set:$,delete:K,clear:W,forEach:z(!1,!0)},ee={get(e){return q(this,e,!0)},get size(){return Y(this,!0)},has(e){return G.call(this,e,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:z(!0,!1)},te=["keys","values","entries",Symbol.iterator];function ne(e,t){const n=t?X:e?ee:Z;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(Object(r["k"])(n,i)&&i in t?n:t,i,o)}te.forEach(e=>{Z[e]=Q(e,!1,!1),ee[e]=Q(e,!0,!1),X[e]=Q(e,!1,!0)});const re={get:ne(!1,!1)},ie={get:ne(!1,!0)},oe={get:ne(!0,!1)};const se=new WeakMap,ae=new WeakMap;function ce(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ue(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ce(Object(r["L"])(e))}function le(e){return e&&e["__v_isReadonly"]?e:de(e,!1,L,re)}function he(e){return de(e,!1,j,ie)}function fe(e){return de(e,!0,k,oe)}function de(e,t,n,i){if(!Object(r["u"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=t?ae:se,s=o.get(e);if(s)return s;const a=ue(e);if(0===a)return e;const c=new Proxy(e,2===a?i:n);return o.set(e,c),c}function pe(e){return ge(e)?pe(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function ge(e){return!(!e||!e["__v_isReadonly"])}function me(e){return pe(e)||ge(e)}function ye(e){return e&&ye(e["__v_raw"])||e}const ve=e=>Object(r["u"])(e)?le(e):e;function _e(e){return Boolean(e&&!0===e.__v_isRef)}function Ee(e){return Se(e)}function be(e){return Se(e,!0)}class Ce{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:ve(e)}get value(){return E(ye(this),"get","value"),this._value}set value(e){Object(r["j"])(ye(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ve(e),b(ye(this),"set","value",e))}}function Se(e,t=!1){return _e(e)?e:new Ce(e,t)}function Te(e){return _e(e)?e.value:e}const Re={get:(e,t,n)=>Te(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return _e(i)&&!_e(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function we(e){return pe(e)?e:new Proxy(e,Re)}class Ie{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Oe(e,t){return _e(e[t])?e[t]:new Ie(e,t)}class Ne{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=l(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,b(ye(this),"set","value"))}}),this["__v_isReadonly"]=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),E(ye(this),"get","value"),this._value}set value(e){this._setter(e)}}function Me(e){let t,n;return Object(r["o"])(e)?(t=e,n=r["d"]):(t=e.get,n=e.set),new Ne(t,n,Object(r["o"])(e)||!e.set)}function xe(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Ae(o,t,n)}return i}function Pe(e,t,n,i){if(Object(r["o"])(e)){const o=xe(e,t,n,i);return o&&Object(r["w"])(o)&&o.catch(e=>{Ae(e,t,n)}),o}const o=[];for(let r=0;r<e.length;r++)o.push(Pe(e[r],t,n,i));return o}function Ae(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void xe(s,null,10,[e,i,o])}Ue(e,n,i,r)}function Ue(e,t,n,r=!0){console.error(e)}let Le=!1,ke=!1;const je=[];let De=0;const Ve=[];let Be=null,Fe=0;const qe=[];let Ge=null,Ye=0;const He=Promise.resolve();let $e=null,Ke=null;function We(e){const t=$e||He;return e?t.then(this?e.bind(this):e):t}function ze(e){je.length&&je.includes(e,Le&&e.allowRecurse?De+1:De)||e===Ke||(je.push(e),Qe())}function Qe(){Le||ke||(ke=!0,$e=He.then(it))}function Je(e){const t=je.indexOf(e);t>-1&&je.splice(t,1)}function Ze(e,t,n,i){Object(r["n"])(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),Qe()}function Xe(e){Ze(e,Be,Ve,Fe)}function et(e){Ze(e,Ge,qe,Ye)}function tt(e,t=null){if(Ve.length){for(Ke=t,Be=[...new Set(Ve)],Ve.length=0,Fe=0;Fe<Be.length;Fe++)Be[Fe]();Be=null,Fe=0,Ke=null,tt(e,t)}}function nt(e){if(qe.length){const e=[...new Set(qe)];if(qe.length=0,Ge)return void Ge.push(...e);for(Ge=e,Ge.sort((e,t)=>rt(e)-rt(t)),Ye=0;Ye<Ge.length;Ye++)Ge[Ye]();Ge=null,Ye=0}}const rt=e=>null==e.id?1/0:e.id;function it(e){ke=!1,Le=!0,tt(e),je.sort((e,t)=>rt(e)-rt(t));try{for(De=0;De<je.length;De++){const e=je[De];e&&xe(e,null,14)}}finally{De=0,je.length=0,nt(e),Le=!1,$e=null,(je.length||qe.length)&&it(e)}}new Set;new Map;function ot(e,t,...n){const i=e.vnode.props||r["b"];let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const e=("modelValue"===a?"model":a)+"Modifiers",{number:t,trim:s}=i[e]||r["b"];s?o=n.map(e=>e.trim()):t&&(o=n.map(r["K"]))}let c=Object(r["J"])(Object(r["e"])(t)),u=i[c];!u&&s&&(c=Object(r["J"])(Object(r["l"])(t)),u=i[c]),u&&Pe(u,e,6,o);const l=i[c+"Once"];if(l){if(e.emitted){if(e.emitted[c])return}else(e.emitted={})[c]=!0;Pe(l,e,6,o)}}function st(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const i=e.emits;let o={},s=!1;if(!Object(r["o"])(e)){const i=e=>{s=!0,Object(r["h"])(o,st(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return i||s?(Object(r["n"])(i)?i.forEach(e=>o[e]=null):Object(r["h"])(o,i),e.__emits=o):e.__emits=null}function at(e,t){return!(!e||!Object(r["v"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["k"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["k"])(e,Object(r["l"])(t))||Object(r["k"])(e,t))}let ct=null;function ut(e){ct=e}function lt(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:f,data:d,setupState:p,ctx:g}=e;let m;ct=e;try{let e;if(4&n.shapeFlag){const t=o||i;m=ir(h.call(t,t,f,s,p,d,g)),e=u}else{const n=t;0,m=ir(n.length>1?n(s,{attrs:u,slots:c,emit:l}):n(s,null)),e=t.props?u:ft(u)}let y=m;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=y;t.length&&(1&n||6&n)&&(a&&t.some(r["t"])&&(e=dt(e,a)),y=nr(y,e))}n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y}catch(y){Ae(y,e,1),m=er(qn)}return ct=null,m}function ht(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!zn(r))return;if(r.type!==qn||"v-if"===r.children){if(t)return;t=r}}return t}const ft=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["v"])(n))&&((t||(t={}))[n]=e[n]);return t},dt=(e,t)=>{const n={};for(const i in e)Object(r["t"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function pt(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||gt(r,s,u):!!s);if(1024&c)return!0;if(16&c)return r?gt(r,s,u):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!at(u,n))return!0}}return!1}function gt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!at(n,o))return!0}return!1}function mt({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const yt=e=>e.__isSuspense;function vt(e){const{shapeFlag:t,children:n}=e;let r,i;return 32&t?(r=_t(n.default),i=_t(n.fallback)):(r=_t(n),i=ir(null)),{content:r,fallback:i}}function _t(e){if(Object(r["o"])(e)&&(e=e()),Object(r["n"])(e)){const t=ht(e);0,e=t}return ir(e)}function Et(e,t){t&&t.pendingBranch?Object(r["n"])(e)?t.effects.push(...e):t.effects.push(e):et(e)}let bt=0;const Ct=e=>bt+=e;function St(e,t=ct){if(!t)return e;const n=(...n)=>{bt||$n(!0);const r=ct;ut(t);const i=e(...n);return ut(r),bt||Kn(),i};return n._c=!0,n}let Tt=null;function Rt(e,t,n,i=!1){const o={},s={};Object(r["g"])(s,Jn,1),It(e,t,o,s),n?e.props=i?o:he(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function wt(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=ye(o),[u]=e.propsOptions;if(!(i||a>0)||16&a){let i;It(e,t,o,s);for(const s in c)t&&(Object(r["k"])(t,s)||(i=Object(r["l"])(s))!==s&&Object(r["k"])(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=Ot(u,t||r["b"],s,void 0,e)):delete o[s]);if(s!==c)for(const e in s)t&&Object(r["k"])(t,e)||delete s[e]}else if(8&a){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){const a=n[i],l=t[a];if(u)if(Object(r["k"])(s,a))s[a]=l;else{const t=Object(r["e"])(a);o[t]=Ot(u,c,t,l,e)}else s[a]=l}}b(e,"set","$attrs")}function It(e,t,n,i){const[o,s]=e.propsOptions;if(t)for(const a in t){const s=t[a];if(Object(r["x"])(a))continue;let c;o&&Object(r["k"])(o,c=Object(r["e"])(a))?n[c]=s:at(e.emitsOptions,a)||(i[a]=s)}if(s){const t=ye(n);for(let r=0;r<s.length;r++){const i=s[r];n[i]=Ot(o,t,i,t[i],e)}}}function Ot(e,t,n,i,o){const s=e[n];if(null!=s){const e=Object(r["k"])(s,"default");if(e&&void 0===i){const e=s.default;s.type!==Function&&Object(r["o"])(e)?(Mr(o),i=e(t),Mr(null)):i=e}s[0]&&(Object(r["k"])(t,n)||e?!s[1]||""!==i&&i!==Object(r["l"])(n)||(i=!0):i=!1)}return i}function Nt(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const i=e.props,o={},s=[];let a=!1;if(!Object(r["o"])(e)){const i=e=>{a=!0;const[n,i]=Nt(e,t,!0);Object(r["h"])(o,n),i&&s.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!i&&!a)return e.__props=r["a"];if(Object(r["n"])(i))for(let c=0;c<i.length;c++){0;const e=Object(r["e"])(i[c]);Mt(e)&&(o[e]=r["b"])}else if(i){0;for(const e in i){const t=Object(r["e"])(e);if(Mt(t)){const n=i[e],a=o[t]=Object(r["n"])(n)||Object(r["o"])(n)?{type:n}:n;if(a){const e=At(Boolean,a.type),n=At(String,a.type);a[0]=e>-1,a[1]=n<0||e<n,(e>-1||Object(r["k"])(a,"default"))&&s.push(t)}}}}return e.__props=[o,s]}function Mt(e){return"$"!==e[0]}function xt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Pt(e,t){return xt(e)===xt(t)}function At(e,t){if(Object(r["n"])(t)){for(let n=0,r=t.length;n<r;n++)if(Pt(t[n],e))return n}else if(Object(r["o"])(t))return Pt(t,e)?0:-1;return-1}function Ut(e,t,n=Or,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;y(),Mr(n);const i=Pe(t,n,e,r);return Mr(null),_(),i});return r?i.unshift(o):i.push(o),o}}const Lt=e=>(t,n=Or)=>!Pr&&Ut(e,t,n),kt=Lt("bm"),jt=Lt("m"),Dt=Lt("bu"),Vt=Lt("u"),Bt=Lt("bum"),Ft=Lt("um"),qt=Lt("rtg"),Gt=Lt("rtc"),Yt=(e,t=Or)=>{Ut("ec",e,t)};const Ht={};function $t(e,t,n){return Kt(e,t,n)}function Kt(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=r["b"],c=Or){let u,f,d=!1;if(_e(e)?(u=()=>e.value,d=!!e._shallow):pe(e)?(u=()=>e,i=!0):u=Object(r["n"])(e)?()=>e.map(e=>_e(e)?e.value:pe(e)?zt(e):Object(r["o"])(e)?xe(e,c,2):void 0):Object(r["o"])(e)?t?()=>xe(e,c,2):()=>{if(!c||!c.isUnmounted)return f&&f(),xe(e,c,3,[p])}:r["d"],t&&i){const e=u;u=()=>zt(e())}const p=e=>{f=v.options.onStop=()=>{xe(e,c,4)}};let g=Object(r["n"])(e)?[]:Ht;const m=()=>{if(v.active)if(t){const e=v();(i||d||Object(r["j"])(e,g))&&(f&&f(),Pe(t,c,3,[e,g===Ht?void 0:g,p]),g=e)}else v()};let y;m.allowRecurse=!!t,y="sync"===o?m:"post"===o?()=>Mn(m,c&&c.suspense):()=>{!c||c.isMounted?Xe(m):m()};const v=l(u,{lazy:!0,onTrack:s,onTrigger:a,scheduler:y});return Dr(v,c),t?n?m():g=v():"post"===o?Mn(v,c&&c.suspense):v(),()=>{h(v),c&&Object(r["I"])(c.effects,v)}}function Wt(e,t,n){const i=this.proxy,o=Object(r["B"])(e)?()=>i[e]:e.bind(i);return Kt(o,t.bind(i),n,this)}function zt(e,t=new Set){if(!Object(r["u"])(e)||t.has(e))return e;if(t.add(e),_e(e))zt(e.value,t);else if(Object(r["n"])(e))for(let n=0;n<e.length;n++)zt(e[n],t);else if(Object(r["z"])(e)||Object(r["s"])(e))e.forEach(e=>{zt(e,t)});else for(const n in e)zt(e[n],t);return e}function Qt(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jt(()=>{e.isMounted=!0}),Bt(()=>{e.isUnmounting=!0}),e}const Jt=[Function,Array],Zt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jt,onEnter:Jt,onAfterEnter:Jt,onEnterCancelled:Jt,onBeforeLeave:Jt,onLeave:Jt,onAfterLeave:Jt,onLeaveCancelled:Jt,onBeforeAppear:Jt,onAppear:Jt,onAfterAppear:Jt,onAppearCancelled:Jt},setup(e,{slots:t}){const n=Nr(),r=Qt();let i;return()=>{const o=t.default&&sn(t.default(),!0);if(!o||!o.length)return;const s=ye(e),{mode:a}=s;const c=o[0];if(r.isLeaving)return nn(c);const u=rn(c);if(!u)return nn(c);const l=tn(u,s,r,n);on(u,l);const h=n.subTree,f=h&&rn(h);let d=!1;const{getTransitionKey:p}=u.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,d=!0)}if(f&&f.type!==qn&&(!Qn(u,f)||d)){const e=tn(f,s,r,n);if(on(f,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},nn(c);"in-out"===a&&(e.delayLeave=(e,t,n)=>{const i=en(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return c}}},Xt=Zt;function en(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function tn(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:v}=t,_=String(e.key),E=en(n,e),b=(e,t)=>{e&&Pe(e,r,9,t)},C={mode:o,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!i)return;r=g||a}t._leaveCb&&t._leaveCb(!0);const o=E[_];o&&Qn(e,o)&&o.el._leaveCb&&o.el._leaveCb(),b(r,[t])},enter(e){let t=c,r=u,o=l;if(!n.isMounted){if(!i)return;t=m||c,r=y||u,o=v||l}let s=!1;const a=e._enterCb=t=>{s||(s=!0,b(t?o:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();b(h,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),b(n?p:d,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,f?(f(t,s),f.length<=1&&s()):s()},clone(e){return tn(e,t,n,r)}};return C}function nn(e){if(an(e))return e=nr(e),e.children=null,e}function rn(e){return an(e)?e.children?e.children[0]:void 0:e}function on(e,t){6&e.shapeFlag&&e.component?on(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sn(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===Bn?(128&o.patchFlag&&r++,n=n.concat(sn(o.children,t))):(t||o.type!==qn)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const an=e=>e.type.__isKeepAlive;RegExp,RegExp;function cn(e,t){return Object(r["n"])(e)?e.some(e=>cn(e,t)):Object(r["B"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function un(e,t){hn(e,"a",t)}function ln(e,t){hn(e,"da",t)}function hn(e,t,n=Or){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(Ut(t,r,n),n){let e=n.parent;while(e&&e.parent)an(e.parent.vnode)&&fn(r,t,n,e),e=e.parent}}function fn(e,t,n,i){const o=Ut(t,e,i,!0);Ft(()=>{Object(r["I"])(i[t],o)},n)}function dn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function pn(e){return 128&e.shapeFlag?e.ssContent:e}const gn=e=>"_"===e[0]||"$stable"===e,mn=e=>Object(r["n"])(e)?e.map(ir):[ir(e)],yn=(e,t,n)=>St(e=>mn(t(e)),n),vn=(e,t)=>{const n=e._ctx;for(const i in e){if(gn(i))continue;const o=e[i];if(Object(r["o"])(o))t[i]=yn(i,o,n);else if(null!=o){0;const e=mn(o);t[i]=()=>e}}},_n=(e,t)=>{const n=mn(t);e.slots.default=()=>n},En=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,Object(r["g"])(t,"_",n)):vn(t,e.slots={})}else e.slots={},t&&_n(e,t);Object(r["g"])(e.slots,Jn,1)},bn=(e,t)=>{const{vnode:n,slots:i}=e;let o=!0,s=r["b"];if(32&n.shapeFlag){const e=t._;e?1===e?o=!1:Object(r["h"])(i,t):(o=!t.$stable,vn(t,i)),s=t}else t&&(_n(e,t),s={default:1});if(o)for(const r in i)gn(r)||r in s||delete i[r]};function Cn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const c=a.dir[r];c&&Pe(c,n,8,[e.el,a,e,t])}}function Sn(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:r["c"],errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Tn=0;function Rn(e,t){return function(n,i=null){null==i||Object(r["u"])(i)||(i=null);const o=Sn(),s=new Set;let a=!1;const c=o.app={_uid:Tn++,_component:n,_props:i,_container:null,_context:o,version:Gr,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&Object(r["o"])(e.install)?(s.add(e),e.install(c,...t)):Object(r["o"])(e)&&(s.add(e),e(c,...t))),c},mixin(e){return o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0)),c},component(e,t){return t?(o.components[e]=t,c):o.components[e]},directive(e,t){return t?(o.directives[e]=t,c):o.directives[e]},mount(r,s){if(!a){const u=er(n,i);return u.appContext=o,s&&t?t(u,r):e(u,r),a=!0,c._container=r,r.__vue_app__=c,u.component.proxy}},unmount(){a&&e(null,c._container)},provide(e,t){return o.provides[e]=t,c}};return c}}function wn(){}function In(e){return Object(r["o"])(e)?{setup:e,name:e.name}:e}const On=e=>!!e.type.__asyncLoader;const Nn={scheduler:ze,allowRecurse:!0};const Mn=Et,xn=(e,t,n,i)=>{if(Object(r["n"])(e))return void e.forEach((e,o)=>xn(e,t&&(Object(r["n"])(t)?t[o]:t),n,i));let o;o=!i||On(i)?null:4&i.shapeFlag?i.component.exposed||i.component.proxy:i.el;const{i:s,r:a}=e;const c=t&&t.r,u=s.refs===r["b"]?s.refs={}:s.refs,l=s.setupState;if(null!=c&&c!==a&&(Object(r["B"])(c)?(u[c]=null,Object(r["k"])(l,c)&&(l[c]=null)):_e(c)&&(c.value=null)),Object(r["B"])(a)){const e=()=>{u[a]=o,Object(r["k"])(l,a)&&(l[a]=o)};o?(e.id=-1,Mn(e,n)):e()}else if(_e(a)){const e=()=>{a.value=o};o?(e.id=-1,Mn(e,n)):e()}else Object(r["o"])(a)&&xe(a,s,12,[o,u])};function Pn(e){return An(e)}function An(e,t){wn();const{insert:n,remove:i,patchProp:o,forcePatchProp:s,createElement:a,createText:c,createComment:u,setText:f,setElementText:d,parentNode:p,nextSibling:g,setScopeId:m=r["d"],cloneNode:y,insertStaticContent:v}=e,_=(e,t,n,r=null,i=null,o=null,s=!1,a=!1)=>{e&&!Qn(e,t)&&(r=K(e),q(e,i,o,!0),e=null),-2===t.patchFlag&&(a=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:l}=t;switch(c){case Fn:E(e,t,n,r);break;case qn:b(e,t,n,r);break;case Gn:null==e&&C(t,n,r,s);break;case Bn:P(e,t,n,r,i,o,s,a);break;default:1&l?R(e,t,n,r,i,o,s,a):6&l?A(e,t,n,r,i,o,s,a):(64&l||128&l)&&c.process(e,t,n,r,i,o,s,a,z)}null!=u&&i&&xn(u,e&&e.ref,o,t)},E=(e,t,r,i)=>{if(null==e)n(t.el=c(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&f(n,t.children)}},b=(e,t,r,i)=>{null==e?n(t.el=u(t.children||""),r,i):t.el=e.el},C=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r)},S=({el:e,anchor:t},r,i)=>{let o;while(e&&e!==t)o=g(e),n(e,r,i),e=o;n(t,r,i)},T=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=g(e),i(e),e=n;i(t)},R=(e,t,n,r,i,o,s,a)=>{s=s||"svg"===t.type,null==e?w(t,n,r,i,o,s,a):N(e,t,i,o,s,a)},w=(e,t,i,s,c,u,l)=>{let h,f;const{type:p,props:g,shapeFlag:m,transition:v,scopeId:_,patchFlag:E,dirs:b}=e;if(e.el&&void 0!==y&&-1===E)h=e.el=y(e.el);else{if(h=e.el=a(e.type,u,g&&g.is),8&m?d(h,e.children):16&m&&O(e.children,h,null,s,c,u&&"foreignObject"!==p,l||!!e.dynamicChildren),b&&Cn(e,null,s,"created"),g){for(const t in g)Object(r["x"])(t)||o(h,t,null,g[t],u,e.children,s,c,$);(f=g.onVnodeBeforeMount)&&Un(f,s,e)}I(h,_,e,s)}b&&Cn(e,null,s,"beforeMount");const C=(!c||c&&!c.pendingBranch)&&v&&!v.persisted;C&&v.beforeEnter(h),n(h,t,i),((f=g&&g.onVnodeMounted)||C||b)&&Mn(()=>{f&&Un(f,s,e),C&&v.enter(h),b&&Cn(e,null,s,"mounted")},c)},I=(e,t,n,r)=>{if(t&&m(e,t),r){const i=r.type.__scopeId;i&&i!==t&&m(e,i+"-s");let o=r.subTree;0,n===o&&I(e,r.vnode.scopeId,r.vnode,r.parent)}},O=(e,t,n,r,i,o,s,a=0)=>{for(let c=a;c<e.length;c++){const a=e[c]=s?or(e[c]):ir(e[c]);_(null,a,t,n,r,i,o,s)}},N=(e,t,n,i,a,c)=>{const u=t.el=e.el;let{patchFlag:l,dynamicChildren:h,dirs:f}=t;l|=16&e.patchFlag;const p=e.props||r["b"],g=t.props||r["b"];let m;if((m=g.onVnodeBeforeUpdate)&&Un(m,n,t,e),f&&Cn(t,e,n,"beforeUpdate"),l>0){if(16&l)x(u,t,p,g,n,i,a);else if(2&l&&p.class!==g.class&&o(u,"class",null,g.class,a),4&l&&o(u,"style",p.style,g.style,a),8&l){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const c=r[t],l=p[c],h=g[c];(h!==l||s&&s(u,c))&&o(u,c,l,h,a,e.children,n,i,$)}}1&l&&e.children!==t.children&&d(u,t.children)}else c||null!=h||x(u,t,p,g,n,i,a);const y=a&&"foreignObject"!==t.type;h?M(e.dynamicChildren,h,u,n,i,y):c||D(e,t,u,null,n,i,y),((m=g.onVnodeUpdated)||f)&&Mn(()=>{m&&Un(m,n,t,e),f&&Cn(t,e,n,"updated")},i)},M=(e,t,n,r,i,o)=>{for(let s=0;s<t.length;s++){const a=e[s],c=t[s],u=a.type===Bn||!Qn(a,c)||6&a.shapeFlag||64&a.shapeFlag?p(a.el):n;_(a,c,u,null,r,i,o,!0)}},x=(e,t,n,i,a,c,u)=>{if(n!==i){for(const l in i){if(Object(r["x"])(l))continue;const h=i[l],f=n[l];(h!==f||s&&s(e,l))&&o(e,l,f,h,u,t.children,a,c,$)}if(n!==r["b"])for(const s in n)Object(r["x"])(s)||s in i||o(e,s,n[s],null,u,t.children,a,c,$)}},P=(e,t,r,i,o,s,a,u)=>{const l=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:d}=t;f>0&&(u=!0),null==e?(n(l,r,i),n(h,r,i),O(t.children,r,h,o,s,a,u)):f>0&&64&f&&d&&e.dynamicChildren?(M(e.dynamicChildren,d,r,o,s,a),(null!=t.key||o&&t===o.subTree)&&Ln(e,t,!0)):D(e,t,r,h,o,s,a,u)},A=(e,t,n,r,i,o,s,a)=>{null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,a):U(t,n,r,i,o,s,a):L(e,t,a)},U=(e,t,n,r,i,o,s)=>{const a=e.component=Ir(e,r,i);if(an(e)&&(a.ctx.renderer=z),Ar(a),a.asyncDep){if(i&&i.registerDep(a,k),!e.el){const e=a.subTree=er(qn);b(null,e,t,n)}}else k(a,e,t,n,i,o,s)},L=(e,t,n)=>{const r=t.component=e.component;if(pt(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void j(r,t,n);r.next=t,Je(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},k=(e,t,n,i,o,s,a)=>{e.update=l((function(){if(e.isMounted){let t,{next:n,bu:i,u:c,parent:u,vnode:l}=e,h=n;0,n?(n.el=l.el,j(e,n,a)):n=l,i&&Object(r["m"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Un(t,u,n,l);const f=lt(e);0;const d=e.subTree;e.subTree=f,_(d,f,p(d.el),K(d),e,o,s),n.el=f.el,null===h&&mt(e,f.el),c&&Mn(c,o),(t=n.props&&n.props.onVnodeUpdated)&&Mn(()=>{Un(t,u,n,l)},o)}else{let a;const{el:c,props:u}=t,{bm:l,m:h,parent:f}=e;l&&Object(r["m"])(l),(a=u&&u.onVnodeBeforeMount)&&Un(a,f,t);const d=e.subTree=lt(e);if(c&&J?J(t.el,d,e,o):(_(null,d,n,i,e,o,s),t.el=d.el),h&&Mn(h,o),a=u&&u.onVnodeMounted){const e=t;Mn(()=>{Un(a,f,e)},o)}const{a:p}=e;p&&256&t.shapeFlag&&Mn(p,o),e.isMounted=!0,t=n=i=null}}),Nn)},j=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,wt(e,t.props,r,n),bn(e,t.children),tt(void 0,e.update)},D=(e,t,n,r,i,o,s,a=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,l=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void B(c,l,n,r,i,o,s,a);if(256&h)return void V(c,l,n,r,i,o,s,a)}8&f?(16&u&&$(c,i,o),l!==c&&d(n,l)):16&u?16&f?B(c,l,n,r,i,o,s,a):$(c,i,o,!0):(8&u&&d(n,""),16&f&&O(l,n,r,i,o,s,a))},V=(e,t,n,i,o,s,a,c)=>{e=e||r["a"],t=t||r["a"];const u=e.length,l=t.length,h=Math.min(u,l);let f;for(f=0;f<h;f++){const r=t[f]=c?or(t[f]):ir(t[f]);_(e[f],r,n,null,o,s,a,c)}u>l?$(e,o,s,!0,!1,h):O(t,n,i,o,s,a,c,h)},B=(e,t,n,i,o,s,a,c)=>{let u=0;const l=t.length;let h=e.length-1,f=l-1;while(u<=h&&u<=f){const r=e[u],i=t[u]=c?or(t[u]):ir(t[u]);if(!Qn(r,i))break;_(r,i,n,null,o,s,a,c),u++}while(u<=h&&u<=f){const r=e[h],i=t[f]=c?or(t[f]):ir(t[f]);if(!Qn(r,i))break;_(r,i,n,null,o,s,a,c),h--,f--}if(u>h){if(u<=f){const e=f+1,r=e<l?t[e].el:i;while(u<=f)_(null,t[u]=c?or(t[u]):ir(t[u]),n,r,o,s,a),u++}}else if(u>f)while(u<=h)q(e[u],o,s,!0),u++;else{const d=u,p=u,g=new Map;for(u=p;u<=f;u++){const e=t[u]=c?or(t[u]):ir(t[u]);null!=e.key&&g.set(e.key,u)}let m,y=0;const v=f-p+1;let E=!1,b=0;const C=new Array(v);for(u=0;u<v;u++)C[u]=0;for(u=d;u<=h;u++){const r=e[u];if(y>=v){q(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(m=p;m<=f;m++)if(0===C[m-p]&&Qn(r,t[m])){i=m;break}void 0===i?q(r,o,s,!0):(C[i-p]=u+1,i>=b?b=i:E=!0,_(r,t[i],n,null,o,s,a,c),y++)}const S=E?kn(C):r["a"];for(m=S.length-1,u=v-1;u>=0;u--){const e=p+u,r=t[e],c=e+1<l?t[e+1].el:i;0===C[u]?_(null,r,n,c,o,s,a):E&&(m<0||u!==S[m]?F(r,n,c,2):m--)}}},F=(e,t,r,i,o=null)=>{const{el:s,type:a,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void F(e.component.subTree,t,r,i);if(128&l)return void e.suspense.move(t,r,i);if(64&l)return void a.move(e,t,r,z);if(a===Bn){n(s,t,r);for(let e=0;e<u.length;e++)F(u[e],t,r,i);return void n(e.anchor,t,r)}if(a===Gn)return void S(e,t,r);const h=2!==i&&1&l&&c;if(h)if(0===i)c.beforeEnter(s),n(s,t,r),Mn(()=>c.enter(s),o);else{const{leave:e,delayLeave:i,afterLeave:o}=c,a=()=>n(s,t,r),u=()=>{e(s,()=>{a(),o&&o()})};i?i(s,a,u):u()}else n(s,t,r)},q=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:f}=e;if(null!=a&&xn(a,null,n,null),256&l)return void t.ctx.deactivate(e);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Un(p,t,e),6&l)H(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);d&&Cn(e,null,t,"beforeUnmount"),u&&(o!==Bn||h>0&&64&h)?$(u,t,n,!1,!0):(o===Bn&&(128&h||256&h)||!i&&16&l)&&$(c,t,n),64&l&&(r||!Dn(e.props))&&e.type.remove(e,z),r&&G(e)}((p=s&&s.onVnodeUnmounted)||d)&&Mn(()=>{p&&Un(p,t,e),d&&Cn(e,null,t,"unmounted")},n)},G=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Bn)return void Y(n,r);if(t===Gn)return void T(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},Y=(e,t)=>{let n;while(e!==t)n=g(e),i(e),e=n;i(t)},H=(e,t,n)=>{const{bum:i,effects:o,update:s,subTree:a,um:c}=e;if(i&&Object(r["m"])(i),o)for(let r=0;r<o.length;r++)h(o[r]);s&&(h(s),q(a,e,t,n)),c&&Mn(c,t),Mn(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},$=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)q(e[s],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),W=(e,t)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):_(t._vnode||null,e,t),nt(),t._vnode=e},z={p:_,um:q,m:F,r:G,mt:U,mc:O,pc:D,pbc:M,n:K,o:e};let Q,J;return t&&([Q,J]=t(z)),{render:W,hydrate:Q,createApp:Rn(W,Q)}}function Un(e,t,n,r=null){Pe(e,t,7,[n,r])}function Ln(e,t,n=!1){const i=e.children,o=t.children;if(Object(r["n"])(i)&&Object(r["n"])(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=or(o[r]),t.el=e.el),n||Ln(e,t))}}function kn(e){const t=e.slice(),n=[0];let r,i,o,s,a;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=(o+s)/2|0,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const jn=e=>e.__isTeleport,Dn=e=>e&&(e.disabled||""===e.disabled);const Vn=Symbol();const Bn=Symbol(void 0),Fn=Symbol(void 0),qn=Symbol(void 0),Gn=Symbol(void 0),Yn=[];let Hn=null;function $n(e=!1){Yn.push(Hn=e?null:[])}function Kn(){Yn.pop(),Hn=Yn[Yn.length-1]||null}let Wn=1;function zn(e){return!!e&&!0===e.__v_isVNode}function Qn(e,t){return e.type===t.type&&e.key===t.key}const Jn="__vInternal",Zn=({key:e})=>null!=e?e:null,Xn=({ref:e})=>null!=e?Object(r["B"])(e)||_e(e)||Object(r["o"])(e)?{i:ct,r:e}:e:null,er=tr;function tr(e,t=null,n=null,i=0,o=null,s=!1){if(e&&e!==Vn||(e=qn),zn(e)){const r=nr(e,t,!0);return n&&sr(r,n),r}if(Br(e)&&(e=e.__vccOpts),t){(me(t)||Jn in t)&&(t=Object(r["h"])({},t));let{class:e,style:n}=t;e&&!Object(r["B"])(e)&&(t.class=Object(r["G"])(e)),Object(r["u"])(n)&&(me(n)&&!Object(r["n"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["H"])(n))}const a=Object(r["B"])(e)?1:yt(e)?128:jn(e)?64:Object(r["u"])(e)?4:Object(r["o"])(e)?2:0;const c={__v_isVNode:!0,["__v_skip"]:!0,type:e,props:t,key:t&&Zn(t),ref:t&&Xn(t),scopeId:Tt,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(sr(c,n),128&a){const{content:e,fallback:t}=vt(c);c.ssContent=e,c.ssFallback=t}return Wn>0&&!s&&Hn&&(i>0||6&a)&&32!==i&&Hn.push(c),c}function nr(e,t,n=!1){const{props:i,ref:o,patchFlag:s}=e,a=t?ar(i||{},t):i;return{__v_isVNode:!0,["__v_skip"]:!0,type:e.type,props:a,key:a&&Zn(a),ref:t&&t.ref?n&&o?Object(r["n"])(o)?o.concat(Xn(t)):[o,Xn(t)]:Xn(t):o,scopeId:e.scopeId,children:e.children,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Bn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nr(e.ssContent),ssFallback:e.ssFallback&&nr(e.ssFallback),el:e.el,anchor:e.anchor}}function rr(e=" ",t=0){return er(Fn,null,e,t)}function ir(e){return null==e||"boolean"===typeof e?er(qn):Object(r["n"])(e)?er(Bn,null,e):"object"===typeof e?null===e.el?e:nr(e):er(Fn,null,String(e))}function or(e){return null===e.el?e:nr(e)}function sr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["n"])(t))n=16;else if("object"===typeof t){if(1&i||64&i){const n=t.default;return void(n&&(n._c&&Ct(1),sr(e,n()),n._c&&Ct(-1)))}{n=32;const r=t._;r||Jn in t?3===r&&ct&&(1024&ct.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=ct}}else Object(r["o"])(t)?(t={default:t,_ctx:ct},n=32):(t=String(t),64&i?(n=16,t=[rr(t)]):n=8);e.children=t,e.shapeFlag|=n}function ar(...e){const t=Object(r["h"])({},e[0]);for(let n=1;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["G"])([t.class,i.class]));else if("style"===e)t.style=Object(r["H"])([t.style,i.style]);else if(Object(r["v"])(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,i[e]):r)}else""!==e&&(t[e]=i[e])}return t}function cr(e,t){if(Or){let n=Or.provides;const r=Or.parent&&Or.parent.provides;r===n&&(n=Or.provides=Object.create(r)),n[e]=t}else 0}function ur(e,t,n=!1){const i=Or||ct;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(r["o"])(t)?t():t}else 0}let lr=!1;function hr(e,t,n=[],i=[],o=[],s=!1){const{mixins:a,extends:c,data:u,computed:l,methods:h,watch:f,provide:d,inject:p,components:g,directives:m,beforeMount:y,mounted:v,beforeUpdate:_,updated:E,activated:b,deactivated:C,beforeDestroy:S,beforeUnmount:T,destroyed:R,unmounted:w,render:I,renderTracked:O,renderTriggered:N,errorCaptured:M,expose:x}=t,P=e.proxy,A=e.ctx,U=e.appContext.mixins;s&&I&&e.render===r["d"]&&(e.render=I),s||(lr=!0,fr("beforeCreate","bc",t,e,U),lr=!1,gr(e,U,n,i,o)),c&&hr(e,c,n,i,o,!0),a&&gr(e,a,n,i,o);if(p)if(Object(r["n"])(p))for(let r=0;r<p.length;r++){const e=p[r];A[e]=ur(e)}else for(const L in p){const e=p[L];Object(r["u"])(e)?A[L]=ur(e.from||L,e.default,!0):A[L]=ur(e)}if(h)for(const L in h){const e=h[L];Object(r["o"])(e)&&(A[L]=e.bind(P))}if(s?u&&n.push(u):(n.length&&n.forEach(t=>mr(e,t,P)),u&&mr(e,u,P)),l)for(const L in l){const e=l[L],t=Object(r["o"])(e)?e.bind(P,P):Object(r["o"])(e.get)?e.get.bind(P,P):r["d"];0;const n=!Object(r["o"])(e)&&Object(r["o"])(e.set)?e.set.bind(P):r["d"],i=Fr({get:t,set:n});Object.defineProperty(A,L,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(f&&i.push(f),!s&&i.length&&i.forEach(e=>{for(const t in e)yr(e[t],A,P,t)}),d&&o.push(d),!s&&o.length&&o.forEach(e=>{const t=Object(r["o"])(e)?e.call(P):e;Reflect.ownKeys(t).forEach(e=>{cr(e,t[e])})}),s&&(g&&Object(r["h"])(e.components||(e.components=Object(r["h"])({},e.type.components)),g),m&&Object(r["h"])(e.directives||(e.directives=Object(r["h"])({},e.type.directives)),m)),s||fr("created","c",t,e,U),y&&kt(y.bind(P)),v&&jt(v.bind(P)),_&&Dt(_.bind(P)),E&&Vt(E.bind(P)),b&&un(b.bind(P)),C&&ln(C.bind(P)),M&&Yt(M.bind(P)),O&&Gt(O.bind(P)),N&&qt(N.bind(P)),T&&Bt(T.bind(P)),w&&Ft(w.bind(P)),Object(r["n"])(x))if(s)0;else if(x.length){const t=e.exposed||(e.exposed=we({}));x.forEach(e=>{t[e]=Oe(P,e)})}else e.exposed||(e.exposed=r["b"])}function fr(e,t,n,r,i){pr(e,t,i,r);const{extends:o,mixins:s}=n;o&&dr(e,t,o,r),s&&pr(e,t,s,r);const a=n[e];a&&Pe(a.bind(r.proxy),r,t)}function dr(e,t,n,r){n.extends&&dr(e,t,n.extends,r);const i=n[e];i&&Pe(i.bind(r.proxy),r,t)}function pr(e,t,n,r){for(let i=0;i<n.length;i++){const o=n[i].mixins;o&&pr(e,t,o,r);const s=n[i][e];s&&Pe(s.bind(r.proxy),r,t)}}function gr(e,t,n,r,i){for(let o=0;o<t.length;o++)hr(e,t[o],n,r,i,!0)}function mr(e,t,n){const i=t.call(n,n);Object(r["u"])(i)&&(e.data===r["b"]?e.data=le(i):Object(r["h"])(e.data,i))}function yr(e,t,n,i){const o=i.includes(".")?vr(n,i):()=>n[i];if(Object(r["B"])(e)){const n=t[e];Object(r["o"])(n)&&$t(o,n)}else if(Object(r["o"])(e))$t(o,e.bind(n));else if(Object(r["u"])(e))if(Object(r["n"])(e))e.forEach(e=>yr(e,t,n,i));else{const i=Object(r["o"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["o"])(i)&&$t(o,i,e)}else 0}function vr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function _r(e){const t=e.type,{__merged:n,mixins:r,extends:i}=t;if(n)return n;const o=e.appContext.mixins;if(!o.length&&!r&&!i)return t;const s={};return o.forEach(t=>Er(s,t,e)),Er(s,t,e),t.__merged=s}function Er(e,t,n){const i=n.appContext.config.optionMergeStrategies,{mixins:o,extends:s}=t;s&&Er(e,s,n),o&&o.forEach(t=>Er(e,t,n));for(const a in t)i&&Object(r["k"])(i,a)?e[a]=i[a](e[a],t[a],n.proxy,a):e[a]=t[a]}const br=e=>e&&(e.proxy?e.proxy:br(e.parent)),Cr=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>br(e.parent),$root:e=>e.root&&e.root.proxy,$emit:e=>e.emit,$options:e=>_r(e),$forceUpdate:e=>()=>ze(e.update),$nextTick:e=>We.bind(e.proxy),$watch:e=>Wt.bind(e)}),Sr={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=e;if("__v_skip"===t)return!0;let l;if("$"!==t[0]){const c=a[t];if(void 0!==c)switch(c){case 0:return i[t];case 1:return o[t];case 3:return n[t];case 2:return s[t]}else{if(i!==r["b"]&&Object(r["k"])(i,t))return a[t]=0,i[t];if(o!==r["b"]&&Object(r["k"])(o,t))return a[t]=1,o[t];if((l=e.propsOptions[0])&&Object(r["k"])(l,t))return a[t]=2,s[t];if(n!==r["b"]&&Object(r["k"])(n,t))return a[t]=3,n[t];lr||(a[t]=4)}}const h=Cr[t];let f,d;return h?("$attrs"===t&&E(e,"get",t),h(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==r["b"]&&Object(r["k"])(n,t)?(a[t]=3,n[t]):(d=u.config.globalProperties,Object(r["k"])(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;if(o!==r["b"]&&Object(r["k"])(o,t))o[t]=n;else if(i!==r["b"]&&Object(r["k"])(i,t))i[t]=n;else if(t in e.props)return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let c;return void 0!==n[a]||e!==r["b"]&&Object(r["k"])(e,a)||t!==r["b"]&&Object(r["k"])(t,a)||(c=s[0])&&Object(r["k"])(c,a)||Object(r["k"])(i,a)||Object(r["k"])(Cr,a)||Object(r["k"])(o.config.globalProperties,a)}};const Tr=Object(r["h"])({},Sr,{get(e,t){if(t!==Symbol.unscopables)return Sr.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(r["p"])(t);return n}});const Rr=Sn();let wr=0;function Ir(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Rr,s={uid:wr++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nt(i,o),emitsOptions:st(i,o),emit:null,emitted:null,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=ot.bind(null,s),s}let Or=null;const Nr=()=>Or||ct,Mr=e=>{Or=e};let xr,Pr=!1;function Ar(e,t=!1){Pr=t;const{props:n,children:r,shapeFlag:i}=e.vnode,o=4&i;Rt(e,n,o,t),En(e,r);const s=o?Ur(e,t):void 0;return Pr=!1,s}function Ur(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Sr);const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?jr(e):null;Or=e,y();const o=xe(i,e,0,[e.props,n]);if(_(),Or=null,Object(r["w"])(o)){if(t)return o.then(t=>{Lr(e,t)});e.asyncDep=o}else Lr(e,o)}else kr(e)}function Lr(e,t,n){Object(r["o"])(t)?e.render=t:Object(r["u"])(t)&&(e.setupState=we(t)),kr(e)}function kr(e,t){const n=e.type;e.render||(xr&&n.template&&!n.render&&(n.render=xr(n.template,{isCustomElement:e.appContext.config.isCustomElement,delimiters:n.delimiters})),e.render=n.render||r["d"],e.render._rc&&(e.withProxy=new Proxy(e.ctx,Tr))),Or=e,y(),hr(e,n),_(),Or=null}function jr(e){const t=t=>{e.exposed=we(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function Dr(e,t=Or){t&&(t.effects||(t.effects=[])).push(e)}function Vr(e){return Object(r["o"])(e)&&e.displayName||e.name}function Br(e){return Object(r["o"])(e)&&"__vccOpts"in e}function Fr(e){const t=Me(e);return Dr(t.effect),t}function qr(e,t,n){const i=arguments.length;return 2===i?Object(r["u"])(t)&&!Object(r["n"])(t)?zn(t)?er(e,null,[t]):er(e,t):er(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&zn(n)&&(n=[n]),er(e,t,n))}Symbol("");const Gr="3.0.5",Yr="http://www.w3.org/2000/svg",Hr="undefined"!==typeof document?document:null;let $r,Kr;const Wr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?Hr.createElementNS(Yr,e):Hr.createElement(e,n?{is:n}:void 0),createText:e=>Hr.createTextNode(e),createComment:e=>Hr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){return e.cloneNode(!0)},insertStaticContent(e,t,n,r){const i=r?Kr||(Kr=Hr.createElementNS(Yr,"svg")):$r||($r=Hr.createElement("div"));i.innerHTML=e;const o=i.firstChild;let s=o,a=s;while(s)a=s,Wr.insert(s,t,n),s=i.firstChild;return[o,a]}};function zr(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}function Qr(e,t,n){const i=e.style;if(n)if(Object(r["B"])(n))t!==n&&(i.cssText=n);else{for(const e in n)Zr(i,e,n[e]);if(t&&!Object(r["B"])(t))for(const e in t)null==n[e]&&Zr(i,e,"")}else e.removeAttribute("style")}const Jr=/\s*!important$/;function Zr(e,t,n){if(Object(r["n"])(n))n.forEach(n=>Zr(e,t,n));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=ti(e,t);Jr.test(n)?e.setProperty(Object(r["l"])(i),n.replace(Jr,""),"important"):e[i]=n}}const Xr=["Webkit","Moz","ms"],ei={};function ti(e,t){const n=ei[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return ei[t]=i;i=Object(r["f"])(i);for(let r=0;r<Xr.length;r++){const n=Xr[r]+i;if(n in e)return ei[t]=n}return t}const ni="http://www.w3.org/1999/xlink";function ri(e,t,n,i){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ni,t.slice(6,t.length)):e.setAttributeNS(ni,t,n);else{const i=Object(r["A"])(t);null==n||i&&!1===n?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function ii(e,t,n,r,i,o,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){0}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}let oi=Date.now;"undefined"!==typeof document&&oi()>document.createEvent("Event").timeStamp&&(oi=()=>performance.now());let si=0;const ai=Promise.resolve(),ci=()=>{si=0},ui=()=>si||(ai.then(ci),si=oi());function li(e,t,n,r){e.addEventListener(t,n,r)}function hi(e,t,n,r){e.removeEventListener(t,n,r)}function fi(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=pi(t);if(r){const s=o[t]=gi(r,i);li(e,n,s,a)}else s&&(hi(e,n,s,a),o[t]=void 0)}}const di=/(?:Once|Passive|Capture)$/;function pi(e){let t;if(di.test(e)){let n;t={};while(n=e.match(di))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e.slice(2).toLowerCase(),t]}function gi(e,t){const n=e=>{const r=e.timeStamp||oi();r>=n.attached-1&&Pe(mi(e,n.value),t,5,[e])};return n.value=e,n.attached=ui(),n}function mi(e,t){if(Object(r["n"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const yi=/^on[a-z]/,vi=(e,t)=>"value"===t,_i=(e,t,n,i,o=!1,s,a,c,u)=>{switch(t){case"class":zr(e,i,o);break;case"style":Qr(e,n,i);break;default:Object(r["v"])(t)?Object(r["t"])(t)||fi(e,t,n,i,a):Ei(e,t,i,o)?ii(e,t,i,s,a,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),ri(e,t,i,o));break}};function Ei(e,t,n,i){return i?"innerHTML"===t||!!(t in e&&yi.test(t)&&Object(r["o"])(n)):"spellcheck"!==t&&"draggable"!==t&&(("form"!==t||"string"!==typeof n)&&(("list"!==t||"INPUT"!==e.tagName)&&((!yi.test(t)||!Object(r["B"])(n))&&t in e)))}const bi="transition",Ci="animation",Si=(e,{slots:t})=>qr(Xt,Ri(e),t);Si.displayName="Transition";const Ti={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Si.props=Object(r["h"])({},Xt.props,Ti);function Ri(e){let{name:t="v",type:n,css:i=!0,duration:o,enterFromClass:s=t+"-enter-from",enterActiveClass:a=t+"-enter-active",enterToClass:c=t+"-enter-to",appearFromClass:u=s,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:f=t+"-leave-from",leaveActiveClass:d=t+"-leave-active",leaveToClass:p=t+"-leave-to"}=e;const g={};for(const r in e)r in Ti||(g[r]=e[r]);if(!i)return g;const m=wi(o),y=m&&m[0],v=m&&m[1],{onBeforeEnter:_,onEnter:E,onEnterCancelled:b,onLeave:C,onLeaveCancelled:S,onBeforeAppear:T=_,onAppear:R=E,onAppearCancelled:w=b}=g,I=(e,t,n)=>{Ni(e,t?h:c),Ni(e,t?l:a),n&&n()},O=(e,t)=>{Ni(e,p),Ni(e,d),t&&t()},N=e=>(t,r)=>{const i=e?R:E,o=()=>I(t,e,r);i&&i(t,o),Mi(()=>{Ni(t,e?u:s),Oi(t,e?h:c),i&&i.length>1||Pi(t,n,y,o)})};return Object(r["h"])(g,{onBeforeEnter(e){_&&_(e),Oi(e,s),Oi(e,a)},onBeforeAppear(e){T&&T(e),Oi(e,u),Oi(e,l)},onEnter:N(!1),onAppear:N(!0),onLeave(e,t){const r=()=>O(e,t);Oi(e,f),ki(),Oi(e,d),Mi(()=>{Ni(e,f),Oi(e,p),C&&C.length>1||Pi(e,n,v,r)}),C&&C(e,r)},onEnterCancelled(e){I(e,!1),b&&b(e)},onAppearCancelled(e){I(e,!0),w&&w(e)},onLeaveCancelled(e){O(e),S&&S(e)}})}function wi(e){if(null==e)return null;if(Object(r["u"])(e))return[Ii(e.enter),Ii(e.leave)];{const t=Ii(e);return[t,t]}}function Ii(e){const t=Object(r["K"])(e);return t}function Oi(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Ni(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Mi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xi=0;function Pi(e,t,n,r){const i=e._endId=++xi,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=Ai(e,t);if(!s)return r();const u=s+"end";let l=0;const h=()=>{e.removeEventListener(u,f),o()},f=t=>{t.target===e&&++l>=c&&h()};setTimeout(()=>{l<c&&h()},a+1),e.addEventListener(u,f)}function Ai(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(bi+"Delay"),o=r(bi+"Duration"),s=Ui(i,o),a=r(Ci+"Delay"),c=r(Ci+"Duration"),u=Ui(a,c);let l=null,h=0,f=0;t===bi?s>0&&(l=bi,h=s,f=o.length):t===Ci?u>0&&(l=Ci,h=u,f=c.length):(h=Math.max(s,u),l=h>0?s>u?bi:Ci:null,f=l?l===bi?o.length:c.length:0);const d=l===bi&&/\b(transform|all)(,|$)/.test(n[bi+"Property"]);return{type:l,timeout:h,propCount:f,hasTransform:d}}function Ui(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>Li(t)+Li(e[n])))}function Li(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ki(){return document.body.offsetHeight}new WeakMap,new WeakMap;const ji=Object(r["h"])({patchProp:_i,forcePatchProp:vi},Wr);let Di;function Vi(){return Di||(Di=Pn(ji))}const Bi=(...e)=>{const t=Vi().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=Fi(e);if(!i)return;const o=t._component;Object(r["o"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Fi(e){if(Object(r["B"])(e)){const t=document.querySelector(e);return t}return e}},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",f="<",d="prototype",p="script",g=l("IE_PROTO"),m=function(){},y=function(e){return f+p+h+e+f+"/"+p+h},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},E=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}E=r?v(r):_();var e=s.length;while(e--)delete E[d][s[e]];return E()};a[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[g]=e):n=E(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),y="keys",v="values",_="entries",E=function(){return this};e.exports=function(e,t,n,l,d,b,C){i(n,t,l);var S,T,R,w=function(e){if(e===d&&x)return x;if(!g&&e in N)return N[e];switch(e){case y:return function(){return new n(this,e)};case v:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",O=!1,N=e.prototype,M=N[m]||N["@@iterator"]||d&&N[d],x=!g&&M||w(d),P="Array"==t&&N.entries||M;if(P&&(S=o(P.call(new e)),p!==Object.prototype&&S.next&&(h||o(S)===p||(s?s(S,p):"function"!=typeof S[m]&&c(S,m,E)),a(S,I,!0,!0),h&&(f[I]=E))),d==v&&M&&M.name!==v&&(O=!0,x=function(){return M.call(this)}),h&&!C||N[m]===x||c(N,m,x),f[t]=x,d)if(T={values:w(v),keys:b?x:w(y),entries:w(_)},C)for(R in T)(g||O||!(R in N))&&u(N,R,T[R]);else r({target:t,proto:!0,forced:g||O},T);return T}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"88bc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;t.stack}r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new N(r||[]);return o._invoke=R(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function m(){}function y(){}function v(){}var _={};_[o]=function(){return this};var E=Object.getPrototypeOf,b=E&&E(E(M([])));b&&b!==n&&r.call(b,o)&&(_=b);var C=v.prototype=m.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function R(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return x()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=C.constructor=v,v.constructor=y,y.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,a,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new T(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(C),c(C,a,"Generator"),C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"9ab4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},"9ff4":function(e,t,n){"use strict";(function(e){function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return ee})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return re})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return z})),n.d(t,"m",(function(){return X})),n.d(t,"n",(function(){return x})),n.d(t,"o",(function(){return L})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return G})),n.d(t,"s",(function(){return P})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return R})),n.d(t,"w",(function(){return V})),n.d(t,"x",(function(){return Y})),n.d(t,"y",(function(){return m})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return a})),n.d(t,"B",(function(){return k})),n.d(t,"C",(function(){return j})),n.d(t,"D",(function(){return v})),n.d(t,"E",(function(){return _})),n.d(t,"F",(function(){return r})),n.d(t,"G",(function(){return f})),n.d(t,"H",(function(){return c})),n.d(t,"I",(function(){return O})),n.d(t,"J",(function(){return J})),n.d(t,"K",(function(){return te})),n.d(t,"L",(function(){return q}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function c(e){if(x(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=c(k(r)?h(r):r);if(i)for(const e in i)t[e]=i[e]}return t}if(D(e))return e}const u=/;(?![^(]*\))/g,l=/:(.+)/;function h(e){const t={};return e.split(u).forEach(e=>{if(e){const n=e.split(l);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function f(e){let t="";if(k(e))t=e;else if(x(e))for(let n=0;n<e.length;n++)t+=f(e[n])+" ";else if(D(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const d="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",p="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",g=r(d),m=r(p);function y(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=v(e[r],t[r]);return n}function v(e,t){if(e===t)return!0;let n=U(e),r=U(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=x(e),r=x(t),n||r)return!(!n||!r)&&y(e,t);if(n=D(e),r=D(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!v(e[n],t[n]))return!1}}return String(e)===String(t)}function _(e,t){return e.findIndex(e=>v(e,t))}const E={},b=[],C=()=>{},S=()=>!1,T=/^on[^a-z]/,R=e=>T.test(e),w=e=>e.startsWith("onUpdate:"),I=Object.assign,O=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},N=Object.prototype.hasOwnProperty,M=(e,t)=>N.call(e,t),x=Array.isArray,P=e=>"[object Map]"===F(e),A=e=>"[object Set]"===F(e),U=e=>e instanceof Date,L=e=>"function"===typeof e,k=e=>"string"===typeof e,j=e=>"symbol"===typeof e,D=e=>null!==e&&"object"===typeof e,V=e=>D(e)&&L(e.then)&&L(e.catch),B=Object.prototype.toString,F=e=>B.call(e),q=e=>F(e).slice(8,-1),G=e=>k(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Y=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,K=H(e=>e.replace($,(e,t)=>t?t.toUpperCase():"")),W=/\B([A-Z])/g,z=H(e=>e.replace(W,"-$1").toLowerCase()),Q=H(e=>e.charAt(0).toUpperCase()+e.slice(1)),J=H(e=>e?"on"+Q(e):""),Z=(e,t)=>e!==t&&(e===e||t===t),X=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ee=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{})}).call(this,n("c8ba"))},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,c=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a6e8:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}();function i(e){return null!==e&&"object"===typeof e}var o=n("d817"),s=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),a=s,c=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,s=n._parentOrParents,c=n._ctorUnsubscribe,l=n._unsubscribe,h=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var f=0;f<s.length;++f){var d=s[f];d.remove(this)}if(Object(o["a"])(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(m){t=m instanceof a?u(m.errors):[m]}}if(r(h)){f=-1;var p=h.length;while(++f<p){var g=h[f];if(i(g))try{g.unsubscribe()}catch(m){t=t||[],m instanceof a?t=t.concat(u(m.errors)):t.push(m)}}}if(t)throw new a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",a("Promise").prototype["finally"])},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,h=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,h)}))}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),c=n("9112"),u=n("5135"),l=n("b622"),h=n("c430"),f=l("iterator"),d=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):d=!0);var g=void 0==r||s((function(){var e={};return r[f].call(e)!==e}));g&&(r={}),h&&!g||u(r,f)||c(r,f,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b575:function(e,t,n){var r,i,o,s,a,c,u,l,h=n("da84"),f=n("06cf").f,d=n("2cf4").set,p=n("1cdc"),g=n("a4b4"),m=n("605d"),y=h.MutationObserver||h.WebKitMutationObserver,v=h.document,_=h.process,E=h.Promise,b=f(h,"queueMicrotask"),C=b&&b.value;C||(r=function(){var e,t;m&&(e=_.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},p||m||g||!y||!v?E&&E.resolve?(u=E.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=m?function(){_.nextTick(r)}:function(){d.call(h,r)}:(a=!0,c=v.createTextNode(""),new y(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=7==e,d=5==e||h;return function(p,g,m,y){for(var v,_,E=o(p),b=i(E),C=r(g,m,3),S=s(b.length),T=0,R=y||a,w=t?R(p,S):n||f?R(p,0):void 0;S>T;T++)if((d||T in b)&&(v=b[T],_=C(v,T,E),e))if(t)w[T]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:c.call(w,v)}else switch(e){case 4:return!1;case 7:c.call(w,v)}return h?-1:u||l?l:w}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},b8c6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("a6e8"),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r["a"](t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i["a"])},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d817:function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,"a",(function(){return r}))},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),c=s("map");r({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d44e"),g=n("2626"),m=n("861d"),y=n("1c0b"),v=n("19aa"),_=n("8925"),E=n("2266"),b=n("1c7e"),C=n("4840"),S=n("2cf4").set,T=n("b575"),R=n("cdf9"),w=n("44de"),I=n("f069"),O=n("e667"),N=n("69f3"),M=n("94ca"),x=n("b622"),P=n("605d"),A=n("2d00"),U=x("species"),L="Promise",k=N.get,j=N.set,D=N.getterFor(L),V=h,B=u.TypeError,F=u.document,q=u.process,G=l("fetch"),Y=I.f,H=Y,$=!!(F&&F.createEvent&&u.dispatchEvent),K="function"==typeof PromiseRejectionEvent,W="unhandledrejection",z="rejectionhandled",Q=0,J=1,Z=2,X=1,ee=2,te=M(L,(function(){var e=_(V)!==String(V);if(!e){if(66===A)return!0;if(!P&&!K)return!0}if(c&&!V.prototype["finally"])return!0;if(A>=51&&/native code/.test(V))return!1;var t=V.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[U]=n,!(t.then((function(){}))instanceof n)})),ne=te||!b((function(e){V.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){var r=e.value,i=e.state==J,o=0;while(n.length>o){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,f=u.reject,d=u.domain;try{l?(i||(e.rejection===ee&&ce(e),e.rejection=X),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?f(B("Promise-chain cycle")):(a=re(s))?a.call(s,h,f):h(s)):f(r)}catch(p){d&&!c&&d.exit(),f(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;$?(r=F.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!K&&(i=u["on"+e])?i(r):e===W&&w("Unhandled promise rejection",n)},se=function(e){S.call(u,(function(){var t,n=e.facade,r=e.value,i=ae(e);if(i&&(t=O((function(){P?q.emit("unhandledRejection",r,n):oe(W,n,r)})),e.rejection=P||ae(e)?ee:X,t.error))throw t.value}))},ae=function(e){return e.rejection!==X&&!e.parent},ce=function(e){S.call(u,(function(){var t=e.facade;P?q.emit("rejectionHandled",t):oe(z,t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Z,ie(e,!0))},he=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw B("Promise can't be resolved itself");var r=re(t);r?T((function(){var n={done:!1};try{r.call(t,ue(he,n,e),ue(le,n,e))}catch(i){le(n,i,e)}})):(e.value=t,e.state=J,ie(e,!1))}catch(i){le({done:!1},i,e)}}};te&&(V=function(e){v(this,V,L),y(e),r.call(this);var t=k(this);try{e(ue(he,t),ue(le,t))}catch(n){le(t,n)}},r=function(e){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},r.prototype=d(V.prototype,{then:function(e,t){var n=D(this),r=Y(C(this,V));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?q.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Q&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=k(e);this.promise=e,this.resolve=ue(he,t),this.reject=ue(le,t)},I.f=Y=function(e){return e===V||e===o?new i(e):H(e)},c||"function"!=typeof h||(s=h.prototype.then,f(h.prototype,"then",(function(e,t){var n=this;return new V((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return R(V,G.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:V}),p(V,L,!1,!0),g(L),o=l(L),a({target:L,stat:!0,forced:te},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:c||te},{resolve:function(e){return R(c&&this===o?V:this,e)}}),a({target:L,stat:!0,forced:ne},{all:function(e){var t=this,n=Y(t),r=n.resolve,i=n.reject,o=O((function(){var n=y(t.resolve),o=[],s=0,a=1;E(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Y(t),r=n.reject,i=O((function(){var i=y(t.resolve);E(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},e9a8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("88bc"),i=n("0ca4"),o={closed:!0,next:function(e){},error:function(e){if(r["a"].useDeprecatedSynchronousErrorHandling)throw e;Object(i["a"])(e)},complete:function(){}}},e9b9:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("1453");function i(e){while(e){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r["a"]?i:null}return!0}var o=n("2ff5"),s=n("e9a8");function a(e,t,n){if(e){if(e instanceof r["a"])return e;if(e[o["a"]])return e[o["a"]]()}return e||t||n?new r["a"](e,t,n):new r["a"](s["a"])}var c=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function u(e){return e}function l(e){return 0===e.length?u:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var h=n("88bc"),f=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=a(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||h["a"].useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h["a"].useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h["a"].useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return t=d(t),new t((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[c]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:l(e)(this)},e.prototype.toPromise=function(e){var t=this;return e=d(e),new e((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=h["a"].Promise||Promise),!e)throw new Error("no Promise impl found");return e}},ebb6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("1453");function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r["a"](t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i["a"])},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f20f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f5df1:function(e,t,n){},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.a4e0f356.js.map